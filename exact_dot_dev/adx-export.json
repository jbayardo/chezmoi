{"storeSnapshot":{"connectionPane":{"groups":{},"favorites":{"cbuild":"cbuild"},"connections":{"cbuild":{"clusterType":"Engine","alias":"CloudBuild","name":"cbuild","connectionString":"https://cbuild.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"cbuild/97112416df5e4ad5b89b9cc4a1bc7ad4":{"id":"cbuild/97112416df5e4ad5b89b9cc4a1bc7ad4","name":"97112416df5e4ad5b89b9cc4a1bc7ad4","prettyName":"CloudBuildCacheV3Statistics","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":3794,"majorVersion":7439},"cbuild/9ebb03296b044d68b0754132d4c46fdf":{"id":"cbuild/9ebb03296b044d68b0754132d4c46fdf","name":"9ebb03296b044d68b0754132d4c46fdf","prettyName":"CloudBuild VSTS Agent Task","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":457,"majorVersion":4848},"cbuild/b73924d6ec544e76a97c39510c054b21":{"id":"cbuild/b73924d6ec544e76a97c39510c054b21","name":"b73924d6ec544e76a97c39510c054b21","prettyName":"Domino","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":31441,"majorVersion":23174},"cbuild/CloudBuildCBTest":{"id":"cbuild/CloudBuildCBTest","name":"CloudBuildCBTest","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":30,"majorVersion":886199},"cbuild/CloudBuildCI":{"id":"cbuild/CloudBuildCI","name":"CloudBuildCI","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":2715,"majorVersion":5857},"cbuild/CloudBuildPPE":{"id":"cbuild/CloudBuildPPE","name":"CloudBuildPPE","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":2935},"cbuild/CloudBuildProd":{"id":"cbuild/CloudBuildProd","name":"CloudBuildProd","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":268,"majorVersion":4290253},"cbuild/TseAnalytics":{"id":"cbuild/TseAnalytics","name":"TseAnalytics","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":25035}},"id":"cbuild","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Azure Data Explorer"},"1es":{"clusterType":"Engine","alias":"CloudMine","name":"1es","connectionString":"https://1es.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"1es/1ESPTInsights":{"id":"1es/1ESPTInsights","name":"1ESPTInsights","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":40873},"1es/AzureActiveDirectory":{"id":"1es/AzureActiveDirectory","name":"AzureActiveDirectory","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":126,"majorVersion":15677},"1es/AzureDevOps":{"id":"1es/AzureDevOps","name":"AzureDevOps","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":17,"majorVersion":2597064},"1es/CloudMineFunctions":{"id":"1es/CloudMineFunctions","name":"CloudMineFunctions","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":599},"1es/CM-ADO-Internal":{"id":"1es/CM-ADO-Internal","name":"CM-ADO-Internal","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":80,"majorVersion":3384594},"1es/CommunityFunctionsDev":{"id":"1es/CommunityFunctionsDev","name":"CommunityFunctionsDev","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":267},"1es/DevCLI":{"id":"1es/DevCLI","name":"DevCLI","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":339,"majorVersion":370},"1es/GHPI":{"id":"1es/GHPI","name":"GHPI","prettyName":"GHAE","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":0,"majorVersion":583964},"1es/GitHub":{"id":"1es/GitHub","name":"GitHub","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":95,"majorVersion":1097787},"1es/GitHub.EMU":{"id":"1es/GitHub.EMU","name":"GitHub.EMU","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":5,"majorVersion":1290395},"1es/InnerSource":{"id":"1es/InnerSource","name":"InnerSource","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":31,"majorVersion":22850},"1es/OExpKiteServerConfigs":{"id":"1es/OExpKiteServerConfigs","name":"OExpKiteServerConfigs","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":1,"majorVersion":6991},"1es/Sankie":{"id":"1es/Sankie","name":"Sankie","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":11,"majorVersion":364760},"1es/SecCompEng":{"id":"1es/SecCompEng","name":"SecCompEng","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":1481334},"1es/StackOverflowAtMicrosoft":{"id":"1es/StackOverflowAtMicrosoft","name":"StackOverflowAtMicrosoft","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":2,"majorVersion":830388},"1es/WCP":{"id":"1es/WCP","name":"WCP","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":157697}},"id":"1es","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Azure Data Explorer"},"apdmdata":{"clusterType":"Engine","alias":"AutoPilot","name":"apdmdata","connectionString":"https://apdmdata.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"apdmdata/DeviceManager":{"id":"apdmdata/DeviceManager","name":"DeviceManager","fetchState":"done","fetchStateError":"","tables":{"apdmdata/DeviceManager/Env_MachineProperties":{"id":"apdmdata/DeviceManager/Env_MachineProperties","entityType":"Table","name":"Env_MachineProperties","columns":{"apdmdata/0/0/0":{"id":"apdmdata/0/0/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/0/1":{"id":"apdmdata/0/0/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/0/2":{"id":"apdmdata/0/0/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/0/3":{"id":"apdmdata/0/0/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/0/4":{"id":"apdmdata/0/0/4","name":"Level","entityType":"Column","type":"string"},"apdmdata/0/0/5":{"id":"apdmdata/0/0/5","name":"Property","entityType":"Column","type":"string"},"apdmdata/0/0/6":{"id":"apdmdata/0/0/6","name":"Value","entityType":"Column","type":"string"},"apdmdata/0/0/7":{"id":"apdmdata/0/0/7","name":"LastUpdatedAt","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/Env_Environment":{"id":"apdmdata/DeviceManager/Env_Environment","entityType":"Table","name":"Env_Environment","columns":{"apdmdata/0/1/0":{"id":"apdmdata/0/1/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/1/1":{"id":"apdmdata/0/1/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/1/2":{"id":"apdmdata/0/1/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/1/3":{"id":"apdmdata/0/1/3","name":"Property","entityType":"Column","type":"string"},"apdmdata/0/1/4":{"id":"apdmdata/0/1/4","name":"Contact","entityType":"Column","type":"string"},"apdmdata/0/1/5":{"id":"apdmdata/0/1/5","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/1/6":{"id":"apdmdata/0/1/6","name":"GroupName","entityType":"Column","type":"string"},"apdmdata/0/1/7":{"id":"apdmdata/0/1/7","name":"Team","entityType":"Column","type":"string"},"apdmdata/0/1/8":{"id":"apdmdata/0/1/8","name":"Feature","entityType":"Column","type":"string"},"apdmdata/0/1/9":{"id":"apdmdata/0/1/9","name":"Finance","entityType":"Column","type":"string"},"apdmdata/0/1/10":{"id":"apdmdata/0/1/10","name":"ManaTree","entityType":"Column","type":"string"},"apdmdata/0/1/11":{"id":"apdmdata/0/1/11","name":"ServiceTreeID","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_ErrorMachineProperties":{"id":"apdmdata/DeviceManager/Env_ErrorMachineProperties","entityType":"Table","name":"Env_ErrorMachineProperties","columns":{"apdmdata/0/2/0":{"id":"apdmdata/0/2/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/2/1":{"id":"apdmdata/0/2/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/2/2":{"id":"apdmdata/0/2/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/2/3":{"id":"apdmdata/0/2/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/2/4":{"id":"apdmdata/0/2/4","name":"Level","entityType":"Column","type":"string"},"apdmdata/0/2/5":{"id":"apdmdata/0/2/5","name":"Property","entityType":"Column","type":"string"},"apdmdata/0/2/6":{"id":"apdmdata/0/2/6","name":"Value","entityType":"Column","type":"string"},"apdmdata/0/2/7":{"id":"apdmdata/0/2/7","name":"LastUpdatedAt","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/Metadata_IterationStatus":{"id":"apdmdata/DeviceManager/Metadata_IterationStatus","entityType":"Table","name":"Metadata_IterationStatus","columns":{"apdmdata/0/3/0":{"id":"apdmdata/0/3/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/3/1":{"id":"apdmdata/0/3/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/3/2":{"id":"apdmdata/0/3/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/3/3":{"id":"apdmdata/0/3/3","name":"ExtractedDataInKB","entityType":"Column","type":"int"},"apdmdata/0/3/4":{"id":"apdmdata/0/3/4","name":"ExtractionTime","entityType":"Column","type":"timespan"},"apdmdata/0/3/5":{"id":"apdmdata/0/3/5","name":"ExtractionResult","entityType":"Column","type":"string"},"apdmdata/0/3/6":{"id":"apdmdata/0/3/6","name":"Message","entityType":"Column","type":"string"},"apdmdata/0/3/7":{"id":"apdmdata/0/3/7","name":"TableName","entityType":"Column","type":"string"},"apdmdata/0/3/8":{"id":"apdmdata/0/3/8","name":"Checkpoint","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_PodList":{"id":"apdmdata/DeviceManager/Cluster_PodList","entityType":"Table","name":"Cluster_PodList","columns":{"apdmdata/0/4/0":{"id":"apdmdata/0/4/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/4/1":{"id":"apdmdata/0/4/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/4/2":{"id":"apdmdata/0/4/2","name":"PodName","entityType":"Column","type":"string"},"apdmdata/0/4/3":{"id":"apdmdata/0/4/3","name":"RackName","entityType":"Column","type":"string"},"apdmdata/0/4/4":{"id":"apdmdata/0/4/4","name":"Location","entityType":"Column","type":"string"},"apdmdata/0/4/5":{"id":"apdmdata/0/4/5","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/4/6":{"id":"apdmdata/0/4/6","name":"DeploymentId","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_Machines":{"id":"apdmdata/DeviceManager/Env_Machines","entityType":"Table","name":"Env_Machines","columns":{"apdmdata/0/5/0":{"id":"apdmdata/0/5/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/5/1":{"id":"apdmdata/0/5/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/5/2":{"id":"apdmdata/0/5/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/5/3":{"id":"apdmdata/0/5/3","name":"machineName","entityType":"Column","type":"string"},"apdmdata/0/5/4":{"id":"apdmdata/0/5/4","name":"physicalMachineName","entityType":"Column","type":"string"},"apdmdata/0/5/5":{"id":"apdmdata/0/5/5","name":"podName","entityType":"Column","type":"string"},"apdmdata/0/5/6":{"id":"apdmdata/0/5/6","name":"scaleunit","entityType":"Column","type":"long"},"apdmdata/0/5/7":{"id":"apdmdata/0/5/7","name":"port","entityType":"Column","type":"int"},"apdmdata/0/5/8":{"id":"apdmdata/0/5/8","name":"imageName","entityType":"Column","type":"string"},"apdmdata/0/5/9":{"id":"apdmdata/0/5/9","name":"SKU","entityType":"Column","type":"string"},"apdmdata/0/5/10":{"id":"apdmdata/0/5/10","name":"machineFunction","entityType":"Column","type":"string"},"apdmdata/0/5/11":{"id":"apdmdata/0/5/11","name":"status","entityType":"Column","type":"string"},"apdmdata/0/5/12":{"id":"apdmdata/0/5/12","name":"statusO","entityType":"Column","type":"string"},"apdmdata/0/5/13":{"id":"apdmdata/0/5/13","name":"serverPoolState","entityType":"Column","type":"string"},"apdmdata/0/5/14":{"id":"apdmdata/0/5/14","name":"successTimeoutInSeconds","entityType":"Column","type":"int"},"apdmdata/0/5/15":{"id":"apdmdata/0/5/15","name":"failureEndsAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/16":{"id":"apdmdata/0/5/16","name":"lastErrorAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/17":{"id":"apdmdata/0/5/17","name":"minFailureEndsAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/18":{"id":"apdmdata/0/5/18","name":"asset","entityType":"Column","type":"string"},"apdmdata/0/5/19":{"id":"apdmdata/0/5/19","name":"macaddress","entityType":"Column","type":"string"},"apdmdata/0/5/20":{"id":"apdmdata/0/5/20","name":"serial","entityType":"Column","type":"string"},"apdmdata/0/5/21":{"id":"apdmdata/0/5/21","name":"model","entityType":"Column","type":"string"},"apdmdata/0/5/22":{"id":"apdmdata/0/5/22","name":"lastMacAddressChangedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/23":{"id":"apdmdata/0/5/23","name":"repair","entityType":"Column","type":"string"},"apdmdata/0/5/24":{"id":"apdmdata/0/5/24","name":"repairRequestedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/25":{"id":"apdmdata/0/5/25","name":"staticIP","entityType":"Column","type":"string"},"apdmdata/0/5/26":{"id":"apdmdata/0/5/26","name":"physicalIP","entityType":"Column","type":"string"},"apdmdata/0/5/27":{"id":"apdmdata/0/5/27","name":"IPv6","entityType":"Column","type":"string"},"apdmdata/0/5/28":{"id":"apdmdata/0/5/28","name":"serviceList","entityType":"Column","type":"string"},"apdmdata/0/5/29":{"id":"apdmdata/0/5/29","name":"prepareServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/30":{"id":"apdmdata/0/5/30","name":"lastServiceListChangedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/31":{"id":"apdmdata/0/5/31","name":"currentServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/32":{"id":"apdmdata/0/5/32","name":"currentPrepareServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/33":{"id":"apdmdata/0/5/33","name":"lastServiceStatusReportedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/34":{"id":"apdmdata/0/5/34","name":"nextServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/35":{"id":"apdmdata/0/5/35","name":"nextPrepareServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/36":{"id":"apdmdata/0/5/36","name":"repairActionState","entityType":"Column","type":"string"},"apdmdata/0/5/37":{"id":"apdmdata/0/5/37","name":"RMUnit","entityType":"Column","type":"string"},"apdmdata/0/5/38":{"id":"apdmdata/0/5/38","name":"PWUnit","entityType":"Column","type":"string"},"apdmdata/0/5/39":{"id":"apdmdata/0/5/39","name":"freeze","entityType":"Column","type":"int"},"apdmdata/0/5/40":{"id":"apdmdata/0/5/40","name":"repairProceedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/41":{"id":"apdmdata/0/5/41","name":"repairAssignedAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/42":{"id":"apdmdata/0/5/42","name":"rmaCount","entityType":"Column","type":"int"},"apdmdata/0/5/43":{"id":"apdmdata/0/5/43","name":"victimRmaCount","entityType":"Column","type":"int"},"apdmdata/0/5/44":{"id":"apdmdata/0/5/44","name":"firstRmaStateChangeAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/45":{"id":"apdmdata/0/5/45","name":"lastError","entityType":"Column","type":"string"},"apdmdata/0/5/46":{"id":"apdmdata/0/5/46","name":"accepted","entityType":"Column","type":"int"},"apdmdata/0/5/47":{"id":"apdmdata/0/5/47","name":"isDynamic","entityType":"Column","type":"int"},"apdmdata/0/5/48":{"id":"apdmdata/0/5/48","name":"isServer","entityType":"Column","type":"int"},"apdmdata/0/5/49":{"id":"apdmdata/0/5/49","name":"machineType","entityType":"Column","type":"string"},"apdmdata/0/5/50":{"id":"apdmdata/0/5/50","name":"priority","entityType":"Column","type":"string"},"apdmdata/0/5/51":{"id":"apdmdata/0/5/51","name":"azureNodeId","entityType":"Column","type":"string"},"apdmdata/0/5/52":{"id":"apdmdata/0/5/52","name":"repairId","entityType":"Column","type":"long"},"apdmdata/0/5/53":{"id":"apdmdata/0/5/53","name":"mrJobId","entityType":"Column","type":"string"},"apdmdata/0/5/54":{"id":"apdmdata/0/5/54","name":"inExternalMonitoring","entityType":"Column","type":"int"},"apdmdata/0/5/55":{"id":"apdmdata/0/5/55","name":"externallyMonitoredRepair","entityType":"Column","type":"string"},"apdmdata/0/5/56":{"id":"apdmdata/0/5/56","name":"desiredPod","entityType":"Column","type":"string"},"apdmdata/0/5/57":{"id":"apdmdata/0/5/57","name":"omServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/58":{"id":"apdmdata/0/5/58","name":"omPrepareServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/59":{"id":"apdmdata/0/5/59","name":"omNextServiceList","entityType":"Column","type":"string"},"apdmdata/0/5/60":{"id":"apdmdata/0/5/60","name":"repairImpact","entityType":"Column","type":"string"},"apdmdata/0/5/61":{"id":"apdmdata/0/5/61","name":"azureRoleInstanceName","entityType":"Column","type":"string"},"apdmdata/0/5/62":{"id":"apdmdata/0/5/62","name":"staticMachineFunction","entityType":"Column","type":"string"},"apdmdata/0/5/63":{"id":"apdmdata/0/5/63","name":"staticScaleUnit","entityType":"Column","type":"long"},"apdmdata/0/5/64":{"id":"apdmdata/0/5/64","name":"requestedSKU","entityType":"Column","type":"string"},"apdmdata/0/5/65":{"id":"apdmdata/0/5/65","name":"hostMachineName","entityType":"Column","type":"string"},"apdmdata/0/5/66":{"id":"apdmdata/0/5/66","name":"desiredContainerList","entityType":"Column","type":"string"},"apdmdata/0/5/67":{"id":"apdmdata/0/5/67","name":"currentContainerList","entityType":"Column","type":"string"},"apdmdata/0/5/68":{"id":"apdmdata/0/5/68","name":"sdnMachineSet","entityType":"Column","type":"string"},"apdmdata/0/5/69":{"id":"apdmdata/0/5/69","name":"endorsementKey","entityType":"Column","type":"string"},"apdmdata/0/5/70":{"id":"apdmdata/0/5/70","name":"azureSkuId","entityType":"Column","type":"string"},"apdmdata/0/5/71":{"id":"apdmdata/0/5/71","name":"customHardwareManager","entityType":"Column","type":"string"},"apdmdata/0/5/72":{"id":"apdmdata/0/5/72","name":"resources","entityType":"Column","type":"string"},"apdmdata/0/5/73":{"id":"apdmdata/0/5/73","name":"zombieStatus","entityType":"Column","type":"string"},"apdmdata/0/5/74":{"id":"apdmdata/0/5/74","name":"kubeClusterName","entityType":"Column","type":"string"},"apdmdata/0/5/75":{"id":"apdmdata/0/5/75","name":"createdAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/76":{"id":"apdmdata/0/5/76","name":"rackName","entityType":"Column","type":"string"},"apdmdata/0/5/77":{"id":"apdmdata/0/5/77","name":"IPv4Reuse","entityType":"Column","type":"bool"},"apdmdata/0/5/78":{"id":"apdmdata/0/5/78","name":"NetworkScope","entityType":"Column","type":"string"},"apdmdata/0/5/79":{"id":"apdmdata/0/5/79","name":"FabricCluster","entityType":"Column","type":"string"},"apdmdata/0/5/80":{"id":"apdmdata/0/5/80","name":"BladeId","entityType":"Column","type":"string"},"apdmdata/0/5/81":{"id":"apdmdata/0/5/81","name":"rackSkuId","entityType":"Column","type":"string"},"apdmdata/0/5/82":{"id":"apdmdata/0/5/82","name":"bladeSkuId","entityType":"Column","type":"string"},"apdmdata/0/5/83":{"id":"apdmdata/0/5/83","name":"machineGroup","entityType":"Column","type":"string"},"apdmdata/0/5/84":{"id":"apdmdata/0/5/84","name":"hasBeenFullyReimaged","entityType":"Column","type":"bool"},"apdmdata/0/5/85":{"id":"apdmdata/0/5/85","name":"IsSyncedFromAzDcm","entityType":"Column","type":"bool"},"apdmdata/0/5/86":{"id":"apdmdata/0/5/86","name":"logicalIPv6","entityType":"Column","type":"string"},"apdmdata/0/5/87":{"id":"apdmdata/0/5/87","name":"resourceId","entityType":"Column","type":"string"},"apdmdata/0/5/88":{"id":"apdmdata/0/5/88","name":"vlan","entityType":"Column","type":"string"},"apdmdata/0/5/89":{"id":"apdmdata/0/5/89","name":"nsmContainerId","entityType":"Column","type":"string"},"apdmdata/0/5/90":{"id":"apdmdata/0/5/90","name":"nsmRoleInstanceId","entityType":"Column","type":"string"},"apdmdata/0/5/91":{"id":"apdmdata/0/5/91","name":"isAssignedInOneSdn","entityType":"Column","type":"bool"},"apdmdata/0/5/92":{"id":"apdmdata/0/5/92","name":"IPv6Gateway","entityType":"Column","type":"string"},"apdmdata/0/5/93":{"id":"apdmdata/0/5/93","name":"IPv6InfraPrefix","entityType":"Column","type":"string"},"apdmdata/0/5/94":{"id":"apdmdata/0/5/94","name":"IPv6Network","entityType":"Column","type":"string"},"apdmdata/0/5/95":{"id":"apdmdata/0/5/95","name":"logicalIPv4Reuse","entityType":"Column","type":"bool"},"apdmdata/0/5/96":{"id":"apdmdata/0/5/96","name":"IsIPv4Required","entityType":"Column","type":"bool"},"apdmdata/0/5/97":{"id":"apdmdata/0/5/97","name":"InfraIPv4List","entityType":"Column","type":"string"},"apdmdata/0/5/98":{"id":"apdmdata/0/5/98","name":"LowAvailability","entityType":"Column","type":"bool"},"apdmdata/0/5/99":{"id":"apdmdata/0/5/99","name":"lastHealthyAt","entityType":"Column","type":"datetime"},"apdmdata/0/5/100":{"id":"apdmdata/0/5/100","name":"lastFullReimageAt","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/Cluster_Environments":{"id":"apdmdata/DeviceManager/Cluster_Environments","entityType":"Table","name":"Cluster_Environments","columns":{"apdmdata/0/6/0":{"id":"apdmdata/0/6/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/6/1":{"id":"apdmdata/0/6/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/6/2":{"id":"apdmdata/0/6/2","name":"Environment","entityType":"Column","type":"string"},"apdmdata/0/6/3":{"id":"apdmdata/0/6/3","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/6/4":{"id":"apdmdata/0/6/4","name":"CreationDate","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_AzureVmInfo":{"id":"apdmdata/DeviceManager/Env_AzureVmInfo","entityType":"Table","name":"Env_AzureVmInfo","columns":{"apdmdata/0/7/0":{"id":"apdmdata/0/7/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/7/1":{"id":"apdmdata/0/7/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/7/2":{"id":"apdmdata/0/7/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/7/3":{"id":"apdmdata/0/7/3","name":"vmInstanceName","entityType":"Column","type":"string"},"apdmdata/0/7/4":{"id":"apdmdata/0/7/4","name":"fabricCluster","entityType":"Column","type":"string"},"apdmdata/0/7/5":{"id":"apdmdata/0/7/5","name":"dataCenter","entityType":"Column","type":"string"},"apdmdata/0/7/6":{"id":"apdmdata/0/7/6","name":"rack","entityType":"Column","type":"string"},"apdmdata/0/7/7":{"id":"apdmdata/0/7/7","name":"nodeId","entityType":"Column","type":"string"},"apdmdata/0/7/8":{"id":"apdmdata/0/7/8","name":"containerId","entityType":"Column","type":"string"},"apdmdata/0/7/9":{"id":"apdmdata/0/7/9","name":"row","entityType":"Column","type":"string"},"apdmdata/0/7/10":{"id":"apdmdata/0/7/10","name":"tenantId","entityType":"Column","type":"string"},"apdmdata/0/7/11":{"id":"apdmdata/0/7/11","name":"availabilityZone","entityType":"Column","type":"string"},"apdmdata/0/7/12":{"id":"apdmdata/0/7/12","name":"logicalFaultDomain","entityType":"Column","type":"string"},"apdmdata/0/7/13":{"id":"apdmdata/0/7/13","name":"placementGroup","entityType":"Column","type":"string"},"apdmdata/0/7/14":{"id":"apdmdata/0/7/14","name":"isAzapCluster","entityType":"Column","type":"int"},"apdmdata/0/7/15":{"id":"apdmdata/0/7/15","name":"podName","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_Cookie":{"id":"apdmdata/DeviceManager/Env_Cookie","entityType":"Table","name":"Env_Cookie","columns":{"apdmdata/0/8/0":{"id":"apdmdata/0/8/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/8/1":{"id":"apdmdata/0/8/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/8/2":{"id":"apdmdata/0/8/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/8/3":{"id":"apdmdata/0/8/3","name":"cookie","entityType":"Column","type":"long"},"apdmdata/0/8/4":{"id":"apdmdata/0/8/4","name":"decree","entityType":"Column","type":"long"},"apdmdata/0/8/5":{"id":"apdmdata/0/8/5","name":"dmVersion","entityType":"Column","type":"int"},"apdmdata/0/8/6":{"id":"apdmdata/0/8/6","name":"amBootstrapCookie","entityType":"Column","type":"long"},"apdmdata/0/8/7":{"id":"apdmdata/0/8/7","name":"hasMachine","entityType":"Column","type":"int"},"apdmdata/0/8/8":{"id":"apdmdata/0/8/8","name":"hasStaticPartitionGroup","entityType":"Column","type":"int"},"apdmdata/0/8/9":{"id":"apdmdata/0/8/9","name":"hasLocalPartition","entityType":"Column","type":"int"},"apdmdata/0/8/10":{"id":"apdmdata/0/8/10","name":"hasGlobalPartition","entityType":"Column","type":"int"}}},"apdmdata/DeviceManager/Cluster_Clusters":{"id":"apdmdata/DeviceManager/Cluster_Clusters","entityType":"Table","name":"Cluster_Clusters","columns":{"apdmdata/0/9/0":{"id":"apdmdata/0/9/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/9/1":{"id":"apdmdata/0/9/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/9/2":{"id":"apdmdata/0/9/2","name":"Cluster","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_AuditsWithCookie":{"id":"apdmdata/DeviceManager/Env_AuditsWithCookie","entityType":"Table","name":"Env_AuditsWithCookie","columns":{"apdmdata/0/10/0":{"id":"apdmdata/0/10/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/10/1":{"id":"apdmdata/0/10/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/10/2":{"id":"apdmdata/0/10/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/10/3":{"id":"apdmdata/0/10/3","name":"AmCookie","entityType":"Column","type":"long"},"apdmdata/0/10/4":{"id":"apdmdata/0/10/4","name":"AuditId","entityType":"Column","type":"long"},"apdmdata/0/10/5":{"id":"apdmdata/0/10/5","name":"AuditAt","entityType":"Column","type":"datetime"},"apdmdata/0/10/6":{"id":"apdmdata/0/10/6","name":"Category","entityType":"Column","type":"string"},"apdmdata/0/10/7":{"id":"apdmdata/0/10/7","name":"Param1","entityType":"Column","type":"string"},"apdmdata/0/10/8":{"id":"apdmdata/0/10/8","name":"Param2","entityType":"Column","type":"string"},"apdmdata/0/10/9":{"id":"apdmdata/0/10/9","name":"Param3","entityType":"Column","type":"string"},"apdmdata/0/10/10":{"id":"apdmdata/0/10/10","name":"Param4","entityType":"Column","type":"string"},"apdmdata/0/10/11":{"id":"apdmdata/0/10/11","name":"Param5","entityType":"Column","type":"string"},"apdmdata/0/10/12":{"id":"apdmdata/0/10/12","name":"Param6","entityType":"Column","type":"string"},"apdmdata/0/10/13":{"id":"apdmdata/0/10/13","name":"Param7","entityType":"Column","type":"string"},"apdmdata/0/10/14":{"id":"apdmdata/0/10/14","name":"Param8","entityType":"Column","type":"string"},"apdmdata/0/10/15":{"id":"apdmdata/0/10/15","name":"Param9","entityType":"Column","type":"string"},"apdmdata/0/10/16":{"id":"apdmdata/0/10/16","name":"Param10","entityType":"Column","type":"string"},"apdmdata/0/10/17":{"id":"apdmdata/0/10/17","name":"Param11","entityType":"Column","type":"string"},"apdmdata/0/10/18":{"id":"apdmdata/0/10/18","name":"Param12","entityType":"Column","type":"string"},"apdmdata/0/10/19":{"id":"apdmdata/0/10/19","name":"Param13","entityType":"Column","type":"string"},"apdmdata/0/10/20":{"id":"apdmdata/0/10/20","name":"Param14","entityType":"Column","type":"string"},"apdmdata/0/10/21":{"id":"apdmdata/0/10/21","name":"Param15","entityType":"Column","type":"string"},"apdmdata/0/10/22":{"id":"apdmdata/0/10/22","name":"Param16","entityType":"Column","type":"string"},"apdmdata/0/10/23":{"id":"apdmdata/0/10/23","name":"Param17","entityType":"Column","type":"string"},"apdmdata/0/10/24":{"id":"apdmdata/0/10/24","name":"Param18","entityType":"Column","type":"string"},"apdmdata/0/10/25":{"id":"apdmdata/0/10/25","name":"Param19","entityType":"Column","type":"string"},"apdmdata/0/10/26":{"id":"apdmdata/0/10/26","name":"Param20","entityType":"Column","type":"string"},"apdmdata/0/10/27":{"id":"apdmdata/0/10/27","name":"Details","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_GeneralInfo":{"id":"apdmdata/DeviceManager/Cluster_GeneralInfo","entityType":"Table","name":"Cluster_GeneralInfo","columns":{"apdmdata/0/11/0":{"id":"apdmdata/0/11/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/11/1":{"id":"apdmdata/0/11/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/11/2":{"id":"apdmdata/0/11/2","name":"Purpose","entityType":"Column","type":"string"},"apdmdata/0/11/3":{"id":"apdmdata/0/11/3","name":"DataCenter","entityType":"Column","type":"string"},"apdmdata/0/11/4":{"id":"apdmdata/0/11/4","name":"Created","entityType":"Column","type":"datetime"},"apdmdata/0/11/5":{"id":"apdmdata/0/11/5","name":"Region","entityType":"Column","type":"string"},"apdmdata/0/11/6":{"id":"apdmdata/0/11/6","name":"RegionId","entityType":"Column","type":"string"},"apdmdata/0/11/7":{"id":"apdmdata/0/11/7","name":"AvailabilityZone","entityType":"Column","type":"string"},"apdmdata/0/11/8":{"id":"apdmdata/0/11/8","name":"IsClusterActive","entityType":"Column","type":"bool"},"apdmdata/0/11/9":{"id":"apdmdata/0/11/9","name":"ClusterAliases","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_AllMachineProperties":{"id":"apdmdata/DeviceManager/Env_AllMachineProperties","entityType":"Table","name":"Env_AllMachineProperties","columns":{"apdmdata/0/12/0":{"id":"apdmdata/0/12/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/12/1":{"id":"apdmdata/0/12/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/12/2":{"id":"apdmdata/0/12/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/12/3":{"id":"apdmdata/0/12/3","name":"machineName","entityType":"Column","type":"string"},"apdmdata/0/12/4":{"id":"apdmdata/0/12/4","name":"propertyLevel","entityType":"Column","type":"string"},"apdmdata/0/12/5":{"id":"apdmdata/0/12/5","name":"property","entityType":"Column","type":"string"},"apdmdata/0/12/6":{"id":"apdmdata/0/12/6","name":"lastUpdated","entityType":"Column","type":"datetime"},"apdmdata/0/12/7":{"id":"apdmdata/0/12/7","name":"value","entityType":"Column","type":"string"},"apdmdata/0/12/8":{"id":"apdmdata/0/12/8","name":"recycleFlag","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Metadata_AppInfo":{"id":"apdmdata/DeviceManager/Metadata_AppInfo","entityType":"Table","name":"Metadata_AppInfo","columns":{"apdmdata/0/13/0":{"id":"apdmdata/0/13/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/13/1":{"id":"apdmdata/0/13/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/13/2":{"id":"apdmdata/0/13/2","name":"AppId","entityType":"Column","type":"string"},"apdmdata/0/13/3":{"id":"apdmdata/0/13/3","name":"AppKeyExpiryDate","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/Cluster_FaultDomains":{"id":"apdmdata/DeviceManager/Cluster_FaultDomains","entityType":"Table","name":"Cluster_FaultDomains","columns":{"apdmdata/0/14/0":{"id":"apdmdata/0/14/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/14/1":{"id":"apdmdata/0/14/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/14/2":{"id":"apdmdata/0/14/2","name":"PhysicalMachineName","entityType":"Column","type":"string"},"apdmdata/0/14/3":{"id":"apdmdata/0/14/3","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/14/4":{"id":"apdmdata/0/14/4","name":"Name","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_Quotas":{"id":"apdmdata/DeviceManager/Cluster_Quotas","entityType":"Table","name":"Cluster_Quotas","columns":{"apdmdata/0/15/0":{"id":"apdmdata/0/15/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/15/1":{"id":"apdmdata/0/15/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/15/2":{"id":"apdmdata/0/15/2","name":"ManaTree","entityType":"Column","type":"string"},"apdmdata/0/15/3":{"id":"apdmdata/0/15/3","name":"SkuGroup","entityType":"Column","type":"string"},"apdmdata/0/15/4":{"id":"apdmdata/0/15/4","name":"Available","entityType":"Column","type":"int"},"apdmdata/0/15/5":{"id":"apdmdata/0/15/5","name":"Qualification","entityType":"Column","type":"string"},"apdmdata/0/15/6":{"id":"apdmdata/0/15/6","name":"IPv4Reuse","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_Assets":{"id":"apdmdata/DeviceManager/Cluster_Assets","entityType":"Table","name":"Cluster_Assets","columns":{"apdmdata/0/16/0":{"id":"apdmdata/0/16/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/16/1":{"id":"apdmdata/0/16/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/16/2":{"id":"apdmdata/0/16/2","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/16/3":{"id":"apdmdata/0/16/3","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/16/4":{"id":"apdmdata/0/16/4","name":"Name","entityType":"Column","type":"string"},"apdmdata/0/16/5":{"id":"apdmdata/0/16/5","name":"Manufacturer","entityType":"Column","type":"string"},"apdmdata/0/16/6":{"id":"apdmdata/0/16/6","name":"Model","entityType":"Column","type":"string"},"apdmdata/0/16/7":{"id":"apdmdata/0/16/7","name":"Asset","entityType":"Column","type":"string"},"apdmdata/0/16/8":{"id":"apdmdata/0/16/8","name":"Serial","entityType":"Column","type":"string"},"apdmdata/0/16/9":{"id":"apdmdata/0/16/9","name":"Firmware","entityType":"Column","type":"string"},"apdmdata/0/16/10":{"id":"apdmdata/0/16/10","name":"HardwareRev","entityType":"Column","type":"string"},"apdmdata/0/16/11":{"id":"apdmdata/0/16/11","name":"LastUpdated","entityType":"Column","type":"datetime"},"apdmdata/0/16/12":{"id":"apdmdata/0/16/12","name":"IsManagementAsset","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Cluster_RegisteredMachines":{"id":"apdmdata/DeviceManager/Cluster_RegisteredMachines","entityType":"Table","name":"Cluster_RegisteredMachines","columns":{"apdmdata/0/17/0":{"id":"apdmdata/0/17/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/17/1":{"id":"apdmdata/0/17/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/17/2":{"id":"apdmdata/0/17/2","name":"Machine","entityType":"Column","type":"string"},"apdmdata/0/17/3":{"id":"apdmdata/0/17/3","name":"IP","entityType":"Column","type":"string"},"apdmdata/0/17/4":{"id":"apdmdata/0/17/4","name":"IPv6","entityType":"Column","type":"string"},"apdmdata/0/17/5":{"id":"apdmdata/0/17/5","name":"Environment","entityType":"Column","type":"string"},"apdmdata/0/17/6":{"id":"apdmdata/0/17/6","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/17/7":{"id":"apdmdata/0/17/7","name":"PhysicalMachineName","entityType":"Column","type":"string"},"apdmdata/0/17/8":{"id":"apdmdata/0/17/8","name":"PhysicalIP","entityType":"Column","type":"string"},"apdmdata/0/17/9":{"id":"apdmdata/0/17/9","name":"Unregistering","entityType":"Column","type":"bool"},"apdmdata/0/17/10":{"id":"apdmdata/0/17/10","name":"DesiredContainerList","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/JediServiceTreeIDs":{"id":"apdmdata/DeviceManager/JediServiceTreeIDs","entityType":"Table","name":"JediServiceTreeIDs","columns":{"apdmdata/0/18/0":{"id":"apdmdata/0/18/0","name":"SID","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_RequestedNodeLabels":{"id":"apdmdata/DeviceManager/Env_RequestedNodeLabels","entityType":"Table","name":"Env_RequestedNodeLabels","columns":{"apdmdata/0/19/0":{"id":"apdmdata/0/19/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/19/1":{"id":"apdmdata/0/19/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/19/2":{"id":"apdmdata/0/19/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/19/3":{"id":"apdmdata/0/19/3","name":"machineName","entityType":"Column","type":"string"},"apdmdata/0/19/4":{"id":"apdmdata/0/19/4","name":"labelName","entityType":"Column","type":"string"},"apdmdata/0/19/5":{"id":"apdmdata/0/19/5","name":"labelValue","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_MachineFunction":{"id":"apdmdata/DeviceManager/Env_MachineFunction","entityType":"Table","name":"Env_MachineFunction","columns":{"apdmdata/0/20/0":{"id":"apdmdata/0/20/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/20/1":{"id":"apdmdata/0/20/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/20/2":{"id":"apdmdata/0/20/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/20/3":{"id":"apdmdata/0/20/3","name":"machineFunction","entityType":"Column","type":"string"},"apdmdata/0/20/4":{"id":"apdmdata/0/20/4","name":"serviceTreeId","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_Assets":{"id":"apdmdata/DeviceManager/Env_Assets","entityType":"Table","name":"Env_Assets","columns":{"apdmdata/0/21/0":{"id":"apdmdata/0/21/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/21/1":{"id":"apdmdata/0/21/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/21/2":{"id":"apdmdata/0/21/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/21/3":{"id":"apdmdata/0/21/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/21/4":{"id":"apdmdata/0/21/4","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/21/5":{"id":"apdmdata/0/21/5","name":"Name","entityType":"Column","type":"string"},"apdmdata/0/21/6":{"id":"apdmdata/0/21/6","name":"Manufacturer","entityType":"Column","type":"string"},"apdmdata/0/21/7":{"id":"apdmdata/0/21/7","name":"Model","entityType":"Column","type":"string"},"apdmdata/0/21/8":{"id":"apdmdata/0/21/8","name":"Asset","entityType":"Column","type":"string"},"apdmdata/0/21/9":{"id":"apdmdata/0/21/9","name":"Serial","entityType":"Column","type":"string"},"apdmdata/0/21/10":{"id":"apdmdata/0/21/10","name":"LastUpdated","entityType":"Column","type":"datetime"},"apdmdata/0/21/11":{"id":"apdmdata/0/21/11","name":"Firmware","entityType":"Column","type":"string"},"apdmdata/0/21/12":{"id":"apdmdata/0/21/12","name":"HardwareRev","entityType":"Column","type":"string"},"apdmdata/0/21/13":{"id":"apdmdata/0/21/13","name":"IsManagementAsset","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Env_PartitionMap":{"id":"apdmdata/DeviceManager/Env_PartitionMap","entityType":"Table","name":"Env_PartitionMap","columns":{"apdmdata/0/22/0":{"id":"apdmdata/0/22/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/22/1":{"id":"apdmdata/0/22/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/22/2":{"id":"apdmdata/0/22/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/22/3":{"id":"apdmdata/0/22/3","name":"PartitionName","entityType":"Column","type":"string"},"apdmdata/0/22/4":{"id":"apdmdata/0/22/4","name":"IsLocalPartition","entityType":"Column","type":"int"},"apdmdata/0/22/5":{"id":"apdmdata/0/22/5","name":"MachineName","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_Partitions":{"id":"apdmdata/DeviceManager/Env_Partitions","entityType":"Table","name":"Env_Partitions","columns":{"apdmdata/0/23/0":{"id":"apdmdata/0/23/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/23/1":{"id":"apdmdata/0/23/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/23/2":{"id":"apdmdata/0/23/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/23/3":{"id":"apdmdata/0/23/3","name":"PartitionName","entityType":"Column","type":"string"},"apdmdata/0/23/4":{"id":"apdmdata/0/23/4","name":"IsLocalPartition","entityType":"Column","type":"int"},"apdmdata/0/23/5":{"id":"apdmdata/0/23/5","name":"DestructivePercentage","entityType":"Column","type":"int"},"apdmdata/0/23/6":{"id":"apdmdata/0/23/6","name":"NonDestructivePercentage","entityType":"Column","type":"int"},"apdmdata/0/23/7":{"id":"apdmdata/0/23/7","name":"FilteringAlgorithm","entityType":"Column","type":"string"},"apdmdata/0/23/8":{"id":"apdmdata/0/23/8","name":"IsDynamic","entityType":"Column","type":"int"}}},"apdmdata/DeviceManager/Cluster_SharedIni":{"id":"apdmdata/DeviceManager/Cluster_SharedIni","entityType":"Table","name":"Cluster_SharedIni","columns":{"apdmdata/0/24/0":{"id":"apdmdata/0/24/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/24/1":{"id":"apdmdata/0/24/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/24/2":{"id":"apdmdata/0/24/2","name":"Section","entityType":"Column","type":"string"},"apdmdata/0/24/3":{"id":"apdmdata/0/24/3","name":"Parameter","entityType":"Column","type":"string"},"apdmdata/0/24/4":{"id":"apdmdata/0/24/4","name":"Value","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_MachinesInfo":{"id":"apdmdata/DeviceManager/Env_EAP_MachinesInfo","entityType":"Table","name":"Env_EAP_MachinesInfo","columns":{"apdmdata/0/25/0":{"id":"apdmdata/0/25/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/25/1":{"id":"apdmdata/0/25/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/25/2":{"id":"apdmdata/0/25/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/25/3":{"id":"apdmdata/0/25/3","name":"MachineFunction","entityType":"Column","type":"string"},"apdmdata/0/25/4":{"id":"apdmdata/0/25/4","name":"Name","entityType":"Column","type":"string"},"apdmdata/0/25/5":{"id":"apdmdata/0/25/5","name":"IP","entityType":"Column","type":"string"},"apdmdata/0/25/6":{"id":"apdmdata/0/25/6","name":"InstanceId","entityType":"Column","type":"string"},"apdmdata/0/25/7":{"id":"apdmdata/0/25/7","name":"Sku","entityType":"Column","type":"string"},"apdmdata/0/25/8":{"id":"apdmdata/0/25/8","name":"PlacementGroupId","entityType":"Column","type":"string"},"apdmdata/0/25/9":{"id":"apdmdata/0/25/9","name":"FD","entityType":"Column","type":"string"},"apdmdata/0/25/10":{"id":"apdmdata/0/25/10","name":"SU","entityType":"Column","type":"string"},"apdmdata/0/25/11":{"id":"apdmdata/0/25/11","name":"LatestModel","entityType":"Column","type":"string"},"apdmdata/0/25/12":{"id":"apdmdata/0/25/12","name":"ProvState","entityType":"Column","type":"string"},"apdmdata/0/25/13":{"id":"apdmdata/0/25/13","name":"PowerState","entityType":"Column","type":"string"},"apdmdata/0/25/14":{"id":"apdmdata/0/25/14","name":"PowerStateMessage","entityType":"Column","type":"string"},"apdmdata/0/25/15":{"id":"apdmdata/0/25/15","name":"OSDiskProvState","entityType":"Column","type":"string"},"apdmdata/0/25/16":{"id":"apdmdata/0/25/16","name":"OsDiskProvMessage","entityType":"Column","type":"string"},"apdmdata/0/25/17":{"id":"apdmdata/0/25/17","name":"BootstrapExtProvState","entityType":"Column","type":"string"},"apdmdata/0/25/18":{"id":"apdmdata/0/25/18","name":"BootstrapExtProvMessage","entityType":"Column","type":"string"},"apdmdata/0/25/19":{"id":"apdmdata/0/25/19","name":"OSImageUsageType","entityType":"Column","type":"string"},"apdmdata/0/25/20":{"id":"apdmdata/0/25/20","name":"OSImageId","entityType":"Column","type":"string"},"apdmdata/0/25/21":{"id":"apdmdata/0/25/21","name":"OSImageLabel","entityType":"Column","type":"string"},"apdmdata/0/25/22":{"id":"apdmdata/0/25/22","name":"OSImageVersion","entityType":"Column","type":"string"},"apdmdata/0/25/23":{"id":"apdmdata/0/25/23","name":"BootstrapFilesVersion","entityType":"Column","type":"string"},"apdmdata/0/25/24":{"id":"apdmdata/0/25/24","name":"IsDeallocated","entityType":"Column","type":"string"},"apdmdata/0/25/25":{"id":"apdmdata/0/25/25","name":"VmId","entityType":"Column","type":"string"},"apdmdata/0/25/26":{"id":"apdmdata/0/25/26","name":"VMName","entityType":"Column","type":"string"},"apdmdata/0/25/27":{"id":"apdmdata/0/25/27","name":"Subscription","entityType":"Column","type":"string"},"apdmdata/0/25/28":{"id":"apdmdata/0/25/28","name":"Location","entityType":"Column","type":"string"},"apdmdata/0/25/29":{"id":"apdmdata/0/25/29","name":"ClusterName","entityType":"Column","type":"string"},"apdmdata/0/25/30":{"id":"apdmdata/0/25/30","name":"EnvironmentName","entityType":"Column","type":"string"},"apdmdata/0/25/31":{"id":"apdmdata/0/25/31","name":"OSDiskSizeGB","entityType":"Column","type":"string"},"apdmdata/0/25/32":{"id":"apdmdata/0/25/32","name":"MREnabled","entityType":"Column","type":"string"},"apdmdata/0/25/33":{"id":"apdmdata/0/25/33","name":"ManagedTenantType","entityType":"Column","type":"string"},"apdmdata/0/25/34":{"id":"apdmdata/0/25/34","name":"DiskEncryptionExtProvState","entityType":"Column","type":"string"},"apdmdata/0/25/35":{"id":"apdmdata/0/25/35","name":"DiskEncryptionExtProvMessage","entityType":"Column","type":"string"},"apdmdata/0/25/36":{"id":"apdmdata/0/25/36","name":"IsOsDiskEncrypted","entityType":"Column","type":"string"},"apdmdata/0/25/37":{"id":"apdmdata/0/25/37","name":"DataDiskNameToEncryptionState","entityType":"Column","type":"string"},"apdmdata/0/25/38":{"id":"apdmdata/0/25/38","name":"BootstrapExtensionVersion","entityType":"Column","type":"string"},"apdmdata/0/25/39":{"id":"apdmdata/0/25/39","name":"AvailabilityZone","entityType":"Column","type":"string"},"apdmdata/0/25/40":{"id":"apdmdata/0/25/40","name":"InstancePublicIPv4Address","entityType":"Column","type":"string"},"apdmdata/0/25/41":{"id":"apdmdata/0/25/41","name":"InstancePublicIPv4DNSName","entityType":"Column","type":"string"},"apdmdata/0/25/42":{"id":"apdmdata/0/25/42","name":"NetworkSecurityGroupID","entityType":"Column","type":"string"},"apdmdata/0/25/43":{"id":"apdmdata/0/25/43","name":"AcceleratedNetworkingEnabled","entityType":"Column","type":"string"},"apdmdata/0/25/44":{"id":"apdmdata/0/25/44","name":"InstancePublicIPTags","entityType":"Column","type":"string"},"apdmdata/0/25/45":{"id":"apdmdata/0/25/45","name":"IPv6","entityType":"Column","type":"string"},"apdmdata/0/25/46":{"id":"apdmdata/0/25/46","name":"MacAddress","entityType":"Column","type":"string"},"apdmdata/0/25/47":{"id":"apdmdata/0/25/47","name":"InstancePublicIPv6Address","entityType":"Column","type":"string"},"apdmdata/0/25/48":{"id":"apdmdata/0/25/48","name":"InstancePublicIPv6DNSName","entityType":"Column","type":"string"},"apdmdata/0/25/49":{"id":"apdmdata/0/25/49","name":"HasCustomVmModelApplied","entityType":"Column","type":"string"},"apdmdata/0/25/50":{"id":"apdmdata/0/25/50","name":"LastAppliedScaleSetModelCreationTime","entityType":"Column","type":"string"},"apdmdata/0/25/51":{"id":"apdmdata/0/25/51","name":"IsInDesiredScaleSet","entityType":"Column","type":"string"},"apdmdata/0/25/52":{"id":"apdmdata/0/25/52","name":"DesiredScaleSetKey","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_AzureSLBInfo":{"id":"apdmdata/DeviceManager/Env_EAP_AzureSLBInfo","entityType":"Table","name":"Env_EAP_AzureSLBInfo","columns":{"apdmdata/0/26/0":{"id":"apdmdata/0/26/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/26/1":{"id":"apdmdata/0/26/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/26/2":{"id":"apdmdata/0/26/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/26/3":{"id":"apdmdata/0/26/3","name":"Scope","entityType":"Column","type":"string"},"apdmdata/0/26/4":{"id":"apdmdata/0/26/4","name":"VIPAddresses","entityType":"Column","type":"string"},"apdmdata/0/26/5":{"id":"apdmdata/0/26/5","name":"DIPs","entityType":"Column","type":"string"},"apdmdata/0/26/6":{"id":"apdmdata/0/26/6","name":"LoadBalancerID","entityType":"Column","type":"string"},"apdmdata/0/26/7":{"id":"apdmdata/0/26/7","name":"SKU","entityType":"Column","type":"string"},"apdmdata/0/26/8":{"id":"apdmdata/0/26/8","name":"IsSharedLoadBalancer","entityType":"Column","type":"string"},"apdmdata/0/26/9":{"id":"apdmdata/0/26/9","name":"Protocol","entityType":"Column","type":"string"},"apdmdata/0/26/10":{"id":"apdmdata/0/26/10","name":"ProbeProtocol","entityType":"Column","type":"string"},"apdmdata/0/26/11":{"id":"apdmdata/0/26/11","name":"ProbePort","entityType":"Column","type":"string"},"apdmdata/0/26/12":{"id":"apdmdata/0/26/12","name":"ServicePorts","entityType":"Column","type":"string"},"apdmdata/0/26/13":{"id":"apdmdata/0/26/13","name":"IPVersion","entityType":"Column","type":"string"},"apdmdata/0/26/14":{"id":"apdmdata/0/26/14","name":"Subnet","entityType":"Column","type":"string"},"apdmdata/0/26/15":{"id":"apdmdata/0/26/15","name":"Location","entityType":"Column","type":"string"},"apdmdata/0/26/16":{"id":"apdmdata/0/26/16","name":"SubscriptionID","entityType":"Column","type":"string"},"apdmdata/0/26/17":{"id":"apdmdata/0/26/17","name":"Cluster","entityType":"Column","type":"string"},"apdmdata/0/26/18":{"id":"apdmdata/0/26/18","name":"EnvironmentName","entityType":"Column","type":"string"},"apdmdata/0/26/19":{"id":"apdmdata/0/26/19","name":"IPTags","entityType":"Column","type":"string"},"apdmdata/0/26/20":{"id":"apdmdata/0/26/20","name":"ComputeSubLogicalAZ","entityType":"Column","type":"string"},"apdmdata/0/26/21":{"id":"apdmdata/0/26/21","name":"NetworkSubLogicalAZ","entityType":"Column","type":"string"},"apdmdata/0/26/22":{"id":"apdmdata/0/26/22","name":"EnableFloatingIP","entityType":"Column","type":"string"},"apdmdata/0/26/23":{"id":"apdmdata/0/26/23","name":"OutboundRules","entityType":"Column","type":"string"},"apdmdata/0/26/24":{"id":"apdmdata/0/26/24","name":"ProbeUrl","entityType":"Column","type":"string"},"apdmdata/0/26/25":{"id":"apdmdata/0/26/25","name":"VIP","entityType":"Column","type":"string"},"apdmdata/0/26/26":{"id":"apdmdata/0/26/26","name":"MachineFunctions","entityType":"Column","type":"string"},"apdmdata/0/26/27":{"id":"apdmdata/0/26/27","name":"Partitions","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_VMSSInfo":{"id":"apdmdata/DeviceManager/Env_EAP_VMSSInfo","entityType":"Table","name":"Env_EAP_VMSSInfo","columns":{"apdmdata/0/27/0":{"id":"apdmdata/0/27/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/27/1":{"id":"apdmdata/0/27/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/27/2":{"id":"apdmdata/0/27/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/27/3":{"id":"apdmdata/0/27/3","name":"RGID","entityType":"Column","type":"string"},"apdmdata/0/27/4":{"id":"apdmdata/0/27/4","name":"RGName","entityType":"Column","type":"string"},"apdmdata/0/27/5":{"id":"apdmdata/0/27/5","name":"Location","entityType":"Column","type":"string"},"apdmdata/0/27/6":{"id":"apdmdata/0/27/6","name":"MachineFunction","entityType":"Column","type":"string"},"apdmdata/0/27/7":{"id":"apdmdata/0/27/7","name":"VMSSID","entityType":"Column","type":"string"},"apdmdata/0/27/8":{"id":"apdmdata/0/27/8","name":"VMSSName","entityType":"Column","type":"string"},"apdmdata/0/27/9":{"id":"apdmdata/0/27/9","name":"ProvisioningState","entityType":"Column","type":"string"},"apdmdata/0/27/10":{"id":"apdmdata/0/27/10","name":"SKU","entityType":"Column","type":"string"},"apdmdata/0/27/11":{"id":"apdmdata/0/27/11","name":"OSImageUsageType","entityType":"Column","type":"string"},"apdmdata/0/27/12":{"id":"apdmdata/0/27/12","name":"OSImageLabel","entityType":"Column","type":"string"},"apdmdata/0/27/13":{"id":"apdmdata/0/27/13","name":"OSImageVersion","entityType":"Column","type":"string"},"apdmdata/0/27/14":{"id":"apdmdata/0/27/14","name":"BootstrapFilesVersion","entityType":"Column","type":"string"},"apdmdata/0/27/15":{"id":"apdmdata/0/27/15","name":"NumMachines","entityType":"Column","type":"string"},"apdmdata/0/27/16":{"id":"apdmdata/0/27/16","name":"IPV4SubnetID","entityType":"Column","type":"string"},"apdmdata/0/27/17":{"id":"apdmdata/0/27/17","name":"IPV6SubnetID","entityType":"Column","type":"string"},"apdmdata/0/27/18":{"id":"apdmdata/0/27/18","name":"ManagedTenantType","entityType":"Column","type":"string"},"apdmdata/0/27/19":{"id":"apdmdata/0/27/19","name":"SinglePlacementGroup","entityType":"Column","type":"string"},"apdmdata/0/27/20":{"id":"apdmdata/0/27/20","name":"LoadBalancerPools","entityType":"Column","type":"string"},"apdmdata/0/27/21":{"id":"apdmdata/0/27/21","name":"SystemAssignedMSIServicePrincipal","entityType":"Column","type":"string"},"apdmdata/0/27/22":{"id":"apdmdata/0/27/22","name":"UserAssignedMSIIDs","entityType":"Column","type":"string"},"apdmdata/0/27/23":{"id":"apdmdata/0/27/23","name":"AvailabilityZones","entityType":"Column","type":"string"},"apdmdata/0/27/24":{"id":"apdmdata/0/27/24","name":"PlatformFaultDomainCount","entityType":"Column","type":"string"},"apdmdata/0/27/25":{"id":"apdmdata/0/27/25","name":"ZoneBalance","entityType":"Column","type":"string"},"apdmdata/0/27/26":{"id":"apdmdata/0/27/26","name":"AcceleratedNetworkingEnabled","entityType":"Column","type":"string"},"apdmdata/0/27/27":{"id":"apdmdata/0/27/27","name":"ProximityPlacementGroup","entityType":"Column","type":"string"},"apdmdata/0/27/28":{"id":"apdmdata/0/27/28","name":"IsLinux","entityType":"Column","type":"string"},"apdmdata/0/27/29":{"id":"apdmdata/0/27/29","name":"IsEphemeral","entityType":"Column","type":"string"},"apdmdata/0/27/30":{"id":"apdmdata/0/27/30","name":"LowPriorityEvictionPolicy","entityType":"Column","type":"string"},"apdmdata/0/27/31":{"id":"apdmdata/0/27/31","name":"Partition","entityType":"Column","type":"string"},"apdmdata/0/27/32":{"id":"apdmdata/0/27/32","name":"IsRegionalIPV4","entityType":"Column","type":"string"},"apdmdata/0/27/33":{"id":"apdmdata/0/27/33","name":"MREnabled","entityType":"Column","type":"bool"},"apdmdata/0/27/34":{"id":"apdmdata/0/27/34","name":"MachineGroup","entityType":"Column","type":"string"},"apdmdata/0/27/35":{"id":"apdmdata/0/27/35","name":"DiskEncryptionEnabled","entityType":"Column","type":"string"},"apdmdata/0/27/36":{"id":"apdmdata/0/27/36","name":"Priority","entityType":"Column","type":"string"},"apdmdata/0/27/37":{"id":"apdmdata/0/27/37","name":"IsEncryptionAtHostEnabled","entityType":"Column","type":"string"},"apdmdata/0/27/38":{"id":"apdmdata/0/27/38","name":"IsOnboardingToAzPE","entityType":"Column","type":"string"},"apdmdata/0/27/39":{"id":"apdmdata/0/27/39","name":"VMType","entityType":"Column","type":"string"},"apdmdata/0/27/40":{"id":"apdmdata/0/27/40","name":"OSDiskSecurityEncryptionType","entityType":"Column","type":"string"},"apdmdata/0/27/41":{"id":"apdmdata/0/27/41","name":"OSDiskEncryptionSetId","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_NSGRulesInfo":{"id":"apdmdata/DeviceManager/Env_EAP_NSGRulesInfo","entityType":"Table","name":"Env_EAP_NSGRulesInfo","columns":{"apdmdata/0/28/0":{"id":"apdmdata/0/28/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/28/1":{"id":"apdmdata/0/28/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/28/2":{"id":"apdmdata/0/28/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/28/3":{"id":"apdmdata/0/28/3","name":"MachineFunction","entityType":"Column","type":"string"},"apdmdata/0/28/4":{"id":"apdmdata/0/28/4","name":"Name","entityType":"Column","type":"string"},"apdmdata/0/28/5":{"id":"apdmdata/0/28/5","name":"Direction","entityType":"Column","type":"string"},"apdmdata/0/28/6":{"id":"apdmdata/0/28/6","name":"Priority","entityType":"Column","type":"string"},"apdmdata/0/28/7":{"id":"apdmdata/0/28/7","name":"Access","entityType":"Column","type":"string"},"apdmdata/0/28/8":{"id":"apdmdata/0/28/8","name":"Protocol","entityType":"Column","type":"string"},"apdmdata/0/28/9":{"id":"apdmdata/0/28/9","name":"SourcePortRange","entityType":"Column","type":"string"},"apdmdata/0/28/10":{"id":"apdmdata/0/28/10","name":"SourcePortRanges","entityType":"Column","type":"string"},"apdmdata/0/28/11":{"id":"apdmdata/0/28/11","name":"DestinationPortRange","entityType":"Column","type":"string"},"apdmdata/0/28/12":{"id":"apdmdata/0/28/12","name":"DestinationPortRanges","entityType":"Column","type":"string"},"apdmdata/0/28/13":{"id":"apdmdata/0/28/13","name":"SourceAddressPrefix","entityType":"Column","type":"string"},"apdmdata/0/28/14":{"id":"apdmdata/0/28/14","name":"SourceAddressPrefixes","entityType":"Column","type":"string"},"apdmdata/0/28/15":{"id":"apdmdata/0/28/15","name":"DestinationAddressPrefix","entityType":"Column","type":"string"},"apdmdata/0/28/16":{"id":"apdmdata/0/28/16","name":"DestinationAddressPrefixes","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_SkuAvailability":{"id":"apdmdata/DeviceManager/Env_EAP_SkuAvailability","entityType":"Table","name":"Env_EAP_SkuAvailability","columns":{"apdmdata/0/29/0":{"id":"apdmdata/0/29/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/29/1":{"id":"apdmdata/0/29/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/29/2":{"id":"apdmdata/0/29/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/29/3":{"id":"apdmdata/0/29/3","name":"Sku","entityType":"Column","type":"string"},"apdmdata/0/29/4":{"id":"apdmdata/0/29/4","name":"NumOfCores","entityType":"Column","type":"string"},"apdmdata/0/29/5":{"id":"apdmdata/0/29/5","name":"MemoryInMB","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_UserProperties":{"id":"apdmdata/DeviceManager/Env_UserProperties","entityType":"Table","name":"Env_UserProperties","columns":{"apdmdata/0/30/0":{"id":"apdmdata/0/30/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/30/1":{"id":"apdmdata/0/30/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/30/2":{"id":"apdmdata/0/30/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/30/3":{"id":"apdmdata/0/30/3","name":"Property","entityType":"Column","type":"string"},"apdmdata/0/30/4":{"id":"apdmdata/0/30/4","name":"Value","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/SecretsRotator_Secrets":{"id":"apdmdata/DeviceManager/SecretsRotator_Secrets","entityType":"Table","name":"SecretsRotator_Secrets","columns":{"apdmdata/0/31/0":{"id":"apdmdata/0/31/0","name":"d_cluster","entityType":"Column","type":"string"},"apdmdata/0/31/1":{"id":"apdmdata/0/31/1","name":"d_cluster_alias","entityType":"Column","type":"string"},"apdmdata/0/31/2":{"id":"apdmdata/0/31/2","name":"d_environment","entityType":"Column","type":"string"},"apdmdata/0/31/3":{"id":"apdmdata/0/31/3","name":"timestamp","entityType":"Column","type":"datetime"},"apdmdata/0/31/4":{"id":"apdmdata/0/31/4","name":"d_account","entityType":"Column","type":"string"},"apdmdata/0/31/5":{"id":"apdmdata/0/31/5","name":"m_is_valid","entityType":"Column","type":"long"},"apdmdata/0/31/6":{"id":"apdmdata/0/31/6","name":"last_rotated","entityType":"Column","type":"datetime"},"apdmdata/0/31/7":{"id":"apdmdata/0/31/7","name":"m_days_since_rotation","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Cluster_EnvironmentDependency":{"id":"apdmdata/DeviceManager/Cluster_EnvironmentDependency","entityType":"Table","name":"Cluster_EnvironmentDependency","columns":{"apdmdata/0/32/0":{"id":"apdmdata/0/32/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/32/1":{"id":"apdmdata/0/32/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/32/2":{"id":"apdmdata/0/32/2","name":"Environment","entityType":"Column","type":"string"},"apdmdata/0/32/3":{"id":"apdmdata/0/32/3","name":"Type","entityType":"Column","type":"string"},"apdmdata/0/32/4":{"id":"apdmdata/0/32/4","name":"Cluster","entityType":"Column","type":"string"},"apdmdata/0/32/5":{"id":"apdmdata/0/32/5","name":"ChildEnvironmentName","entityType":"Column","type":"string"},"apdmdata/0/32/6":{"id":"apdmdata/0/32/6","name":"ChildEnvironmentType","entityType":"Column","type":"string"},"apdmdata/0/32/7":{"id":"apdmdata/0/32/7","name":"ChildEnvironmentCluster","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_Machines":{"id":"apdmdata/DeviceManager/Cluster_Machines","entityType":"Table","name":"Cluster_Machines","columns":{"apdmdata/0/33/0":{"id":"apdmdata/0/33/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/33/1":{"id":"apdmdata/0/33/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/33/2":{"id":"apdmdata/0/33/2","name":"PhysicalMachineName","entityType":"Column","type":"string"},"apdmdata/0/33/3":{"id":"apdmdata/0/33/3","name":"PodName","entityType":"Column","type":"string"},"apdmdata/0/33/4":{"id":"apdmdata/0/33/4","name":"Port","entityType":"Column","type":"string"},"apdmdata/0/33/5":{"id":"apdmdata/0/33/5","name":"SKU","entityType":"Column","type":"string"},"apdmdata/0/33/6":{"id":"apdmdata/0/33/6","name":"PhysicalIP","entityType":"Column","type":"string"},"apdmdata/0/33/7":{"id":"apdmdata/0/33/7","name":"IPv6","entityType":"Column","type":"string"},"apdmdata/0/33/8":{"id":"apdmdata/0/33/8","name":"IPv4Reuse","entityType":"Column","type":"bool"},"apdmdata/0/33/9":{"id":"apdmdata/0/33/9","name":"NetworkScope","entityType":"Column","type":"string"},"apdmdata/0/33/10":{"id":"apdmdata/0/33/10","name":"RMUnit","entityType":"Column","type":"string"},"apdmdata/0/33/11":{"id":"apdmdata/0/33/11","name":"PWUnit","entityType":"Column","type":"string"},"apdmdata/0/33/12":{"id":"apdmdata/0/33/12","name":"VLAN","entityType":"Column","type":"string"},"apdmdata/0/33/13":{"id":"apdmdata/0/33/13","name":"NetMask","entityType":"Column","type":"string"},"apdmdata/0/33/14":{"id":"apdmdata/0/33/14","name":"SwitchName","entityType":"Column","type":"string"},"apdmdata/0/33/15":{"id":"apdmdata/0/33/15","name":"PowerName","entityType":"Column","type":"string"},"apdmdata/0/33/16":{"id":"apdmdata/0/33/16","name":"TypeString","entityType":"Column","type":"string"},"apdmdata/0/33/17":{"id":"apdmdata/0/33/17","name":"LogicalDeviceDataCenter","entityType":"Column","type":"string"},"apdmdata/0/33/18":{"id":"apdmdata/0/33/18","name":"LogicalDeviceHostInterface","entityType":"Column","type":"string"},"apdmdata/0/33/19":{"id":"apdmdata/0/33/19","name":"Category","entityType":"Column","type":"string"},"apdmdata/0/33/20":{"id":"apdmdata/0/33/20","name":"IsAPManaged","entityType":"Column","type":"bool"},"apdmdata/0/33/21":{"id":"apdmdata/0/33/21","name":"IsSyncedFromAzDcm","entityType":"Column","type":"bool"},"apdmdata/0/33/22":{"id":"apdmdata/0/33/22","name":"ResourceId","entityType":"Column","type":"string"},"apdmdata/0/33/23":{"id":"apdmdata/0/33/23","name":"IPv6Gateway","entityType":"Column","type":"string"},"apdmdata/0/33/24":{"id":"apdmdata/0/33/24","name":"IPv6InfraPrefix","entityType":"Column","type":"string"},"apdmdata/0/33/25":{"id":"apdmdata/0/33/25","name":"IPv6Network","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_DetachedMachines":{"id":"apdmdata/DeviceManager/Cluster_DetachedMachines","entityType":"Table","name":"Cluster_DetachedMachines","columns":{"apdmdata/0/34/0":{"id":"apdmdata/0/34/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/34/1":{"id":"apdmdata/0/34/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/34/2":{"id":"apdmdata/0/34/2","name":"Machine","entityType":"Column","type":"string"},"apdmdata/0/34/3":{"id":"apdmdata/0/34/3","name":"IsSyncedFromAzDcm","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Env_EnvironmentIni":{"id":"apdmdata/DeviceManager/Env_EnvironmentIni","entityType":"Table","name":"Env_EnvironmentIni","columns":{"apdmdata/0/35/0":{"id":"apdmdata/0/35/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/35/1":{"id":"apdmdata/0/35/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/35/2":{"id":"apdmdata/0/35/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/35/3":{"id":"apdmdata/0/35/3","name":"IsVirtual","entityType":"Column","type":"bool"},"apdmdata/0/35/4":{"id":"apdmdata/0/35/4","name":"Section","entityType":"Column","type":"string"},"apdmdata/0/35/5":{"id":"apdmdata/0/35/5","name":"Parameter","entityType":"Column","type":"string"},"apdmdata/0/35/6":{"id":"apdmdata/0/35/6","name":"Value","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_Connections":{"id":"apdmdata/DeviceManager/Cluster_Connections","entityType":"Table","name":"Cluster_Connections","columns":{"apdmdata/0/36/0":{"id":"apdmdata/0/36/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/36/1":{"id":"apdmdata/0/36/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/36/2":{"id":"apdmdata/0/36/2","name":"Id","entityType":"Column","type":"string"},"apdmdata/0/36/3":{"id":"apdmdata/0/36/3","name":"SourceId","entityType":"Column","type":"string"},"apdmdata/0/36/4":{"id":"apdmdata/0/36/4","name":"DestinationId","entityType":"Column","type":"string"},"apdmdata/0/36/5":{"id":"apdmdata/0/36/5","name":"IsDirect","entityType":"Column","type":"int"}}},"apdmdata/DeviceManager/Cluster_Vlans":{"id":"apdmdata/DeviceManager/Cluster_Vlans","entityType":"Table","name":"Cluster_Vlans","columns":{"apdmdata/0/37/0":{"id":"apdmdata/0/37/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/37/1":{"id":"apdmdata/0/37/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/37/2":{"id":"apdmdata/0/37/2","name":"Id","entityType":"Column","type":"string"},"apdmdata/0/37/3":{"id":"apdmdata/0/37/3","name":"NetworkIPv4","entityType":"Column","type":"string"},"apdmdata/0/37/4":{"id":"apdmdata/0/37/4","name":"GatewayIPv4","entityType":"Column","type":"string"},"apdmdata/0/37/5":{"id":"apdmdata/0/37/5","name":"IsIPv4Reuse","entityType":"Column","type":"int"},"apdmdata/0/37/6":{"id":"apdmdata/0/37/6","name":"NetworkIPv6","entityType":"Column","type":"string"},"apdmdata/0/37/7":{"id":"apdmdata/0/37/7","name":"GatewayIPv6","entityType":"Column","type":"string"},"apdmdata/0/37/8":{"id":"apdmdata/0/37/8","name":"PrimaryDns","entityType":"Column","type":"string"},"apdmdata/0/37/9":{"id":"apdmdata/0/37/9","name":"SecondaryDns","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_EAP_CustomManagedOSImageData":{"id":"apdmdata/DeviceManager/Cluster_EAP_CustomManagedOSImageData","entityType":"Table","name":"Cluster_EAP_CustomManagedOSImageData","columns":{"apdmdata/0/38/0":{"id":"apdmdata/0/38/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/38/1":{"id":"apdmdata/0/38/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/38/2":{"id":"apdmdata/0/38/2","name":"Region","entityType":"Column","type":"string"},"apdmdata/0/38/3":{"id":"apdmdata/0/38/3","name":"ManagedOSImageName","entityType":"Column","type":"string"},"apdmdata/0/38/4":{"id":"apdmdata/0/38/4","name":"ProvisioningState","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_EAP_CustomOSImageBlobData":{"id":"apdmdata/DeviceManager/Cluster_EAP_CustomOSImageBlobData","entityType":"Table","name":"Cluster_EAP_CustomOSImageBlobData","columns":{"apdmdata/0/39/0":{"id":"apdmdata/0/39/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/39/1":{"id":"apdmdata/0/39/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/39/2":{"id":"apdmdata/0/39/2","name":"Region","entityType":"Column","type":"string"},"apdmdata/0/39/3":{"id":"apdmdata/0/39/3","name":"OSImageBlobName","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_EAP_SIGImageData":{"id":"apdmdata/DeviceManager/Cluster_EAP_SIGImageData","entityType":"Table","name":"Cluster_EAP_SIGImageData","columns":{"apdmdata/0/40/0":{"id":"apdmdata/0/40/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/40/1":{"id":"apdmdata/0/40/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/40/2":{"id":"apdmdata/0/40/2","name":"Region","entityType":"Column","type":"string"},"apdmdata/0/40/3":{"id":"apdmdata/0/40/3","name":"SharedVMImageName","entityType":"Column","type":"string"},"apdmdata/0/40/4":{"id":"apdmdata/0/40/4","name":"SharedVMImageVersion","entityType":"Column","type":"string"},"apdmdata/0/40/5":{"id":"apdmdata/0/40/5","name":"ReplicationProgress","entityType":"Column","type":"string"},"apdmdata/0/40/6":{"id":"apdmdata/0/40/6","name":"ReplicationState","entityType":"Column","type":"string"},"apdmdata/0/40/7":{"id":"apdmdata/0/40/7","name":"Details","entityType":"Column","type":"string"},"apdmdata/0/40/8":{"id":"apdmdata/0/40/8","name":"ProvisioningState","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_MachineCounters":{"id":"apdmdata/DeviceManager/Env_MachineCounters","entityType":"Table","name":"Env_MachineCounters","columns":{"apdmdata/0/41/0":{"id":"apdmdata/0/41/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/41/1":{"id":"apdmdata/0/41/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/41/2":{"id":"apdmdata/0/41/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/41/3":{"id":"apdmdata/0/41/3","name":"CounterTime","entityType":"Column","type":"datetime"},"apdmdata/0/41/4":{"id":"apdmdata/0/41/4","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/41/5":{"id":"apdmdata/0/41/5","name":"CounterName","entityType":"Column","type":"string"},"apdmdata/0/41/6":{"id":"apdmdata/0/41/6","name":"Avg","entityType":"Column","type":"decimal"},"apdmdata/0/41/7":{"id":"apdmdata/0/41/7","name":"Sum","entityType":"Column","type":"decimal"},"apdmdata/0/41/8":{"id":"apdmdata/0/41/8","name":"Max","entityType":"Column","type":"decimal"},"apdmdata/0/41/9":{"id":"apdmdata/0/41/9","name":"Min","entityType":"Column","type":"decimal"},"apdmdata/0/41/10":{"id":"apdmdata/0/41/10","name":"Count","entityType":"Column","type":"int"},"apdmdata/0/41/11":{"id":"apdmdata/0/41/11","name":"MachineFunction","entityType":"Column","type":"string"},"apdmdata/0/41/12":{"id":"apdmdata/0/41/12","name":"IsPrimary","entityType":"Column","type":"bool"},"apdmdata/0/41/13":{"id":"apdmdata/0/41/13","name":"MachineType","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_SubscriptionsPhysicalToLogicalZone":{"id":"apdmdata/DeviceManager/Env_EAP_SubscriptionsPhysicalToLogicalZone","entityType":"Table","name":"Env_EAP_SubscriptionsPhysicalToLogicalZone","columns":{"apdmdata/0/42/0":{"id":"apdmdata/0/42/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/42/1":{"id":"apdmdata/0/42/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/42/2":{"id":"apdmdata/0/42/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/42/3":{"id":"apdmdata/0/42/3","name":"Subscription","entityType":"Column","type":"string"},"apdmdata/0/42/4":{"id":"apdmdata/0/42/4","name":"Region","entityType":"Column","type":"string"},"apdmdata/0/42/5":{"id":"apdmdata/0/42/5","name":"PhysicalZone","entityType":"Column","type":"string"},"apdmdata/0/42/6":{"id":"apdmdata/0/42/6","name":"LogicalZone","entityType":"Column","type":"string"},"apdmdata/0/42/7":{"id":"apdmdata/0/42/7","name":"AutopilotLogicalZone","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Cluster_ServicePartitions":{"id":"apdmdata/DeviceManager/Cluster_ServicePartitions","entityType":"Table","name":"Cluster_ServicePartitions","columns":{"apdmdata/0/43/0":{"id":"apdmdata/0/43/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/43/1":{"id":"apdmdata/0/43/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/43/2":{"id":"apdmdata/0/43/2","name":"Service","entityType":"Column","type":"string"},"apdmdata/0/43/3":{"id":"apdmdata/0/43/3","name":"Partition","entityType":"Column","type":"string"},"apdmdata/0/43/4":{"id":"apdmdata/0/43/4","name":"AllowEnvironments","entityType":"Column","type":"bool"},"apdmdata/0/43/5":{"id":"apdmdata/0/43/5","name":"EvacuateEnvironments","entityType":"Column","type":"bool"},"apdmdata/0/43/6":{"id":"apdmdata/0/43/6","name":"Environment","entityType":"Column","type":"string"},"apdmdata/0/43/7":{"id":"apdmdata/0/43/7","name":"CurrentPartition","entityType":"Column","type":"string"},"apdmdata/0/43/8":{"id":"apdmdata/0/43/8","name":"DesiredPartition","entityType":"Column","type":"string"},"apdmdata/0/43/9":{"id":"apdmdata/0/43/9","name":"AssignmentStatus","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_Machines_Aggregated":{"id":"apdmdata/DeviceManager/Env_Machines_Aggregated","entityType":"Table","name":"Env_Machines_Aggregated","columns":{"apdmdata/0/44/0":{"id":"apdmdata/0/44/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/44/1":{"id":"apdmdata/0/44/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/44/2":{"id":"apdmdata/0/44/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/44/3":{"id":"apdmdata/0/44/3","name":"machineFunction","entityType":"Column","type":"string"},"apdmdata/0/44/4":{"id":"apdmdata/0/44/4","name":"NumberOfMachines","entityType":"Column","type":"long"},"apdmdata/0/44/5":{"id":"apdmdata/0/44/5","name":"machineType","entityType":"Column","type":"string"},"apdmdata/0/44/6":{"id":"apdmdata/0/44/6","name":"ManagementType","entityType":"Column","type":"string"},"apdmdata/0/44/7":{"id":"apdmdata/0/44/7","name":"IsIPv4Required","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Env_MachineCounters_Aggregated":{"id":"apdmdata/DeviceManager/Env_MachineCounters_Aggregated","entityType":"Table","name":"Env_MachineCounters_Aggregated","columns":{"apdmdata/0/45/0":{"id":"apdmdata/0/45/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/45/1":{"id":"apdmdata/0/45/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/45/2":{"id":"apdmdata/0/45/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/45/3":{"id":"apdmdata/0/45/3","name":"MachineFunction","entityType":"Column","type":"string"},"apdmdata/0/45/4":{"id":"apdmdata/0/45/4","name":"CounterName","entityType":"Column","type":"string"},"apdmdata/0/45/5":{"id":"apdmdata/0/45/5","name":"Avg","entityType":"Column","type":"real"},"apdmdata/0/45/6":{"id":"apdmdata/0/45/6","name":"Min","entityType":"Column","type":"real"},"apdmdata/0/45/7":{"id":"apdmdata/0/45/7","name":"Max","entityType":"Column","type":"real"},"apdmdata/0/45/8":{"id":"apdmdata/0/45/8","name":"IsPrimary","entityType":"Column","type":"bool"}}},"apdmdata/DeviceManager/Cluster_SkuMap":{"id":"apdmdata/DeviceManager/Cluster_SkuMap","entityType":"Table","name":"Cluster_SkuMap","columns":{"apdmdata/0/46/0":{"id":"apdmdata/0/46/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/46/1":{"id":"apdmdata/0/46/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/46/2":{"id":"apdmdata/0/46/2","name":"LogicalSku","entityType":"Column","type":"string"},"apdmdata/0/46/3":{"id":"apdmdata/0/46/3","name":"PhysicalSku","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Sku_Cores":{"id":"apdmdata/DeviceManager/Sku_Cores","entityType":"Table","name":"Sku_Cores","columns":{"apdmdata/0/47/0":{"id":"apdmdata/0/47/0","name":"Sku","entityType":"Column","type":"string"},"apdmdata/0/47/1":{"id":"apdmdata/0/47/1","name":"NumberOfCores","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Env_ServiceGraphData":{"id":"apdmdata/DeviceManager/Env_ServiceGraphData","entityType":"Table","name":"Env_ServiceGraphData","columns":{"apdmdata/0/48/0":{"id":"apdmdata/0/48/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/48/1":{"id":"apdmdata/0/48/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/48/2":{"id":"apdmdata/0/48/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/48/3":{"id":"apdmdata/0/48/3","name":"Protocol","entityType":"Column","type":"string"},"apdmdata/0/48/4":{"id":"apdmdata/0/48/4","name":"LocalIPAddress","entityType":"Column","type":"string"},"apdmdata/0/48/5":{"id":"apdmdata/0/48/5","name":"LocalPortNumber","entityType":"Column","type":"long"},"apdmdata/0/48/6":{"id":"apdmdata/0/48/6","name":"ForeignIPAddress","entityType":"Column","type":"string"},"apdmdata/0/48/7":{"id":"apdmdata/0/48/7","name":"ForeignPortNumber","entityType":"Column","type":"long"},"apdmdata/0/48/8":{"id":"apdmdata/0/48/8","name":"State","entityType":"Column","type":"string"},"apdmdata/0/48/9":{"id":"apdmdata/0/48/9","name":"PID","entityType":"Column","type":"long"},"apdmdata/0/48/10":{"id":"apdmdata/0/48/10","name":"ProcessName","entityType":"Column","type":"string"},"apdmdata/0/48/11":{"id":"apdmdata/0/48/11","name":"ProcessPath","entityType":"Column","type":"string"},"apdmdata/0/48/12":{"id":"apdmdata/0/48/12","name":"ServiceName","entityType":"Column","type":"string"},"apdmdata/0/48/13":{"id":"apdmdata/0/48/13","name":"BuildFolder","entityType":"Column","type":"string"},"apdmdata/0/48/14":{"id":"apdmdata/0/48/14","name":"TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/48/15":{"id":"apdmdata/0/48/15","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/48/16":{"id":"apdmdata/0/48/16","name":"ServerPort","entityType":"Column","type":"long"},"apdmdata/0/48/17":{"id":"apdmdata/0/48/17","name":"ConnectionType","entityType":"Column","type":"string"},"apdmdata/0/48/18":{"id":"apdmdata/0/48/18","name":"SourceMF","entityType":"Column","type":"string"},"apdmdata/0/48/19":{"id":"apdmdata/0/48/19","name":"IsSourceIPv6Compatible","entityType":"Column","type":"bool"},"apdmdata/0/48/20":{"id":"apdmdata/0/48/20","name":"TargetMF","entityType":"Column","type":"string"},"apdmdata/0/48/21":{"id":"apdmdata/0/48/21","name":"IsTargetIPv6Compatible","entityType":"Column","type":"bool"},"apdmdata/0/48/22":{"id":"apdmdata/0/48/22","name":"IsConnectionIPv6","entityType":"Column","type":"bool"},"apdmdata/0/48/23":{"id":"apdmdata/0/48/23","name":"IsIPv6ConnectionPossible","entityType":"Column","type":"bool"},"apdmdata/0/48/24":{"id":"apdmdata/0/48/24","name":"Source","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_EAP_ACAServiceConfig":{"id":"apdmdata/DeviceManager/Env_EAP_ACAServiceConfig","entityType":"Table","name":"Env_EAP_ACAServiceConfig","columns":{"apdmdata/0/49/0":{"id":"apdmdata/0/49/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/49/1":{"id":"apdmdata/0/49/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/49/2":{"id":"apdmdata/0/49/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/49/3":{"id":"apdmdata/0/49/3","name":"Json","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/ApSkuDetails":{"id":"apdmdata/DeviceManager/ApSkuDetails","entityType":"Table","name":"ApSkuDetails","columns":{"apdmdata/0/50/0":{"id":"apdmdata/0/50/0","name":"AP SKU","entityType":"Column","type":"string"},"apdmdata/0/50/1":{"id":"apdmdata/0/50/1","name":"Generation","entityType":"Column","type":"string"},"apdmdata/0/50/2":{"id":"apdmdata/0/50/2","name":"Cores","entityType":"Column","type":"string"},"apdmdata/0/50/3":{"id":"apdmdata/0/50/3","name":"Memory _GB_","entityType":"Column","type":"long"},"apdmdata/0/50/4":{"id":"apdmdata/0/50/4","name":"HDD _TB_","entityType":"Column","type":"long"},"apdmdata/0/50/5":{"id":"apdmdata/0/50/5","name":"HDD Config","entityType":"Column","type":"string"},"apdmdata/0/50/6":{"id":"apdmdata/0/50/6","name":"SSD _GB_","entityType":"Column","type":"long"},"apdmdata/0/50/7":{"id":"apdmdata/0/50/7","name":"SSD Config","entityType":"Column","type":"string"},"apdmdata/0/50/8":{"id":"apdmdata/0/50/8","name":"Network _Gb_s_","entityType":"Column","type":"long"},"apdmdata/0/50/9":{"id":"apdmdata/0/50/9","name":"FPGA","entityType":"Column","type":"string"},"apdmdata/0/50/10":{"id":"apdmdata/0/50/10","name":"HSM","entityType":"Column","type":"string"},"apdmdata/0/50/11":{"id":"apdmdata/0/50/11","name":"Role","entityType":"Column","type":"string"},"apdmdata/0/50/12":{"id":"apdmdata/0/50/12","name":"Notes","entityType":"Column","type":"string"},"apdmdata/0/50/13":{"id":"apdmdata/0/50/13","name":"TimeStamp","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/PxeTimeoutCauseSnapshot":{"id":"apdmdata/DeviceManager/PxeTimeoutCauseSnapshot","entityType":"Table","name":"PxeTimeoutCauseSnapshot","columns":{"apdmdata/0/51/0":{"id":"apdmdata/0/51/0","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/51/1":{"id":"apdmdata/0/51/1","name":"SKU","entityType":"Column","type":"string"},"apdmdata/0/51/2":{"id":"apdmdata/0/51/2","name":"DebuggingDetails","entityType":"Column","type":"string"},"apdmdata/0/51/3":{"id":"apdmdata/0/51/3","name":"TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/51/4":{"id":"apdmdata/0/51/4","name":"count_","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Env_MachinesHealth_Aggregated":{"id":"apdmdata/DeviceManager/Env_MachinesHealth_Aggregated","entityType":"Table","name":"Env_MachinesHealth_Aggregated","columns":{"apdmdata/0/52/0":{"id":"apdmdata/0/52/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/52/1":{"id":"apdmdata/0/52/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/52/2":{"id":"apdmdata/0/52/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/52/3":{"id":"apdmdata/0/52/3","name":"machineFunction","entityType":"Column","type":"string"},"apdmdata/0/52/4":{"id":"apdmdata/0/52/4","name":"machineType","entityType":"Column","type":"string"},"apdmdata/0/52/5":{"id":"apdmdata/0/52/5","name":"totalMachines","entityType":"Column","type":"long"},"apdmdata/0/52/6":{"id":"apdmdata/0/52/6","name":"healthyMachines","entityType":"Column","type":"long"},"apdmdata/0/52/7":{"id":"apdmdata/0/52/7","name":"healthyAndProbationContainers","entityType":"Column","type":"long"},"apdmdata/0/52/8":{"id":"apdmdata/0/52/8","name":"healthyAndProbationAndFailingContainers","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Env_MachinesHealth_Aggregated_WoW":{"id":"apdmdata/DeviceManager/Env_MachinesHealth_Aggregated_WoW","entityType":"Table","name":"Env_MachinesHealth_Aggregated_WoW","columns":{"apdmdata/0/53/0":{"id":"apdmdata/0/53/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/53/1":{"id":"apdmdata/0/53/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/53/2":{"id":"apdmdata/0/53/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/53/3":{"id":"apdmdata/0/53/3","name":"machineFunction","entityType":"Column","type":"string"},"apdmdata/0/53/4":{"id":"apdmdata/0/53/4","name":"machineType","entityType":"Column","type":"string"},"apdmdata/0/53/5":{"id":"apdmdata/0/53/5","name":"IsIPv4Required","entityType":"Column","type":"bool"},"apdmdata/0/53/6":{"id":"apdmdata/0/53/6","name":"totalMachines","entityType":"Column","type":"long"},"apdmdata/0/53/7":{"id":"apdmdata/0/53/7","name":"healthyMachines","entityType":"Column","type":"long"},"apdmdata/0/53/8":{"id":"apdmdata/0/53/8","name":"probationMachines","entityType":"Column","type":"long"},"apdmdata/0/53/9":{"id":"apdmdata/0/53/9","name":"failingMachines","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Cluster_SKUData":{"id":"apdmdata/DeviceManager/Cluster_SKUData","entityType":"Table","name":"Cluster_SKUData","columns":{"apdmdata/0/54/0":{"id":"apdmdata/0/54/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/54/1":{"id":"apdmdata/0/54/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/54/2":{"id":"apdmdata/0/54/2","name":"AP_SKU","entityType":"Column","type":"string"},"apdmdata/0/54/3":{"id":"apdmdata/0/54/3","name":"Generation","entityType":"Column","type":"string"},"apdmdata/0/54/4":{"id":"apdmdata/0/54/4","name":"Cores","entityType":"Column","type":"string"},"apdmdata/0/54/5":{"id":"apdmdata/0/54/5","name":"Memory_GB","entityType":"Column","type":"long"},"apdmdata/0/54/6":{"id":"apdmdata/0/54/6","name":"HDD_TB","entityType":"Column","type":"long"},"apdmdata/0/54/7":{"id":"apdmdata/0/54/7","name":"HDD_Config","entityType":"Column","type":"string"},"apdmdata/0/54/8":{"id":"apdmdata/0/54/8","name":"SSD_GB","entityType":"Column","type":"long"},"apdmdata/0/54/9":{"id":"apdmdata/0/54/9","name":"SSD_Config","entityType":"Column","type":"string"},"apdmdata/0/54/10":{"id":"apdmdata/0/54/10","name":"Network_GB_s","entityType":"Column","type":"long"},"apdmdata/0/54/11":{"id":"apdmdata/0/54/11","name":"FPGA","entityType":"Column","type":"string"},"apdmdata/0/54/12":{"id":"apdmdata/0/54/12","name":"HSM","entityType":"Column","type":"string"},"apdmdata/0/54/13":{"id":"apdmdata/0/54/13","name":"Role","entityType":"Column","type":"string"},"apdmdata/0/54/14":{"id":"apdmdata/0/54/14","name":"Notes","entityType":"Column","type":"string"},"apdmdata/0/54/15":{"id":"apdmdata/0/54/15","name":"TimeStamp","entityType":"Column","type":"datetime"}}},"apdmdata/DeviceManager/RepairTracking2":{"id":"apdmdata/DeviceManager/RepairTracking2","entityType":"Table","name":"RepairTracking2","columns":{"apdmdata/0/55/0":{"id":"apdmdata/0/55/0","name":"UploadTimestamp","entityType":"Column","type":"datetime"},"apdmdata/0/55/1":{"id":"apdmdata/0/55/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/55/2":{"id":"apdmdata/0/55/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/55/3":{"id":"apdmdata/0/55/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/55/4":{"id":"apdmdata/0/55/4","name":"MachineType","entityType":"Column","type":"string"},"apdmdata/0/55/5":{"id":"apdmdata/0/55/5","name":"AuditAt","entityType":"Column","type":"datetime"},"apdmdata/0/55/6":{"id":"apdmdata/0/55/6","name":"MachineStatus","entityType":"Column","type":"string"},"apdmdata/0/55/7":{"id":"apdmdata/0/55/7","name":"StartedAt","entityType":"Column","type":"datetime"},"apdmdata/0/55/8":{"id":"apdmdata/0/55/8","name":"Duration_in_hour","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/RepairTracking":{"id":"apdmdata/DeviceManager/RepairTracking","entityType":"Table","name":"RepairTracking","columns":{"apdmdata/0/56/0":{"id":"apdmdata/0/56/0","name":"UploadTimestamp","entityType":"Column","type":"datetime"},"apdmdata/0/56/1":{"id":"apdmdata/0/56/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/56/2":{"id":"apdmdata/0/56/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/56/3":{"id":"apdmdata/0/56/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/56/4":{"id":"apdmdata/0/56/4","name":"MachineType","entityType":"Column","type":"string"},"apdmdata/0/56/5":{"id":"apdmdata/0/56/5","name":"AuditAt","entityType":"Column","type":"datetime"},"apdmdata/0/56/6":{"id":"apdmdata/0/56/6","name":"MachineStatus","entityType":"Column","type":"string"},"apdmdata/0/56/7":{"id":"apdmdata/0/56/7","name":"StartedAt","entityType":"Column","type":"datetime"},"apdmdata/0/56/8":{"id":"apdmdata/0/56/8","name":"Duration_in_hour","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Cluster_AnycastDevices":{"id":"apdmdata/DeviceManager/Cluster_AnycastDevices","entityType":"Table","name":"Cluster_AnycastDevices","columns":{"apdmdata/0/57/0":{"id":"apdmdata/0/57/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/57/1":{"id":"apdmdata/0/57/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/57/2":{"id":"apdmdata/0/57/2","name":"DeviceName","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/Env_ContainerHostResourceUsage":{"id":"apdmdata/DeviceManager/Env_ContainerHostResourceUsage","entityType":"Table","name":"Env_ContainerHostResourceUsage","columns":{"apdmdata/0/58/0":{"id":"apdmdata/0/58/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/58/1":{"id":"apdmdata/0/58/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/58/2":{"id":"apdmdata/0/58/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/58/3":{"id":"apdmdata/0/58/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/58/4":{"id":"apdmdata/0/58/4","name":"ContainerEnvName","entityType":"Column","type":"string"},"apdmdata/0/58/5":{"id":"apdmdata/0/58/5","name":"ContainerName","entityType":"Column","type":"string"},"apdmdata/0/58/6":{"id":"apdmdata/0/58/6","name":"Resources","entityType":"Column","type":"string"},"apdmdata/0/58/7":{"id":"apdmdata/0/58/7","name":"PortMappings","entityType":"Column","type":"string"},"apdmdata/0/58/8":{"id":"apdmdata/0/58/8","name":"AssignmentState","entityType":"Column","type":"string"},"apdmdata/0/58/9":{"id":"apdmdata/0/58/9","name":"IsWindowsContainer","entityType":"Column","type":"string"},"apdmdata/0/58/10":{"id":"apdmdata/0/58/10","name":"ContainerIndex","entityType":"Column","type":"string"},"apdmdata/0/58/11":{"id":"apdmdata/0/58/11","name":"ContainerIPv4","entityType":"Column","type":"string"}}},"apdmdata/DeviceManager/RepairTracking12":{"id":"apdmdata/DeviceManager/RepairTracking12","entityType":"Table","name":"RepairTracking12","columns":{"apdmdata/0/59/0":{"id":"apdmdata/0/59/0","name":"UploadTimestamp","entityType":"Column","type":"datetime"},"apdmdata/0/59/1":{"id":"apdmdata/0/59/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/59/2":{"id":"apdmdata/0/59/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/59/3":{"id":"apdmdata/0/59/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/59/4":{"id":"apdmdata/0/59/4","name":"MachineType","entityType":"Column","type":"string"},"apdmdata/0/59/5":{"id":"apdmdata/0/59/5","name":"AuditAt","entityType":"Column","type":"datetime"},"apdmdata/0/59/6":{"id":"apdmdata/0/59/6","name":"MachineStatus","entityType":"Column","type":"string"},"apdmdata/0/59/7":{"id":"apdmdata/0/59/7","name":"StartedAt","entityType":"Column","type":"datetime"},"apdmdata/0/59/8":{"id":"apdmdata/0/59/8","name":"Duration_in_hour","entityType":"Column","type":"long"}}},"apdmdata/DeviceManager/Env_MachinesAdjustment":{"id":"apdmdata/DeviceManager/Env_MachinesAdjustment","entityType":"Table","name":"Env_MachinesAdjustment","columns":{"apdmdata/0/60/0":{"id":"apdmdata/0/60/0","name":"AutoGen_TimeStamp","entityType":"Column","type":"datetime"},"apdmdata/0/60/1":{"id":"apdmdata/0/60/1","name":"AutoGen_Cluster","entityType":"Column","type":"string"},"apdmdata/0/60/2":{"id":"apdmdata/0/60/2","name":"AutoGen_Environment","entityType":"Column","type":"string"},"apdmdata/0/60/3":{"id":"apdmdata/0/60/3","name":"MachineName","entityType":"Column","type":"string"},"apdmdata/0/60/4":{"id":"apdmdata/0/60/4","name":"ResourceCategory","entityType":"Column","type":"string"},"apdmdata/0/60/5":{"id":"apdmdata/0/60/5","name":"CurrentLimit","entityType":"Column","type":"real"},"apdmdata/0/60/6":{"id":"apdmdata/0/60/6","name":"RecommendedLimit","entityType":"Column","type":"real"}}},"apdmdata/DeviceManager/ReuseRanges":{"id":"apdmdata/DeviceManager/ReuseRanges","entityType":"Table","name":"ReuseRanges","columns":{"apdmdata/0/61/0":{"id":"apdmdata/0/61/0","name":"IPRange","entityType":"Column","type":"string"}}}},"functions":{"$fn_apdmdata/0/0":{"id":"$fn_apdmdata/0/0","entityType":"Function","body":"{\r\n        Metadata_IterationStatus\r\n        | where AutoGen_TimeStamp between ((timeStamp - 2d)..timeStamp) and AutoGen_Environment == \"\"\r\n        | distinct AutoGen_Cluster\r\n        | project Cluster=AutoGen_Cluster;\r\n    }","docstring":"Gets all the clusters at a particular time with look-up of 2 days","functionKind":"UnknownFunction","name":"GetAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/1":{"id":"$fn_apdmdata/0/1","entityType":"Function","body":"{\r\n        GetAllClusters_AtTime(ago(30min));\r\n    }","docstring":"Gets latest list of clusters. Looks at data which is 30min older so that all the tables are populated","functionKind":"UnknownFunction","name":"GetAllClusters_Latest","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/2":{"id":"$fn_apdmdata/0/2","entityType":"Function","body":"{\r\n        let ClusterTimeStamps = Metadata_IterationStatus \r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and AutoGen_Cluster in~ (ClusterList) and AutoGen_Environment == \"\" and ExtractionResult == \"Success\" \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        let ClusterEnvironments = ClusterTimeStamps \r\n            | join hint.strategy=broadcast  (Cluster_Environments\r\n                | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)\r\n                | where Type =~ \"Physical\")\r\n                on AutoGen_Cluster, AutoGen_TimeStamp\r\n            | project AutoGen_Cluster, Environment;\r\n        // The earlier functions assumed that there will be only one extraction result for a <Cluster,Environment> pair. \r\n        // Going forward, we are maintaining extraction results at the table level so, there would be multiple extraction result entries for <Cluster,Environment> pair.\r\n        // In order to support multiple extraction result entries for a <Cluster,Environment> pair in the functions, we will consider AutoGen_TimeStamp where extraction results of all tables for that <Cluster,Environment> pair was Success.\r\n        // ClusterEnvAllTimeStamps - All entries for <Cluster, Environment> under Metadata_IterationStatus table\r\n        let ClusterEnvAllTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)  \r\n            | summarize by AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp, ExtractionResult;\r\n        // ClusterEnvNonSuccessTimeStamps - All entries for <Cluster, Environment> under Metadata_IterationStatus table where ExtractionResult is not \"Success\".\r\n        let ClusterEnvNonSuccessTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and ExtractionResult !~ \"Success\" \r\n            | summarize by AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp, ExtractionResult;\r\n        // ClusterEnvSuccessTimeStamps - All entries in ClusterEnvAllTimeStamps minus all entries in ClusterEnvNonSuccessTimeStamps. This will give us max AutoGen_TimeStamp where ExtractionResult was Success for all tables.\r\n        let ClusterEnvSuccessTimeStamps = ClusterEnvAllTimeStamps\r\n            | join kind=leftanti ClusterEnvNonSuccessTimeStamps on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster, AutoGen_Environment;\r\n        let ClusterEnvTimeStamps = ClusterEnvironments \r\n            | join hint.strategy=broadcast (ClusterEnvSuccessTimeStamps) on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment\r\n            | project AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp;\r\n        ClusterEnvTimeStamps \r\n        | join hint.strategy=broadcast (T | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)) on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_Environment1, AutoGen_TimeStamp1;\r\n    }","docstring":"Gets data for environments from selected clusters at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","functionKind":"UnknownFunction","name":"GetEnvDataForAllEnvsInSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]},{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/3":{"id":"$fn_apdmdata/0/3","entityType":"Function","body":"{\r\n        GetEnvDataForAllEnvsInSelectedClusters_AtTime(T, GetAllClusters_AtTime(timeStamp), timeStamp);\r\n    }","docstring":"Gets data for environments from all clusters at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","functionKind":"UnknownFunction","name":"GetEnvDataForAllEnvsInAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/4":{"id":"$fn_apdmdata/0/4","entityType":"Function","body":"{\r\n        GetEnvDataForAllEnvsInAllClusters_AtTime(T, ago(30min));\r\n    }","docstring":"Gets latest data for environments in a cluster. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Looks at data which is 30min older so that all the tables are populated","functionKind":"UnknownFunction","name":"GetEnvDataForAllEnvsInAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/5":{"id":"$fn_apdmdata/0/5","entityType":"Function","body":"{\r\n        let clusterTable = print Cluster=cluster;\r\n        GetEnvDataForAllEnvsInSelectedClusters_AtTime(T, clusterTable, timeStamp);\r\n    }","docstring":"Gets data for environments in a cluster at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster and timestamp as inputs. Looks at data only for previous two days ","functionKind":"UnknownFunction","name":"GetEnvDataForAllEnvsInCluster_AtTime","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]},{"name":"cluster","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/6":{"id":"$fn_apdmdata/0/6","entityType":"Function","body":"{\r\n        GetEnvDataForAllEnvsInCluster_AtTime(T, cluster, ago(30min));\r\n    }","docstring":"Gets latest data for environments in a cluster. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","functionKind":"UnknownFunction","name":"GetEnvDataForAllEnvsInCluster_Latest","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]},{"name":"cluster","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/7":{"id":"$fn_apdmdata/0/7","entityType":"Function","body":"{\r\n        let ClusterTimeStamps = Metadata_IterationStatus \r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and AutoGen_Cluster in~ (ClusterList) and TableName hasprefix \"Cluster_\" and ExtractionResult == \"Success\" \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        // The earlier functions assumed that there will be only one extraction result for a Cluster. \r\n        // Going forward, we are maintaining extraction results at the table level so, there would be multiple extraction result entries for a Cluster.\r\n        // In order to support multiple extraction result entries for a Cluster in the functions, we will consider AutoGen_TimeStamp where extraction results of all tables for that Cluster was Success.\r\n        // ClusterAllTimeStamps - All entries for <Cluster, Environment> under Metadata_IterationStatus table\r\n        let ClusterAllTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and TableName hasprefix \"Cluster_\"\r\n            | summarize by AutoGen_Cluster, AutoGen_TimeStamp, ExtractionResult;\r\n        // ClusterNonSuccessTimeStamps - All entries for Cluster under Metadata_IterationStatus table where ExtractionResult is not \"Success\".\r\n        let ClusterNonSuccessTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and ExtractionResult !~ \"Success\" and TableName hasprefix \"Cluster_\"\r\n            | summarize by AutoGen_Cluster, AutoGen_TimeStamp, ExtractionResult;\r\n        // ClusterSuccessTimeStamps - All entries in ClusterAllTimeStamps minus all entries in ClusterNonSuccessTimeStamps. This will give us max AutoGen_TimeStamp where ExtractionResult was Success for all tables.\r\n        let ClusterSuccessTimeStamps = ClusterAllTimeStamps\r\n            | join kind=leftanti ClusterNonSuccessTimeStamps on AutoGen_Cluster, AutoGen_TimeStamp \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        ClusterSuccessTimeStamps \r\n        | join hint.strategy=broadcast (T | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)) on AutoGen_Cluster, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_TimeStamp1;\r\n        //| distinct *;\r\n    }","docstring":"Gets data for selected clusters at a particular time. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","functionKind":"UnknownFunction","name":"GetClusterDataForSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"}]},{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/8":{"id":"$fn_apdmdata/0/8","entityType":"Function","body":"{\r\n        GetClusterDataForSelectedClusters_AtTime(T, GetAllClusters_AtTime(timeStamp), timeStamp);\r\n    }","docstring":"Gets data for all clusters at a particular time. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","functionKind":"UnknownFunction","name":"GetClusterDataForAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"}]},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/9":{"id":"$fn_apdmdata/0/9","entityType":"Function","body":"{\r\n        GetClusterDataForAllClusters_AtTime(T, ago(30min));\r\n    }","docstring":"Gets latest data for all clusters. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Looks at data only for previous two days. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","functionKind":"UnknownFunction","name":"GetClusterDataForAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/10":{"id":"$fn_apdmdata/0/10","entityType":"Function","body":"{\n        let clusterAndIslands = GetClusterDataForAllClusters_Latest(Cluster_GeneralInfo)\n            | extend CloudIsland = case (ClusterAliases contains \"PublicPilotFish\", \"PilotFish\",\n                ClusterAliases contains \"MoonCake\", \"MoonCake\",\n                ClusterAliases contains \"BlackForest\", \"BlackForest\",\n                ClusterAliases contains \"FairFaxDod\", \"FairFaxDod\",\n                ClusterAliases contains \"FairFax\", \"FairFax\",\n                ClusterAliases contains \"USNat\", \"USNat\",\n                ClusterAliases contains \"USSec\", \"USSec\",\n                ClusterAliases contains \"Delos\", \"Delos\",\n                ClusterAliases contains \"Bleu\", \"Bleu\",\n                ClusterAliases contains \"GovSG\", \"GovSG\",\n                isempty(ClusterAliases), \"\",\n                \"ApClassic\")\n            | project AutoGen_Cluster, CloudIsland;\n        clusterAndIslands\n        | join kind= inner (T) on AutoGen_Cluster \n        | project-away AutoGen_Cluster1;\n    }","docstring":"Extend the table with CloudIsland column (ApClassic/PilotFish/) based on AutoGen_Cluster and ClusterAliases columns","folder":"ColumnExtensions","functionKind":"UnknownFunction","name":"ExtendCloudIsland","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/11":{"id":"$fn_apdmdata/0/11","entityType":"Function","body":"{\r\n        T\r\n        | extend ManagementType = case(physicalMachineName == \"\", \"Unassigned\",\r\n            SKU =~ \"NonStdHw\" and machineType =~ \"MachineForLogicalDevice\" and AutoGen_Environment contains \"-AzNodes-\", \"PfClient\",\r\n            SKU !~ \"NonStdHw\" and machineType =~ \"LegacyMachine\" and AutoGen_Environment contains \"-AzNodes-\" and staticMachineFunction in~ (\"HostNode\", \"Soc\"), \"Azap\",\r\n            SKU contains \"apvm_xbl_\" and machineType =~ \"MachineForLogicalDevice\", \"XboxApVM\",\r\n            machineType in ('LegacyMachine', 'LogicalMachine', 'LogicalV2Machine', 'LogicalNameMachine'), 'BareMetal',\r\n            machineType =~ \"AzureContainerV2\", \"ElasticApV2\",\r\n            machineType =~ \"MachineForLogicalDevice\", \"ApClient\",\r\n            machineType);\r\n    }","docstring":"Extend the table with ManagementType column (ApClient/PfClient/BareMetal/Unassigned/ApContainer/ElasticApV2/Azap/XboxApVM etc...) based on machineType, SKU, physicalMachineName, staticMachineFunction and AutoGen_Environment column","folder":"ColumnExtensions","functionKind":"UnknownFunction","name":"ExtendManagementType","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_Environment","cslType":"string","type":"System.String"},{"name":"machineType","cslType":"string","type":"System.String"},{"name":"SKU","cslType":"string","type":"System.String"},{"name":"physicalMachineName","cslType":"string","type":"System.String"},{"name":"staticMachineFunction","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/12":{"id":"$fn_apdmdata/0/12","entityType":"Function","body":"{\r\n        Env_AuditsWithCookie\r\n        | where Category =~ 'RepairActionState'\r\n        | project AutoGen_Cluster, AutoGen_Environment, AuditId, AuditAt, Category, MachineName=Param1, FromRepair=Param2, FromRepairActionState=Param3, ToRepair=Param4, ToRepairActionState=Param5, PhysicalMachineName=Param20, Details;\r\n    }","docstring":"Gets RepairActionState audits","functionKind":"UnknownFunction","name":"GetRepairActionStateAudits","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/13":{"id":"$fn_apdmdata/0/13","entityType":"Function","body":"{\r\n        let physicalMrsmAudits = Env_AuditsWithCookie\r\n            | where Category =~ 'PhysicalMRSM'\r\n            | project AutoGen_Cluster, AutoGen_Environment=Param19, AuditAt, Category, MachineName=Param20, MachineStatus=Param2, FromRepairState=Param3, ToRepairState=Param4, Description=Param5, RepairScheduledAt=todatetime(Param6), RepairId=Param17, Details, RequestSource=Param7, RepairFlags=Param18, LogicalMachineName=Param1;\r\n        let mrsmAudits = Env_AuditsWithCookie\r\n            | where Category =~ 'MRSM' or Category =~ 'MachineRepairStateManagement'\r\n            | project AutoGen_Cluster, AutoGen_Environment, AuditAt, Category, MachineName=Param1, MachineStatus=Param2, FromRepairState=Param3, ToRepairState=Param4, Description=Param5, RepairScheduledAt=todatetime(Param6), RepairId=Param17, Details, RequestSource=Param7, RepairFlags=Param18, PhysicalMachineName=Param20;\r\n        physicalMrsmAudits\r\n        | union mrsmAudits;\r\n    }","docstring":"Gets Repair audits","functionKind":"UnknownFunction","name":"GetRepairAudits","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/14":{"id":"$fn_apdmdata/0/14","entityType":"Function","body":"{\r\n        let physicalMsmAudits = Env_AuditsWithCookie\r\n            | where Category =~ 'PhysicalMSM'\r\n            | project AutoGen_Cluster, AutoGen_Environment, AuditAt, Category, MachineName=Param20, FromState=Param2, ToState=Param3, Reason=Param4, Error1=Param5, Error2=Param6, Error3=Param7, Error4=Param8, Details, LogicalMachineName=Param1, PhysicalMachineName=Param20;\r\n        let msmAudits = Env_AuditsWithCookie\r\n            | where Category =~ 'msm'\r\n            | project AutoGen_Cluster, AutoGen_Environment, AuditAt, Category, MachineName=Param1, FromState=Param2, ToState=Param3, Reason=Param4, Error1=Param5, Error2=Param6, Error3=Param7, Error4=Param8, Details, LogicalMachineName=Param1, PhysicalMachineName=Param20;\r\n        physicalMsmAudits\r\n        | union msmAudits;\r\n    }","docstring":"Gets StateManagement audits","functionKind":"UnknownFunction","name":"GetStateManagementAudits","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/15":{"id":"$fn_apdmdata/0/15","entityType":"Function","body":"{\r\n        let ClustersAndQueryTimeStamps = ClusterList\r\n            | extend dummyColumn = 1 \r\n            | join kind=inner (TimeStamps | extend dummyColumn = 1) on dummyColumn\r\n            | project-away dummyColumn, dummyColumn1;\r\n        let ClustersAndQueryAndLatestTimeStamps = ClustersAndQueryTimeStamps \r\n            | join kind=inner (Metadata_IterationStatus | where AutoGen_Environment == \"\" and ExtractionResult == \"Success\") on $left.Cluster == $right.AutoGen_Cluster \r\n            | where Query_TimeStamp > AutoGen_TimeStamp \r\n            | summarize arg_max(AutoGen_TimeStamp, *) by AutoGen_Cluster, Query_TimeStamp\r\n            | project Query_TimeStamp, AutoGen_Cluster, AutoGen_TimeStamp;\r\n        let ClusterAndQueryTimeStampsAndEnvironments = ClustersAndQueryAndLatestTimeStamps \r\n            | join (Cluster_Environments | where Type == \"Physical\") on AutoGen_Cluster, AutoGen_TimeStamp \r\n            | project Query_TimeStamp, AutoGen_Cluster, Environment;\r\n        let timeStamp = ago(30m);\r\n        let ClusterEnvAllTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)  \r\n            | summarize by AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp, ExtractionResult;\r\n        let ClusterEnvNonSuccessTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and ExtractionResult !~ \"Success\" \r\n            | summarize by AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp, ExtractionResult;\r\n        let ClusterEnvSuccessTimeStamps = ClusterEnvAllTimeStamps\r\n            | join kind=leftanti ClusterEnvNonSuccessTimeStamps on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster, AutoGen_Environment;\r\n        let ClusterAndQueryAndLatestTimeStampsAndEnvironments = ClusterAndQueryTimeStampsAndEnvironments \r\n            | join kind=inner (ClusterEnvSuccessTimeStamps) on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment \r\n            //| where Query_TimeStamp between ((AutoGen_TimeStamp - 2d)..AutoGen_TimeStamp) | summarize arg_max(AutoGen_TimeStamp, *) by AutoGen_Cluster, Query_TimeStamp, AutoGen_Environment \r\n            | project Query_TimeStamp, AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp;\r\n        ClusterAndQueryAndLatestTimeStampsAndEnvironments\r\n        | join hint.strategy=broadcast (T) on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_Environment1, AutoGen_TimeStamp1;\r\n    }","docstring":"Gets data for selected clusters at multiple timestamps. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days. Adds an extra column Query_TimeStamp to the output table","folder":"LegacyFunctions","functionKind":"UnknownFunction","name":"legacy_GetEnvDataForAllEnvsInSelectedClusters_AtTimeStamps","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_Environment","cslType":"string","type":"System.String"}]},{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"TimeStamps","columns":[{"name":"Query_TimeStamp","cslType":"datetime","type":"System.DateTime"}]}]},"$fn_apdmdata/0/16":{"id":"$fn_apdmdata/0/16","entityType":"Function","body":"{\r\n        v1_GetClusterDataForAllClusters_AtTime(T, ago(30min));\r\n    }","docstring":"Gets latest data for all clusters. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Looks at data only for previous two days. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetClusterDataForAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/17":{"id":"$fn_apdmdata/0/17","entityType":"Function","body":"{\r\n        v1_GetClusterDataForSelectedClusters_AtTime(v1_GetAllClusters_AtTime(timeStamp), T, timeStamp);\r\n    }","docstring":"Gets data for all clusters at a particular time. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetClusterDataForAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/18":{"id":"$fn_apdmdata/0/18","entityType":"Function","body":"{\r\n        let ClusterTimeStamps = Metadata_IterationStatus \r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and AutoGen_Cluster in~ (ClusterList) and AutoGen_Environment == \"\" and ExtractionResult == \"Success\" and TableName =~ T\r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        ClusterTimeStamps \r\n        | join hint.strategy=broadcast (table(T) | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)) on AutoGen_Cluster, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_TimeStamp1;\r\n    }","docstring":"Gets data for selected clusters at a particular time. The input table should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetClusterDataForSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/19":{"id":"$fn_apdmdata/0/19","entityType":"Function","body":"{\r\n    Metadata_IterationStatus | where AutoGen_TimeStamp between ((timeStamp - 2d) .. timeStamp) and AutoGen_Environment == \"\"  | distinct AutoGen_Cluster | project Cluster=AutoGen_Cluster;\r\n}","docstring":"Gets all the clusters at a particular time with look-up of 2 days","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/20":{"id":"$fn_apdmdata/0/20","entityType":"Function","body":"{\r\n    v1_GetAllClusters_AtTime(ago(30min));\r\n}","docstring":"Gets latest list of clusters. Looks at data which is 30min older so that all the tables are populated","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetAllClusters_Latest","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/21":{"id":"$fn_apdmdata/0/21","entityType":"Function","body":"{\r\n    v1_GetEnvDataForAllEnvsInAllClusters_AtTime(T, ago(30min));\r\n}","docstring":"Gets latest data for environments in a cluster. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Looks at data which is 30min older so that all the tables are populated","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetEnvDataForAllEnvsInAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/22":{"id":"$fn_apdmdata/0/22","entityType":"Function","body":"{\r\n    v1_GetEnvDataForAllEnvsInSelectedClusters_AtTime(v1_GetAllClusters_AtTime(timeStamp), T, timeStamp);\r\n}","docstring":"Gets data for environments from all clusters at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetEnvDataForAllEnvsInAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/23":{"id":"$fn_apdmdata/0/23","entityType":"Function","body":"{\r\n    let ClusterTimeStamps = Metadata_IterationStatus \r\n    | where AutoGen_TimeStamp between((timeStamp - 2d) .. timeStamp) and AutoGen_Cluster in~ (ClusterList) and AutoGen_Environment == \"\" and ExtractionResult == \"Success\" \r\n    | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n    let ClusterEnvironments = ClusterTimeStamps \r\n    | join hint.strategy=broadcast  (Cluster_Environments | where AutoGen_TimeStamp between((timeStamp - 2d) .. timeStamp) | where Type =~ \"Physical\") on AutoGen_Cluster, AutoGen_TimeStamp | project AutoGen_Cluster, Environment;\r\n    let ClusterEnvTimeStamps = ClusterEnvironments \r\n    | join hint.strategy=broadcast (Metadata_IterationStatus | where AutoGen_TimeStamp between((timeStamp - 2d) .. timeStamp) and ExtractionResult == \"Success\" and TableName =~ T\r\n    | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster, AutoGen_Environment \r\n    | project AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp) on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment | project AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp;\r\n    ClusterEnvTimeStamps \r\n    | join hint.strategy=broadcast (table(T) | where AutoGen_TimeStamp between((timeStamp - 2d) .. timeStamp)) on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n    | project-away AutoGen_Cluster1, AutoGen_Environment1, AutoGen_TimeStamp1;\r\n}","docstring":"Gets data for environments from selected clusters at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetEnvDataForAllEnvsInSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/24":{"id":"$fn_apdmdata/0/24","entityType":"Function","body":"{\r\n    v1_GetEnvDataForAllEnvsInCluster_AtTime(cluster, T, ago(30min));\r\n}","docstring":"Gets latest data for environments in a cluster. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetEnvDataForAllEnvsInCluster_Latest","outputColumns":[],"inputParameters":[{"name":"cluster","cslType":"string","type":"System.String"},{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/25":{"id":"$fn_apdmdata/0/25","entityType":"Function","body":"{\r\n    let clusterTable = print Cluster=cluster;\r\n    v1_GetEnvDataForAllEnvsInSelectedClusters_AtTime(clusterTable, T, timeStamp);\r\n}","docstring":"Gets data for environments in a cluster at a particular time. The input table should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster and timestamp as inputs. Looks at data only for previous two days ","folder":"v1","functionKind":"UnknownFunction","name":"v1_GetEnvDataForAllEnvsInCluster_AtTime","outputColumns":[],"inputParameters":[{"name":"cluster","cslType":"string","type":"System.String"},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/26":{"id":"$fn_apdmdata/0/26","entityType":"Function","body":"{\r\n        let clusterSharedIni = GetClusterDataForAllClusters_Latest(Cluster_SharedIni)\r\n            | extend FlatteningAttributes = case(split(Parameter, '$')[1] == \"\", \"\", split(Parameter, '$')[0])\r\n            | extend ParameterWithoutAttribute = case(split(Parameter, '$')[1] == \"\", split(Parameter, '$')[0], split(Parameter, '$')[1])\r\n            | project AutoGen_TimeStamp, AutoGen_Cluster, Section, Parameter, FlatteningAttributes, ParameterWithoutAttribute;\r\n        clusterSharedIni\r\n        | join kind= inner (T) on AutoGen_Cluster, Parameter, AutoGen_TimeStamp\r\n        | project-away AutoGen_TimeStamp1, AutoGen_Cluster1, Parameter1, Section1;\r\n    }","docstring":"Extend the table with 2 columns","folder":"ColumnExtensions","functionKind":"UnknownFunction","name":"ExtendSharedIni","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"Parameter","cslType":"string","type":"System.String"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"Section","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/27":{"id":"$fn_apdmdata/0/27","entityType":"Function","body":"{\r\n        let clusterSharedIni = GetClusterDataForAllClusters_Latest(Cluster_SharedIni)\r\n            | extend ParameterWithoutAttribute = case(split(Parameter, '$')[1] == \"\", split(Parameter, '$')[0], split(split(Parameter, '$')[1], '_')[0])\r\n            | extend FlatteningAttributes = case(split(Parameter, '$')[1] == \"\", \"\", split(Parameter, '$')[0])\r\n            | extend MachineFunction = case(split(Parameter, '$')[1] == \"\", \"\", split(split(Parameter, '$')[1], '_')[1])\r\n            | project AutoGen_TimeStamp, AutoGen_Cluster, Section, Parameter, FlatteningAttributes, ParameterWithoutAttribute, MachineFunction;\r\n        clusterSharedIni\r\n        | join kind= inner (T) on AutoGen_Cluster, Parameter, AutoGen_TimeStamp\r\n        | project-away AutoGen_TimeStamp1, AutoGen_Cluster1, Parameter1, Section1;\r\n    }","docstring":"Extend the Cluster_SharedIni table with 3 columns: FlatteningAttributes, ParameterWithoutAttributes and MachineFunction","folder":"ColumnExtensions","functionKind":"UnknownFunction","name":"ExtendClusterSharedIni","outputColumns":[],"inputParameters":[{"name":"T","columns":[{"name":"Parameter","cslType":"string","type":"System.String"},{"name":"AutoGen_Cluster","cslType":"string","type":"System.String"},{"name":"AutoGen_TimeStamp","cslType":"datetime","type":"System.DateTime"},{"name":"Section","cslType":"string","type":"System.String"}]}]},"$fn_apdmdata/0/28":{"id":"$fn_apdmdata/0/28","entityType":"Function","body":"{\r\n        Metadata_IterationStatus\r\n        | where AutoGen_TimeStamp between ((timeStamp - 2d)..timeStamp) and AutoGen_Environment == \"\"\r\n        | distinct AutoGen_Cluster\r\n        | project Cluster=AutoGen_Cluster;\r\n    }","docstring":"Gets all the clusters at a particular time with look-up of 2 days","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/29":{"id":"$fn_apdmdata/0/29","entityType":"Function","body":"{\r\n        v2_GetAllClusters_AtTime(ago(30min));\r\n    }","docstring":"Gets latest list of clusters. Looks at data which is 30min older so that all the tables are populated","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetAllClusters_Latest","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/30":{"id":"$fn_apdmdata/0/30","entityType":"Function","body":"{\r\n        v2_GetClusterDataForSelectedClusters_AtTime(v2_GetAllClusters_AtTime(timeStamp), T, timeStamp);\r\n    }","docstring":"Gets data for all clusters at a particular time. The input table T should be passed as a string and should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetClusterDataForAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/31":{"id":"$fn_apdmdata/0/31","entityType":"Function","body":"{\r\n        v2_GetClusterDataForAllClusters_AtTime(T, ago(30min));\r\n    }","docstring":"Gets latest data for all clusters. The input table T should be passed as a string and should have AutoGen_TimeStamp and AutoGen_Cluster fields. Looks at data only for previous two days. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetClusterDataForAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/32":{"id":"$fn_apdmdata/0/32","entityType":"Function","body":"{\r\n        let ClusterTimeStamps = Metadata_IterationStatus \r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and AutoGen_Cluster in~ (ClusterList) and ExtractionResult == \"Success\" and TableName =~ T\r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        ClusterTimeStamps \r\n        | join hint.strategy=broadcast (table(T) | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)) on AutoGen_Cluster, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_TimeStamp1;\r\n    }","docstring":"Gets data for selected clusters at a particular time. The input table T should be passed as a string and should have AutoGen_TimeStamp and AutoGen_Cluster fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetClusterDataForSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/33":{"id":"$fn_apdmdata/0/33","entityType":"Function","body":"{\r\n        v2_GetEnvDataForAllEnvsInSelectedClusters_AtTime(v2_GetAllClusters_AtTime(timeStamp), T, timeStamp);\r\n    }","docstring":"Gets data for environments from all clusters at a particular time. The input table T should be passed as a string and should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetEnvDataForAllEnvsInAllClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/34":{"id":"$fn_apdmdata/0/34","entityType":"Function","body":"{\r\n        v2_GetEnvDataForAllEnvsInAllClusters_AtTime(T, ago(30min));\r\n    }","docstring":"Gets latest data for environments in a cluster. The input table T should be passed as a string and should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Looks at data which is 30min older so that all the tables are populated","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetEnvDataForAllEnvsInAllClusters_Latest","outputColumns":[],"inputParameters":[{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/35":{"id":"$fn_apdmdata/0/35","entityType":"Function","body":"{\r\n        let clusterTable = print Cluster=cluster;\r\n        v2_GetEnvDataForAllEnvsInSelectedClusters_AtTime(clusterTable, T, timeStamp);\r\n    }","docstring":"Gets data for environments in a cluster at a particular time. The input table T should be passed as a string and should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster and timestamp as inputs. Looks at data only for previous two days ","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetEnvDataForAllEnvsInCluster_AtTime","outputColumns":[],"inputParameters":[{"name":"cluster","cslType":"string","type":"System.String"},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/36":{"id":"$fn_apdmdata/0/36","entityType":"Function","body":"{\r\n        v2_GetEnvDataForAllEnvsInCluster_AtTime(cluster, T, ago(30min));\r\n    }","docstring":"Gets latest data for environments in a cluster. The input table T should be passed as a string and should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires cluster as input. Looks at data which is 30min older so that all the tables are populated","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetEnvDataForAllEnvsInCluster_Latest","outputColumns":[],"inputParameters":[{"name":"cluster","cslType":"string","type":"System.String"},{"name":"T","cslType":"string","type":"System.String"}]},"$fn_apdmdata/0/37":{"id":"$fn_apdmdata/0/37","entityType":"Function","body":"{\r\n        let ClusterTimeStamps = Metadata_IterationStatus\r\n            | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and AutoGen_Cluster in~ (ClusterList) and AutoGen_Environment == \"\" and ExtractionResult == \"Success\" \r\n            | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster;\r\n        let ClusterEnvironments = ClusterTimeStamps \r\n            | join hint.strategy=broadcast  (Cluster_Environments\r\n                | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)\r\n                | where Type =~ \"Physical\")\r\n                on AutoGen_Cluster, AutoGen_TimeStamp\r\n            | project AutoGen_Cluster, Environment;\r\n        let ClusterEnvTimeStamps = ClusterEnvironments \r\n            | join hint.strategy=broadcast (\r\n                Metadata_IterationStatus\r\n                | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp) and ExtractionResult == \"Success\" and TableName =~ T\r\n                | summarize AutoGen_TimeStamp=max(AutoGen_TimeStamp) by AutoGen_Cluster, AutoGen_Environment \r\n                | project AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp)\r\n                on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment\r\n            | project AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp;\r\n        ClusterEnvTimeStamps \r\n        | join hint.strategy=broadcast (table(T) | where AutoGen_TimeStamp between((timeStamp - 2d)..timeStamp)) on AutoGen_Cluster, AutoGen_Environment, AutoGen_TimeStamp \r\n        | project-away AutoGen_Cluster1, AutoGen_Environment1, AutoGen_TimeStamp1;\r\n    }","docstring":"Gets data for environments from selected clusters at a particular time. The input table T should be passed as a string and should have AutoGen_TimeStamp, AutoGen_Cluster and AutoGen_Environment fields. Also requires timestamp as input. Looks at data only for previous two days ","folder":"v2","functionKind":"UnknownFunction","name":"v2_GetEnvDataForAllEnvsInSelectedClusters_AtTime","outputColumns":[],"inputParameters":[{"name":"ClusterList","columns":[{"name":"Cluster","cslType":"string","type":"System.String"}]},{"name":"T","cslType":"string","type":"System.String"},{"name":"timeStamp","cslType":"datetime","type":"System.DateTime"}]},"$fn_apdmdata/0/38":{"id":"$fn_apdmdata/0/38","entityType":"Function","body":"{\r\nv2_GetEnvDataForAllEnvsInAllClusters_Latest(\"Env_Machines\")\r\n}","docstring":"Gets Machine Info","functionKind":"UnknownFunction","name":"GetMachines","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/39":{"id":"$fn_apdmdata/0/39","entityType":"Function","body":"{\r\n    datatable(TableName: string)\r\n    [\r\n        \"Env_Machines\",\r\n        \"Env_Environment\",\r\n        \"Env_AzureVmInfo\",\r\n        \"Env_Cookie\",\r\n        \"Env_Assets\",\r\n        \"Env_MachineProperties\",\r\n        \"Env_MachineProperties\",\r\n        \"Env_ErrorMachineProperties\",\r\n        \"Env_MachineProperties\",\r\n        \"Env_RequestedNodeLabels\",\r\n        \"Env_MachineFunction\",\r\n        \"Env_Partitions\",\r\n        \"Env_PartitionMap\",\r\n        \"Env_UserProperties\",\r\n        \"Env_EnvironmentIni\",\r\n        \"Env_AllMachineProperties\",\r\n        \"Cluster_PodList\",\r\n        \"Cluster_Environments\",\r\n        \"Cluster_Clusters\",\r\n        \"Cluster_GeneralInfo\",\r\n        \"Cluster_SharedIni\",\r\n        \"Cluster_Assets\",\r\n        \"Cluster_RegisteredMachines\",\r\n        \"Cluster_Machines\",\r\n        \"Cluster_DetachedMachines\",\r\n        \"Cluster_Connections\",\r\n        \"Cluster_Vlans\",\r\n        \"Cluster_ServicePartitions\",\r\n        \"Cluster_Quotas\",\r\n        \"Cluster_FaultDomains\",\r\n        \"Cluster_EnvironmentDependency\",\r\n        \"Cluster_SkuMap\"\r\n    ]\r\n}","docstring":"Function to return list of tables which will be monitoried","folder":"Monitoring/","functionKind":"UnknownFunction","name":"Monitoring_GetTablesToMonitor","outputColumns":[],"inputParameters":[]},"$fn_apdmdata/0/40":{"id":"$fn_apdmdata/0/40","entityType":"Function","body":"{\r\n    let timeStamp = ago(10m);\r\n    let failedEnvTableExtractions = Monitoring_FailedExtractionsPerClusterEnvTable(timeWindowToCheckForSuccess, timeWindowForGettingAllTablesList);\r\n    // find cluster level count for failed extractions\r\n    let failedClusterExtractions = failedEnvTableExtractions | summarize count() by AutoGen_Cluster | project AutoGen_Cluster, FailedExtractions = count_;\r\n    // Get a list of All available clusters \r\n    let AllClusters = Metadata_IterationStatus | where  AutoGen_TimeStamp between ((timeStamp - timeWindowForGettingAllTablesList) .. timeStamp) | distinct AutoGen_Cluster;\r\n    // Set FailedExtractions as count for clusters with failue and set 0 for clusters with no failure\r\n    failedClusterExtractions\r\n    | join kind=rightouter AllClusters on AutoGen_Cluster\r\n    | extend m_TotalFailedExtractions =  case(isnotnull(FailedExtractions), FailedExtractions, 0)\r\n    | project QueryTime = timeStamp, d_Cluster = AutoGen_Cluster1, m_TotalFailedExtractions;\r\n}","docstring":"Returns Table Level Extraction Failures per cluster","folder":"Monitoring","functionKind":"UnknownFunction","name":"Monitoring_FailedExtractionsPerCluster","outputColumns":[],"inputParameters":[{"name":"timeWindowToCheckForSuccess","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(08:00:00)"},{"name":"timeWindowForGettingAllTablesList","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(3.00:00:00)"}]},"$fn_apdmdata/0/41":{"id":"$fn_apdmdata/0/41","entityType":"Function","body":"{\r\n    let timeStamp = ago(10m);\r\n    let failedEnvTableExtractions = Monitoring_FailedExtractionsPerClusterEnvTable(timeWindowToCheckForSuccess, timeWindowForGettingAllTablesList);\r\n    // find cluster and table level count for failed extractions\r\n    let failedClusterAndTableExtractions = failedEnvTableExtractions \r\n        | summarize count() by AutoGen_Cluster, TableName \r\n        | project AutoGen_Cluster, TableName, FailedExtractions = count_;\r\n    failedClusterAndTableExtractions;\r\n}","docstring":"Returns Table with extraction failures for cluster and Table","folder":"Monitoring","functionKind":"UnknownFunction","name":"Monitoring_FailedExtractionsPerClusterTable","outputColumns":[],"inputParameters":[{"name":"timeWindowToCheckForSuccess","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(08:00:00)"},{"name":"timeWindowForGettingAllTablesList","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(3.00:00:00)"}]},"$fn_apdmdata/0/42":{"id":"$fn_apdmdata/0/42","entityType":"Function","body":"{\r\n    let timeStamp = ago(10m);\r\n    let failedEnvTableExtractions = Monitoring_FailedExtractionsPerClusterEnvTable(timeWindowToCheckForSuccess, timeWindowForGettingAllTablesList);\r\n    Metadata_IterationStatus\r\n    | where AutoGen_TimeStamp between ((timeStamp - timeWindowToCheckForSuccess) .. timeStamp)\r\n    | join kind=inner failedEnvTableExtractions on AutoGen_Cluster, TableName, $left.AutoGen_Environment==$right.Environment\r\n    | summarize arg_max(AutoGen_TimeStamp, *) by AutoGen_Cluster, Environment, TableName;\r\n}","docstring":"Returns Table with extraction failures for cluster and Table","folder":"Monitoring","functionKind":"UnknownFunction","name":"Monitoring_MdisForFailedExtractions","outputColumns":[],"inputParameters":[{"name":"timeWindowToCheckForSuccess","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(08:00:00)"},{"name":"timeWindowForGettingAllTablesList","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(3.00:00:00)"}]},"$fn_apdmdata/0/43":{"id":"$fn_apdmdata/0/43","entityType":"Function","body":"{\n    let failedEnvTableExtractions = Monitoring_FailedExtractionsPerClusterEnvTable(timeWindowToCheckForSuccess, timeWindowForGettingAllTablesList);\n    // find cluster and table level count for failed extractions\n    let failedClusterAndEnvExtractions = failedEnvTableExtractions \n        | summarize count() by AutoGen_Cluster, Environment \n        | project AutoGen_Cluster, Environment, FailedExtractions = count_;\n    failedClusterAndEnvExtractions;\n}","docstring":"Returns Table with extraction failures for cluster and Environment","folder":"Monitoring","functionKind":"UnknownFunction","name":"Monitoring_FailedExtractionsPerClusterEnv","outputColumns":[],"inputParameters":[{"name":"timeWindowToCheckForSuccess","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(08:00:00)"},{"name":"timeWindowForGettingAllTablesList","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(3.00:00:00)"}]},"$fn_apdmdata/0/44":{"id":"$fn_apdmdata/0/44","entityType":"Function","body":"{\n    // DmToKustoTableLevelExtractionFailures\n    let timeStamp = ago(10m);\n    // Latest <Cluster, Env> pair\n    let allClusterEnvPairs = GetClusterDataForAllClusters_AtTime(Cluster_Environments, timeStamp) | where Type == \"Physical\" and todatetime(CreationDate) <= ago(1d) | project AutoGen_Cluster, Environment;\n   // <Cluster, Env, Table> tuple for last 3 days\n    let allClusterEnvTables = Metadata_IterationStatus\n        | where AutoGen_TimeStamp between ((timeStamp - timeWindowForGettingAllTablesList) .. timeStamp) and TableName !~ \"\" and TableName in (Monitoring_GetTablesToMonitor)\n        // Remove below line after 10/18/2024\n        and not((TableName in (\"Cluster_FaultDomains\", \"Cluster_SkuMap\", \"Cluster_EnvironmentDependency\", \"Cluster_Quotas\")) and AutoGen_Environment != \"Autopilot\")\n        | summarize by AutoGen_Cluster, AutoGen_Environment, TableName;\n    // Latest <Cluster, Env, Table> tuple\n    let joinedAllClusterEnvTables = allClusterEnvPairs | join kind=inner allClusterEnvTables on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment | project-away AutoGen_Cluster1, AutoGen_Environment;\n    // Tables that were updates for every <Cluster,Env> pair\n    let successExtractions = Metadata_IterationStatus\n        | where AutoGen_TimeStamp between ((timeStamp - timeWindowToCheckForSuccess) .. timeStamp) and\n            (ExtractionResult == \"Success\") \n        | summarize arg_max(AutoGen_TimeStamp, *) by AutoGen_Cluster, AutoGen_Environment, TableName;\n    // failed tables that were not updated for every <Cluster,Env> pair during the timeWindowToCheckForSuccess\n    let failedEnvTableExtractions = joinedAllClusterEnvTables\n        | join kind=leftanti\n            (successExtractions)\n            on AutoGen_Cluster, $left.Environment == $right.AutoGen_Environment, $left.TableName == $right.TableName;\n    failedEnvTableExtractions;\n}","docstring":"Returns Extraction Failures Table with extraction failures for cluster, Environment and Table.","folder":"Monitoring","functionKind":"UnknownFunction","name":"Monitoring_FailedExtractionsPerClusterEnvTable","outputColumns":[],"inputParameters":[{"name":"timeWindowToCheckForSuccess","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(08:00:00)"},{"name":"timeWindowForGettingAllTablesList","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(3.00:00:00)"}]}},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":48253,"majorVersion":2790}},"id":"apdmdata","fetchState":"done","fetchStateError":"","tooBigToCache":false,"serviceOffering":"Azure Data Explorer"},"buildxllogs.eastus":{"clusterType":"Engine","alias":"BuildXL Azure DevOps Pipelines","name":"buildxllogs.eastus","connectionString":"https://buildxllogs.eastus.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"buildxllogs.eastus/buildxllogs":{"id":"buildxllogs.eastus/buildxllogs","name":"buildxllogs","fetchState":"done","fetchStateError":"","tables":{"buildxllogs.eastus/buildxllogs/logs":{"id":"buildxllogs.eastus/buildxllogs/logs","entityType":"Table","name":"logs","columns":{"buildxllogs.eastus/0/0/0":{"id":"buildxllogs.eastus/0/0/0","name":"Timestamp","entityType":"Column","type":"datetime"},"buildxllogs.eastus/0/0/1":{"id":"buildxllogs.eastus/0/0/1","name":"Level","entityType":"Column","type":"int"},"buildxllogs.eastus/0/0/2":{"id":"buildxllogs.eastus/0/0/2","name":"SessionId","entityType":"Column","type":"guid"},"buildxllogs.eastus/0/0/3":{"id":"buildxllogs.eastus/0/0/3","name":"ActivityId","entityType":"Column","type":"guid"},"buildxllogs.eastus/0/0/4":{"id":"buildxllogs.eastus/0/0/4","name":"RelatedActivityId","entityType":"Column","type":"guid"},"buildxllogs.eastus/0/0/5":{"id":"buildxllogs.eastus/0/0/5","name":"EventNumber","entityType":"Column","type":"int"},"buildxllogs.eastus/0/0/6":{"id":"buildxllogs.eastus/0/0/6","name":"Machine","entityType":"Column","type":"string"},"buildxllogs.eastus/0/0/7":{"id":"buildxllogs.eastus/0/0/7","name":"IsWorker","entityType":"Column","type":"bool"},"buildxllogs.eastus/0/0/8":{"id":"buildxllogs.eastus/0/0/8","name":"Message","entityType":"Column","type":"string"}}},"buildxllogs.eastus/buildxllogs/cacheLogs":{"id":"buildxllogs.eastus/buildxllogs/cacheLogs","entityType":"Table","name":"cacheLogs","columns":{"buildxllogs.eastus/0/1/0":{"id":"buildxllogs.eastus/0/1/0","name":"PreciseTimeStamp","entityType":"Column","type":"datetime"},"buildxllogs.eastus/0/1/1":{"id":"buildxllogs.eastus/0/1/1","name":"LocalPreciseTimeStamp","entityType":"Column","type":"datetime"},"buildxllogs.eastus/0/1/2":{"id":"buildxllogs.eastus/0/1/2","name":"CorrelationId","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/3":{"id":"buildxllogs.eastus/0/1/3","name":"Role","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/4":{"id":"buildxllogs.eastus/0/1/4","name":"Component","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/5":{"id":"buildxllogs.eastus/0/1/5","name":"Operation","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/6":{"id":"buildxllogs.eastus/0/1/6","name":"Arguments","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/7":{"id":"buildxllogs.eastus/0/1/7","name":"Duration","entityType":"Column","type":"timespan"},"buildxllogs.eastus/0/1/8":{"id":"buildxllogs.eastus/0/1/8","name":"Result","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/9":{"id":"buildxllogs.eastus/0/1/9","name":"BuildId","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/10":{"id":"buildxllogs.eastus/0/1/10","name":"Message","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/11":{"id":"buildxllogs.eastus/0/1/11","name":"Exception","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/12":{"id":"buildxllogs.eastus/0/1/12","name":"ProcessId","entityType":"Column","type":"long"},"buildxllogs.eastus/0/1/13":{"id":"buildxllogs.eastus/0/1/13","name":"ThreadId","entityType":"Column","type":"long"},"buildxllogs.eastus/0/1/14":{"id":"buildxllogs.eastus/0/1/14","name":"Machine","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/15":{"id":"buildxllogs.eastus/0/1/15","name":"Stamp","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/16":{"id":"buildxllogs.eastus/0/1/16","name":"Ring","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/17":{"id":"buildxllogs.eastus/0/1/17","name":"ConfigurationId","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/18":{"id":"buildxllogs.eastus/0/1/18","name":"Service","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/19":{"id":"buildxllogs.eastus/0/1/19","name":"ServiceVersion","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/20":{"id":"buildxllogs.eastus/0/1/20","name":"CacheVersion","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/21":{"id":"buildxllogs.eastus/0/1/21","name":"ProcessStartTimeUtc","entityType":"Column","type":"datetime"},"buildxllogs.eastus/0/1/22":{"id":"buildxllogs.eastus/0/1/22","name":"LogLevel","entityType":"Column","type":"int"},"buildxllogs.eastus/0/1/23":{"id":"buildxllogs.eastus/0/1/23","name":"MachineFunction","entityType":"Column","type":"string"},"buildxllogs.eastus/0/1/24":{"id":"buildxllogs.eastus/0/1/24","name":"Environment","entityType":"Column","type":"string"}}}},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":4890,"majorVersion":338}},"id":"buildxllogs.eastus","fetchState":"done","fetchStateError":"","tooBigToCache":false,"serviceOffering":"Azure Data Explorer"},"ctest":{"clusterType":"Engine","alias":"CloudTest","name":"ctest","connectionString":"https://ctest.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"ctest/CloudTestDev":{"id":"ctest/CloudTestDev","name":"CloudTestDev","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":2,"majorVersion":198722},"ctest/CloudTestPPE":{"id":"ctest/CloudTestPPE","name":"CloudTestPPE","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":15,"majorVersion":184518},"ctest/CloudTestProd":{"id":"ctest/CloudTestProd","name":"CloudTestProd","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":173,"majorVersion":2581342}},"id":"ctest","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Azure Data Explorer"},"icmclusterlb":{"clusterType":"Engine","alias":"ICM","name":"icmclusterlb","connectionString":"https://icmclusterlb.kustomfa.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"icmclusterlb/Icmanalytics":{"id":"icmclusterlb/Icmanalytics","name":"Icmanalytics","fetchState":"done","fetchStateError":"","tables":{"icmclusterlb/Icmanalytics/IcMinerAll_V4":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V4","entityType":"Table","name":"IcMinerAll_V4","columns":{"icmclusterlb/0/0/0":{"id":"icmclusterlb/0/0/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/0/1":{"id":"icmclusterlb/0/0/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/0/2":{"id":"icmclusterlb/0/0/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/0/3":{"id":"icmclusterlb/0/0/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/0/4":{"id":"icmclusterlb/0/0/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/0/5":{"id":"icmclusterlb/0/0/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/0/6":{"id":"icmclusterlb/0/0/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/0/7":{"id":"icmclusterlb/0/0/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/0/8":{"id":"icmclusterlb/0/0/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/0/9":{"id":"icmclusterlb/0/0/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/0/10":{"id":"icmclusterlb/0/0/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/0/11":{"id":"icmclusterlb/0/0/11","name":"URLNUM","entityType":"Column","type":"int"},"icmclusterlb/0/0/12":{"id":"icmclusterlb/0/0/12","name":"TSGNUM","entityType":"Column","type":"int"},"icmclusterlb/0/0/13":{"id":"icmclusterlb/0/0/13","name":"QueryNUM","entityType":"Column","type":"int"},"icmclusterlb/0/0/14":{"id":"icmclusterlb/0/0/14","name":"StackTraceNUM","entityType":"Column","type":"int"},"icmclusterlb/0/0/15":{"id":"icmclusterlb/0/0/15","name":"CommandNUM","entityType":"Column","type":"int"},"icmclusterlb/0/0/16":{"id":"icmclusterlb/0/0/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/0/17":{"id":"icmclusterlb/0/0/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/0/18":{"id":"icmclusterlb/0/0/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/0/19":{"id":"icmclusterlb/0/0/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/0/20":{"id":"icmclusterlb/0/0/20","name":"IngestionTime","entityType":"Column","type":"datetime"}},"folder":"IcMiner","docstring":"Table For IcMiner"},"icmclusterlb/Icmanalytics/TeamRecipients":{"id":"icmclusterlb/Icmanalytics/TeamRecipients","entityType":"Table","name":"TeamRecipients","columns":{"icmclusterlb/0/1/0":{"id":"icmclusterlb/0/1/0","name":"teamid","entityType":"Column","type":"long"},"icmclusterlb/0/1/1":{"id":"icmclusterlb/0/1/1","name":"recipient","entityType":"Column","type":"string"},"icmclusterlb/0/1/2":{"id":"icmclusterlb/0/1/2","name":"subscribe","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/IcMinerAll_V5":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V5","entityType":"Table","name":"IcMinerAll_V5","columns":{"icmclusterlb/0/2/0":{"id":"icmclusterlb/0/2/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/2/1":{"id":"icmclusterlb/0/2/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/2/2":{"id":"icmclusterlb/0/2/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/2/3":{"id":"icmclusterlb/0/2/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/2/4":{"id":"icmclusterlb/0/2/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/2/5":{"id":"icmclusterlb/0/2/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/2/6":{"id":"icmclusterlb/0/2/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/2/7":{"id":"icmclusterlb/0/2/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/2/8":{"id":"icmclusterlb/0/2/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/2/9":{"id":"icmclusterlb/0/2/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/2/10":{"id":"icmclusterlb/0/2/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/2/11":{"id":"icmclusterlb/0/2/11","name":"URLNUM","entityType":"Column","type":"int"},"icmclusterlb/0/2/12":{"id":"icmclusterlb/0/2/12","name":"TSGNUM","entityType":"Column","type":"int"},"icmclusterlb/0/2/13":{"id":"icmclusterlb/0/2/13","name":"QueryNUM","entityType":"Column","type":"int"},"icmclusterlb/0/2/14":{"id":"icmclusterlb/0/2/14","name":"StackTraceNUM","entityType":"Column","type":"int"},"icmclusterlb/0/2/15":{"id":"icmclusterlb/0/2/15","name":"CommandNUM","entityType":"Column","type":"int"},"icmclusterlb/0/2/16":{"id":"icmclusterlb/0/2/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/2/17":{"id":"icmclusterlb/0/2/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/2/18":{"id":"icmclusterlb/0/2/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/2/19":{"id":"icmclusterlb/0/2/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/2/20":{"id":"icmclusterlb/0/2/20","name":"IngestionTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/IcMinerAll_V6":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V6","entityType":"Table","name":"IcMinerAll_V6","columns":{"icmclusterlb/0/3/0":{"id":"icmclusterlb/0/3/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/3/1":{"id":"icmclusterlb/0/3/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/3/2":{"id":"icmclusterlb/0/3/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/3/3":{"id":"icmclusterlb/0/3/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/3/4":{"id":"icmclusterlb/0/3/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/3/5":{"id":"icmclusterlb/0/3/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/3/6":{"id":"icmclusterlb/0/3/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/3/7":{"id":"icmclusterlb/0/3/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/3/8":{"id":"icmclusterlb/0/3/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/3/9":{"id":"icmclusterlb/0/3/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/3/10":{"id":"icmclusterlb/0/3/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/3/11":{"id":"icmclusterlb/0/3/11","name":"URLNUM","entityType":"Column","type":"int"},"icmclusterlb/0/3/12":{"id":"icmclusterlb/0/3/12","name":"TSGNUM","entityType":"Column","type":"int"},"icmclusterlb/0/3/13":{"id":"icmclusterlb/0/3/13","name":"QueryNUM","entityType":"Column","type":"int"},"icmclusterlb/0/3/14":{"id":"icmclusterlb/0/3/14","name":"StackTraceNUM","entityType":"Column","type":"int"},"icmclusterlb/0/3/15":{"id":"icmclusterlb/0/3/15","name":"CommandNUM","entityType":"Column","type":"int"},"icmclusterlb/0/3/16":{"id":"icmclusterlb/0/3/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/3/17":{"id":"icmclusterlb/0/3/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/3/18":{"id":"icmclusterlb/0/3/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/3/19":{"id":"icmclusterlb/0/3/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/3/20":{"id":"icmclusterlb/0/3/20","name":"IngestionTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/CorrelationRules_V8":{"id":"icmclusterlb/Icmanalytics/CorrelationRules_V8","entityType":"Table","name":"CorrelationRules_V8","columns":{"icmclusterlb/0/4/0":{"id":"icmclusterlb/0/4/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/4/1":{"id":"icmclusterlb/0/4/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/4/2":{"id":"icmclusterlb/0/4/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/4/3":{"id":"icmclusterlb/0/4/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/4/4":{"id":"icmclusterlb/0/4/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/4/5":{"id":"icmclusterlb/0/4/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/0/4/6":{"id":"icmclusterlb/0/4/6","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/4/7":{"id":"icmclusterlb/0/4/7","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/0/4/8":{"id":"icmclusterlb/0/4/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/4/9":{"id":"icmclusterlb/0/4/9","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/4/10":{"id":"icmclusterlb/0/4/10","name":"Environment","entityType":"Column","type":"string"},"icmclusterlb/0/4/11":{"id":"icmclusterlb/0/4/11","name":"Datacenter","entityType":"Column","type":"string"},"icmclusterlb/0/4/12":{"id":"icmclusterlb/0/4/12","name":"DeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/4/13":{"id":"icmclusterlb/0/4/13","name":"DeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/4/14":{"id":"icmclusterlb/0/4/14","name":"ServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/4/15":{"id":"icmclusterlb/0/4/15","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/0/4/16":{"id":"icmclusterlb/0/4/16","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/4/17":{"id":"icmclusterlb/0/4/17","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/0/4/18":{"id":"icmclusterlb/0/4/18","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/4/19":{"id":"icmclusterlb/0/4/19","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/4/20":{"id":"icmclusterlb/0/4/20","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/4/21":{"id":"icmclusterlb/0/4/21","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/4/22":{"id":"icmclusterlb/0/4/22","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/4/23":{"id":"icmclusterlb/0/4/23","name":"DoNotCorrelate","entityType":"Column","type":"bool"},"icmclusterlb/0/4/24":{"id":"icmclusterlb/0/4/24","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/4/25":{"id":"icmclusterlb/0/4/25","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/4/26":{"id":"icmclusterlb/0/4/26","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/4/27":{"id":"icmclusterlb/0/4/27","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/4/28":{"id":"icmclusterlb/0/4/28","name":"SiloId","entityType":"Column","type":"long"}}},"icmclusterlb/Icmanalytics/MonitorStats_V8":{"id":"icmclusterlb/Icmanalytics/MonitorStats_V8","entityType":"Table","name":"MonitorStats_V8","columns":{"icmclusterlb/0/5/0":{"id":"icmclusterlb/0/5/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/5/1":{"id":"icmclusterlb/0/5/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/5/2":{"id":"icmclusterlb/0/5/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/5/3":{"id":"icmclusterlb/0/5/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/5/4":{"id":"icmclusterlb/0/5/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/5/5":{"id":"icmclusterlb/0/5/5","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/5/6":{"id":"icmclusterlb/0/5/6","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/5/7":{"id":"icmclusterlb/0/5/7","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/5/8":{"id":"icmclusterlb/0/5/8","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/5/9":{"id":"icmclusterlb/0/5/9","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/5/10":{"id":"icmclusterlb/0/5/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/5/11":{"id":"icmclusterlb/0/5/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/5/12":{"id":"icmclusterlb/0/5/12","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/5/13":{"id":"icmclusterlb/0/5/13","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/5/14":{"id":"icmclusterlb/0/5/14","name":"NumInitialParentIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/5/15":{"id":"icmclusterlb/0/5/15","name":"NumInitialParentIncidentsSev0","entityType":"Column","type":"long"},"icmclusterlb/0/5/16":{"id":"icmclusterlb/0/5/16","name":"NumInitialParentIncidentsSev1","entityType":"Column","type":"long"},"icmclusterlb/0/5/17":{"id":"icmclusterlb/0/5/17","name":"NumInitialParentIncidentsSev2","entityType":"Column","type":"long"},"icmclusterlb/0/5/18":{"id":"icmclusterlb/0/5/18","name":"NumInitialParentIncidentsSev3","entityType":"Column","type":"long"},"icmclusterlb/0/5/19":{"id":"icmclusterlb/0/5/19","name":"NumInitialParentIncidentsSev4","entityType":"Column","type":"long"},"icmclusterlb/0/5/20":{"id":"icmclusterlb/0/5/20","name":"NumInitialActionableParentIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/5/21":{"id":"icmclusterlb/0/5/21","name":"NumInitialActionableParentIncidentsSev0","entityType":"Column","type":"long"},"icmclusterlb/0/5/22":{"id":"icmclusterlb/0/5/22","name":"NumInitialActionableParentIncidentsSev1","entityType":"Column","type":"long"},"icmclusterlb/0/5/23":{"id":"icmclusterlb/0/5/23","name":"NumInitialActionableParentIncidentsSev2","entityType":"Column","type":"long"},"icmclusterlb/0/5/24":{"id":"icmclusterlb/0/5/24","name":"NumInitialActionableParentIncidentsSev3","entityType":"Column","type":"long"},"icmclusterlb/0/5/25":{"id":"icmclusterlb/0/5/25","name":"NumInitialActionableParentIncidentsSev4","entityType":"Column","type":"long"},"icmclusterlb/0/5/26":{"id":"icmclusterlb/0/5/26","name":"NumIncWithEmptyEnvironment","entityType":"Column","type":"long"},"icmclusterlb/0/5/27":{"id":"icmclusterlb/0/5/27","name":"NumIncWithEmptyCorrelationId","entityType":"Column","type":"long"},"icmclusterlb/0/5/28":{"id":"icmclusterlb/0/5/28","name":"NumIncWithEmptyCorrelationRule","entityType":"Column","type":"long"},"icmclusterlb/0/5/29":{"id":"icmclusterlb/0/5/29","name":"CorrelationRuleIds","entityType":"Column","type":"string"},"icmclusterlb/0/5/30":{"id":"icmclusterlb/0/5/30","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/5/31":{"id":"icmclusterlb/0/5/31","name":"EmptyEnvReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/32":{"id":"icmclusterlb/0/5/32","name":"SampleIncidentIdEmptyEnv","entityType":"Column","type":"long"},"icmclusterlb/0/5/33":{"id":"icmclusterlb/0/5/33","name":"NumParentIncStep1","entityType":"Column","type":"long"},"icmclusterlb/0/5/34":{"id":"icmclusterlb/0/5/34","name":"NumParentIncSev0Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/35":{"id":"icmclusterlb/0/5/35","name":"NumParentIncSev1Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/36":{"id":"icmclusterlb/0/5/36","name":"NumParentIncSev2Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/37":{"id":"icmclusterlb/0/5/37","name":"NumParentIncSev3Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/38":{"id":"icmclusterlb/0/5/38","name":"NumParentIncSev4Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/39":{"id":"icmclusterlb/0/5/39","name":"PercIncReductionStep1","entityType":"Column","type":"real"},"icmclusterlb/0/5/40":{"id":"icmclusterlb/0/5/40","name":"NumActionableParentIncStep1","entityType":"Column","type":"long"},"icmclusterlb/0/5/41":{"id":"icmclusterlb/0/5/41","name":"NumActionableParentIncSev0Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/42":{"id":"icmclusterlb/0/5/42","name":"NumActionableParentIncSev1Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/43":{"id":"icmclusterlb/0/5/43","name":"NumActionableParentIncSev2Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/44":{"id":"icmclusterlb/0/5/44","name":"NumActionableParentIncSev3Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/45":{"id":"icmclusterlb/0/5/45","name":"NumActionableParentIncSev4Step1","entityType":"Column","type":"long"},"icmclusterlb/0/5/46":{"id":"icmclusterlb/0/5/46","name":"PercActionableIncReductionStep1","entityType":"Column","type":"real"},"icmclusterlb/0/5/47":{"id":"icmclusterlb/0/5/47","name":"EmptyCIDReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/48":{"id":"icmclusterlb/0/5/48","name":"SampleIncidentIdEmptyCID","entityType":"Column","type":"long"},"icmclusterlb/0/5/49":{"id":"icmclusterlb/0/5/49","name":"NumParentIncStep2","entityType":"Column","type":"long"},"icmclusterlb/0/5/50":{"id":"icmclusterlb/0/5/50","name":"NumParentIncSev0Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/51":{"id":"icmclusterlb/0/5/51","name":"NumParentIncSev1Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/52":{"id":"icmclusterlb/0/5/52","name":"NumParentIncSev2Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/53":{"id":"icmclusterlb/0/5/53","name":"NumParentIncSev3Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/54":{"id":"icmclusterlb/0/5/54","name":"NumParentIncSev4Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/55":{"id":"icmclusterlb/0/5/55","name":"PercIncReductionStep2","entityType":"Column","type":"real"},"icmclusterlb/0/5/56":{"id":"icmclusterlb/0/5/56","name":"NumActionableParentIncStep2","entityType":"Column","type":"long"},"icmclusterlb/0/5/57":{"id":"icmclusterlb/0/5/57","name":"NumActionableParentIncSev0Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/58":{"id":"icmclusterlb/0/5/58","name":"NumActionableParentIncSev1Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/59":{"id":"icmclusterlb/0/5/59","name":"NumActionableParentIncSev2Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/60":{"id":"icmclusterlb/0/5/60","name":"NumActionableParentIncSev3Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/61":{"id":"icmclusterlb/0/5/61","name":"NumActionableParentIncSev4Step2","entityType":"Column","type":"long"},"icmclusterlb/0/5/62":{"id":"icmclusterlb/0/5/62","name":"PercActionableIncReductionStep2","entityType":"Column","type":"real"},"icmclusterlb/0/5/63":{"id":"icmclusterlb/0/5/63","name":"NumIncWithMatchingEmptyDC","entityType":"Column","type":"long"},"icmclusterlb/0/5/64":{"id":"icmclusterlb/0/5/64","name":"SampleIncidentIdEmptyDC","entityType":"Column","type":"long"},"icmclusterlb/0/5/65":{"id":"icmclusterlb/0/5/65","name":"NumIncWithMatchingEmptyDG","entityType":"Column","type":"long"},"icmclusterlb/0/5/66":{"id":"icmclusterlb/0/5/66","name":"SampleIncidentIdEmptyDG","entityType":"Column","type":"long"},"icmclusterlb/0/5/67":{"id":"icmclusterlb/0/5/67","name":"NumIncWithMatchingEmptyDN","entityType":"Column","type":"long"},"icmclusterlb/0/5/68":{"id":"icmclusterlb/0/5/68","name":"SampleIncidentIdEmptyDN","entityType":"Column","type":"long"},"icmclusterlb/0/5/69":{"id":"icmclusterlb/0/5/69","name":"NumIncWithMatchingEmptySID","entityType":"Column","type":"long"},"icmclusterlb/0/5/70":{"id":"icmclusterlb/0/5/70","name":"SampleIncidentIdEmptySID","entityType":"Column","type":"long"},"icmclusterlb/0/5/71":{"id":"icmclusterlb/0/5/71","name":"NumParentIncStep3","entityType":"Column","type":"long"},"icmclusterlb/0/5/72":{"id":"icmclusterlb/0/5/72","name":"NumParentIncSev0Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/73":{"id":"icmclusterlb/0/5/73","name":"NumParentIncSev1Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/74":{"id":"icmclusterlb/0/5/74","name":"NumParentIncSev2Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/75":{"id":"icmclusterlb/0/5/75","name":"NumParentIncSev3Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/76":{"id":"icmclusterlb/0/5/76","name":"NumParentIncSev4Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/77":{"id":"icmclusterlb/0/5/77","name":"PercIncReductionStep3","entityType":"Column","type":"real"},"icmclusterlb/0/5/78":{"id":"icmclusterlb/0/5/78","name":"NumActionableParentIncStep3","entityType":"Column","type":"long"},"icmclusterlb/0/5/79":{"id":"icmclusterlb/0/5/79","name":"NumActionableParentIncSev0Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/80":{"id":"icmclusterlb/0/5/80","name":"NumActionableParentIncSev1Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/81":{"id":"icmclusterlb/0/5/81","name":"NumActionableParentIncSev2Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/82":{"id":"icmclusterlb/0/5/82","name":"NumActionableParentIncSev3Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/83":{"id":"icmclusterlb/0/5/83","name":"NumActionableParentIncSev4Step3","entityType":"Column","type":"long"},"icmclusterlb/0/5/84":{"id":"icmclusterlb/0/5/84","name":"PercActionableIncReductionStep3","entityType":"Column","type":"real"},"icmclusterlb/0/5/85":{"id":"icmclusterlb/0/5/85","name":"NumDistinctCorrelationId","entityType":"Column","type":"long"},"icmclusterlb/0/5/86":{"id":"icmclusterlb/0/5/86","name":"SampleIncidentIdReplaceCorrelationIds","entityType":"Column","type":"long"},"icmclusterlb/0/5/87":{"id":"icmclusterlb/0/5/87","name":"DistinctCIDReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/88":{"id":"icmclusterlb/0/5/88","name":"DistinctDCReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/89":{"id":"icmclusterlb/0/5/89","name":"DistinctDGReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/90":{"id":"icmclusterlb/0/5/90","name":"DistinctDNReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/91":{"id":"icmclusterlb/0/5/91","name":"DistinctSIDReplacement","entityType":"Column","type":"string"},"icmclusterlb/0/5/92":{"id":"icmclusterlb/0/5/92","name":"NumParentIncStep4","entityType":"Column","type":"long"},"icmclusterlb/0/5/93":{"id":"icmclusterlb/0/5/93","name":"NumParentIncSev0Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/94":{"id":"icmclusterlb/0/5/94","name":"NumParentIncSev1Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/95":{"id":"icmclusterlb/0/5/95","name":"NumParentIncSev2Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/96":{"id":"icmclusterlb/0/5/96","name":"NumParentIncSev3Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/97":{"id":"icmclusterlb/0/5/97","name":"NumParentIncSev4Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/98":{"id":"icmclusterlb/0/5/98","name":"PercIncReductionStep4","entityType":"Column","type":"real"},"icmclusterlb/0/5/99":{"id":"icmclusterlb/0/5/99","name":"NumActionableParentIncStep4","entityType":"Column","type":"long"},"icmclusterlb/0/5/100":{"id":"icmclusterlb/0/5/100","name":"NumActionableParentIncSev0Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/101":{"id":"icmclusterlb/0/5/101","name":"NumActionableParentIncSev1Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/102":{"id":"icmclusterlb/0/5/102","name":"NumActionableParentIncSev2Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/103":{"id":"icmclusterlb/0/5/103","name":"NumActionableParentIncSev3Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/104":{"id":"icmclusterlb/0/5/104","name":"NumActionableParentIncSev4Step4","entityType":"Column","type":"long"},"icmclusterlb/0/5/105":{"id":"icmclusterlb/0/5/105","name":"PercActionableIncReductionStep4","entityType":"Column","type":"real"},"icmclusterlb/0/5/106":{"id":"icmclusterlb/0/5/106","name":"CreationDateWindowCorrelationRuleIds","entityType":"Column","type":"string"},"icmclusterlb/0/5/107":{"id":"icmclusterlb/0/5/107","name":"CreationDateWindows","entityType":"Column","type":"string"},"icmclusterlb/0/5/108":{"id":"icmclusterlb/0/5/108","name":"CreationDateWindowNumIncidents","entityType":"Column","type":"string"},"icmclusterlb/0/5/109":{"id":"icmclusterlb/0/5/109","name":"SampleIncidentIdsCreationWindow","entityType":"Column","type":"string"},"icmclusterlb/0/5/110":{"id":"icmclusterlb/0/5/110","name":"NumParentIncStep5","entityType":"Column","type":"long"},"icmclusterlb/0/5/111":{"id":"icmclusterlb/0/5/111","name":"NumParentIncSev0Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/112":{"id":"icmclusterlb/0/5/112","name":"NumParentIncSev1Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/113":{"id":"icmclusterlb/0/5/113","name":"NumParentIncSev2Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/114":{"id":"icmclusterlb/0/5/114","name":"NumParentIncSev3Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/115":{"id":"icmclusterlb/0/5/115","name":"NumParentIncSev4Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/116":{"id":"icmclusterlb/0/5/116","name":"PercIncReductionStep5","entityType":"Column","type":"real"},"icmclusterlb/0/5/117":{"id":"icmclusterlb/0/5/117","name":"NumActionableParentIncStep5","entityType":"Column","type":"long"},"icmclusterlb/0/5/118":{"id":"icmclusterlb/0/5/118","name":"NumActionableParentIncSev0Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/119":{"id":"icmclusterlb/0/5/119","name":"NumActionableParentIncSev1Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/120":{"id":"icmclusterlb/0/5/120","name":"NumActionableParentIncSev2Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/121":{"id":"icmclusterlb/0/5/121","name":"NumActionableParentIncSev3Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/122":{"id":"icmclusterlb/0/5/122","name":"NumActionableParentIncSev4Step5","entityType":"Column","type":"long"},"icmclusterlb/0/5/123":{"id":"icmclusterlb/0/5/123","name":"PercActionableIncReductionStep5","entityType":"Column","type":"real"},"icmclusterlb/0/5/124":{"id":"icmclusterlb/0/5/124","name":"NewDefaultCorrelationRuleIds","entityType":"Column","type":"string"},"icmclusterlb/0/5/125":{"id":"icmclusterlb/0/5/125","name":"NewDefaultNumIncidents","entityType":"Column","type":"string"},"icmclusterlb/0/5/126":{"id":"icmclusterlb/0/5/126","name":"SampleIncidentIdsDefaultCorrelationRule","entityType":"Column","type":"string"},"icmclusterlb/0/5/127":{"id":"icmclusterlb/0/5/127","name":"NumParentIncStep6","entityType":"Column","type":"long"},"icmclusterlb/0/5/128":{"id":"icmclusterlb/0/5/128","name":"NumParentIncSev0Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/129":{"id":"icmclusterlb/0/5/129","name":"NumParentIncSev1Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/130":{"id":"icmclusterlb/0/5/130","name":"NumParentIncSev2Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/131":{"id":"icmclusterlb/0/5/131","name":"NumParentIncSev3Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/132":{"id":"icmclusterlb/0/5/132","name":"NumParentIncSev4Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/133":{"id":"icmclusterlb/0/5/133","name":"PercIncReductionStep6","entityType":"Column","type":"real"},"icmclusterlb/0/5/134":{"id":"icmclusterlb/0/5/134","name":"NumActionableParentIncStep6","entityType":"Column","type":"long"},"icmclusterlb/0/5/135":{"id":"icmclusterlb/0/5/135","name":"NumActionableParentIncSev0Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/136":{"id":"icmclusterlb/0/5/136","name":"NumActionableParentIncSev1Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/137":{"id":"icmclusterlb/0/5/137","name":"NumActionableParentIncSev2Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/138":{"id":"icmclusterlb/0/5/138","name":"NumActionableParentIncSev3Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/139":{"id":"icmclusterlb/0/5/139","name":"NumActionableParentIncSev4Step6","entityType":"Column","type":"long"},"icmclusterlb/0/5/140":{"id":"icmclusterlb/0/5/140","name":"PercActionableIncReductionStep6","entityType":"Column","type":"real"},"icmclusterlb/0/5/141":{"id":"icmclusterlb/0/5/141","name":"NumParentIncStep7","entityType":"Column","type":"long"},"icmclusterlb/0/5/142":{"id":"icmclusterlb/0/5/142","name":"NumParentIncSev0Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/143":{"id":"icmclusterlb/0/5/143","name":"NumParentIncSev1Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/144":{"id":"icmclusterlb/0/5/144","name":"NumParentIncSev2Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/145":{"id":"icmclusterlb/0/5/145","name":"NumParentIncSev3Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/146":{"id":"icmclusterlb/0/5/146","name":"NumParentIncSev4Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/147":{"id":"icmclusterlb/0/5/147","name":"PercIncReductionStep7","entityType":"Column","type":"real"},"icmclusterlb/0/5/148":{"id":"icmclusterlb/0/5/148","name":"NumActionableParentIncStep7","entityType":"Column","type":"long"},"icmclusterlb/0/5/149":{"id":"icmclusterlb/0/5/149","name":"NumActionableParentIncSev0Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/150":{"id":"icmclusterlb/0/5/150","name":"NumActionableParentIncSev1Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/151":{"id":"icmclusterlb/0/5/151","name":"NumActionableParentIncSev2Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/152":{"id":"icmclusterlb/0/5/152","name":"NumActionableParentIncSev3Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/153":{"id":"icmclusterlb/0/5/153","name":"NumActionableParentIncSev4Step7","entityType":"Column","type":"long"},"icmclusterlb/0/5/154":{"id":"icmclusterlb/0/5/154","name":"PercActionableIncReductionStep7","entityType":"Column","type":"real"},"icmclusterlb/0/5/155":{"id":"icmclusterlb/0/5/155","name":"NumNewCorrRules","entityType":"Column","type":"long"},"icmclusterlb/0/5/156":{"id":"icmclusterlb/0/5/156","name":"NewCorrelationRuleIds","entityType":"Column","type":"string"},"icmclusterlb/0/5/157":{"id":"icmclusterlb/0/5/157","name":"NewNumCorrelationRuleIncidents","entityType":"Column","type":"string"},"icmclusterlb/0/5/158":{"id":"icmclusterlb/0/5/158","name":"SampleIncidentIdsNewCorrelationRule","entityType":"Column","type":"string"},"icmclusterlb/0/5/159":{"id":"icmclusterlb/0/5/159","name":"DeltaMitigateTime","entityType":"Column","type":"real"},"icmclusterlb/0/5/160":{"id":"icmclusterlb/0/5/160","name":"NumParentIncStep8","entityType":"Column","type":"long"},"icmclusterlb/0/5/161":{"id":"icmclusterlb/0/5/161","name":"NumParentIncSev0Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/162":{"id":"icmclusterlb/0/5/162","name":"NumParentIncSev1Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/163":{"id":"icmclusterlb/0/5/163","name":"NumParentIncSev2Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/164":{"id":"icmclusterlb/0/5/164","name":"NumParentIncSev3Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/165":{"id":"icmclusterlb/0/5/165","name":"NumParentIncSev4Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/166":{"id":"icmclusterlb/0/5/166","name":"PercIncReductionStep8","entityType":"Column","type":"real"},"icmclusterlb/0/5/167":{"id":"icmclusterlb/0/5/167","name":"NumActionableParentIncStep8","entityType":"Column","type":"long"},"icmclusterlb/0/5/168":{"id":"icmclusterlb/0/5/168","name":"NumActionableParentIncSev0Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/169":{"id":"icmclusterlb/0/5/169","name":"NumActionableParentIncSev1Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/170":{"id":"icmclusterlb/0/5/170","name":"NumActionableParentIncSev2Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/171":{"id":"icmclusterlb/0/5/171","name":"NumActionableParentIncSev3Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/172":{"id":"icmclusterlb/0/5/172","name":"NumActionableParentIncSev4Step8","entityType":"Column","type":"long"},"icmclusterlb/0/5/173":{"id":"icmclusterlb/0/5/173","name":"PercActionableIncReductionStep8","entityType":"Column","type":"real"}}},"icmclusterlb/Icmanalytics/DriHealth_IcmMiner_IncidentActionability_Backfill":{"id":"icmclusterlb/Icmanalytics/DriHealth_IcmMiner_IncidentActionability_Backfill","entityType":"Table","name":"DriHealth_IcmMiner_IncidentActionability_Backfill","columns":{"icmclusterlb/0/6/0":{"id":"icmclusterlb/0/6/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/6/1":{"id":"icmclusterlb/0/6/1","name":"Actionable","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindow_V2":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindow_V2","entityType":"Table","name":"DriHealth_Recommendations_CreationDateWindow_V2","columns":{"icmclusterlb/0/7/0":{"id":"icmclusterlb/0/7/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/7/1":{"id":"icmclusterlb/0/7/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/7/2":{"id":"icmclusterlb/0/7/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/7/3":{"id":"icmclusterlb/0/7/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/7/4":{"id":"icmclusterlb/0/7/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/7/5":{"id":"icmclusterlb/0/7/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/7/6":{"id":"icmclusterlb/0/7/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/7/7":{"id":"icmclusterlb/0/7/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/7/8":{"id":"icmclusterlb/0/7/8","name":"ComputeTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTime_V2":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTime_V2","entityType":"Table","name":"DriHealth_Recommendations_AutoMitigationTime_V2","columns":{"icmclusterlb/0/8/0":{"id":"icmclusterlb/0/8/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/8/1":{"id":"icmclusterlb/0/8/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/8/2":{"id":"icmclusterlb/0/8/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/8/3":{"id":"icmclusterlb/0/8/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/8/4":{"id":"icmclusterlb/0/8/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/8/5":{"id":"icmclusterlb/0/8/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/8/6":{"id":"icmclusterlb/0/8/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/8/7":{"id":"icmclusterlb/0/8/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/8/8":{"id":"icmclusterlb/0/8/8","name":"ComputeTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValues_V2":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValues_V2","entityType":"Table","name":"DriHealth_Recommendations_AddFieldsValues_V2","columns":{"icmclusterlb/0/9/0":{"id":"icmclusterlb/0/9/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/9/1":{"id":"icmclusterlb/0/9/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/9/2":{"id":"icmclusterlb/0/9/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/9/3":{"id":"icmclusterlb/0/9/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/9/4":{"id":"icmclusterlb/0/9/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/9/5":{"id":"icmclusterlb/0/9/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/9/6":{"id":"icmclusterlb/0/9/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/9/7":{"id":"icmclusterlb/0/9/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/9/8":{"id":"icmclusterlb/0/9/8","name":"ComputeTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/IcMinerAll_V7_prime":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V7_prime","entityType":"Table","name":"IcMinerAll_V7_prime","columns":{"icmclusterlb/0/10/0":{"id":"icmclusterlb/0/10/0","name":"IncidentId","entityType":"Column","type":"string"},"icmclusterlb/0/10/1":{"id":"icmclusterlb/0/10/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/10/2":{"id":"icmclusterlb/0/10/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/10/3":{"id":"icmclusterlb/0/10/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/10/4":{"id":"icmclusterlb/0/10/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/10/5":{"id":"icmclusterlb/0/10/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/10/6":{"id":"icmclusterlb/0/10/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/10/7":{"id":"icmclusterlb/0/10/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/10/8":{"id":"icmclusterlb/0/10/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/10/9":{"id":"icmclusterlb/0/10/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/10/10":{"id":"icmclusterlb/0/10/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/10/11":{"id":"icmclusterlb/0/10/11","name":"URLNUM","entityType":"Column","type":"string"},"icmclusterlb/0/10/12":{"id":"icmclusterlb/0/10/12","name":"TSGNUM","entityType":"Column","type":"string"},"icmclusterlb/0/10/13":{"id":"icmclusterlb/0/10/13","name":"QueryNUM","entityType":"Column","type":"string"},"icmclusterlb/0/10/14":{"id":"icmclusterlb/0/10/14","name":"StackTraceNUM","entityType":"Column","type":"string"},"icmclusterlb/0/10/15":{"id":"icmclusterlb/0/10/15","name":"CommandNUM","entityType":"Column","type":"string"},"icmclusterlb/0/10/16":{"id":"icmclusterlb/0/10/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/10/17":{"id":"icmclusterlb/0/10/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/10/18":{"id":"icmclusterlb/0/10/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/10/19":{"id":"icmclusterlb/0/10/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/10/20":{"id":"icmclusterlb/0/10/20","name":"IngestionTime","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DC_Alias":{"id":"icmclusterlb/Icmanalytics/DC_Alias","entityType":"Table","name":"DC_Alias","columns":{"icmclusterlb/0/11/0":{"id":"icmclusterlb/0/11/0","name":"DCMT_Id","entityType":"Column","type":"string"},"icmclusterlb/0/11/1":{"id":"icmclusterlb/0/11/1","name":"Alias","entityType":"Column","type":"string"}},"folder":"OutageScout"},"icmclusterlb/Icmanalytics/EmptyEnvironmentStats":{"id":"icmclusterlb/Icmanalytics/EmptyEnvironmentStats","entityType":"Table","name":"EmptyEnvironmentStats","columns":{"icmclusterlb/0/12/0":{"id":"icmclusterlb/0/12/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/12/1":{"id":"icmclusterlb/0/12/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/12/2":{"id":"icmclusterlb/0/12/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/12/3":{"id":"icmclusterlb/0/12/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/12/4":{"id":"icmclusterlb/0/12/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/12/5":{"id":"icmclusterlb/0/12/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/12/6":{"id":"icmclusterlb/0/12/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/12/7":{"id":"icmclusterlb/0/12/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/12/8":{"id":"icmclusterlb/0/12/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/12/9":{"id":"icmclusterlb/0/12/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/12/10":{"id":"icmclusterlb/0/12/10","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/12/11":{"id":"icmclusterlb/0/12/11","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/12/12":{"id":"icmclusterlb/0/12/12","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/12/13":{"id":"icmclusterlb/0/12/13","name":"NumIncidentsWithEmptyEnvironment","entityType":"Column","type":"long"},"icmclusterlb/0/12/14":{"id":"icmclusterlb/0/12/14","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/12/15":{"id":"icmclusterlb/0/12/15","name":"NewOccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/12/16":{"id":"icmclusterlb/0/12/16","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/12/17":{"id":"icmclusterlb/0/12/17","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/EmptyCorrelationIdStats":{"id":"icmclusterlb/Icmanalytics/EmptyCorrelationIdStats","entityType":"Table","name":"EmptyCorrelationIdStats","columns":{"icmclusterlb/0/13/0":{"id":"icmclusterlb/0/13/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/13/1":{"id":"icmclusterlb/0/13/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/13/2":{"id":"icmclusterlb/0/13/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/13/3":{"id":"icmclusterlb/0/13/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/13/4":{"id":"icmclusterlb/0/13/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/13/5":{"id":"icmclusterlb/0/13/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/13/6":{"id":"icmclusterlb/0/13/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/13/7":{"id":"icmclusterlb/0/13/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/13/8":{"id":"icmclusterlb/0/13/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/13/9":{"id":"icmclusterlb/0/13/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/13/10":{"id":"icmclusterlb/0/13/10","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/13/11":{"id":"icmclusterlb/0/13/11","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/13/12":{"id":"icmclusterlb/0/13/12","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/13/13":{"id":"icmclusterlb/0/13/13","name":"NumIncidentsWithEmptyCorrelationId","entityType":"Column","type":"long"},"icmclusterlb/0/13/14":{"id":"icmclusterlb/0/13/14","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/13/15":{"id":"icmclusterlb/0/13/15","name":"NewCorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/13/16":{"id":"icmclusterlb/0/13/16","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/13/17":{"id":"icmclusterlb/0/13/17","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/EmptyMatchFieldsStats":{"id":"icmclusterlb/Icmanalytics/EmptyMatchFieldsStats","entityType":"Table","name":"EmptyMatchFieldsStats","columns":{"icmclusterlb/0/14/0":{"id":"icmclusterlb/0/14/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/14/1":{"id":"icmclusterlb/0/14/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/14/2":{"id":"icmclusterlb/0/14/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/14/3":{"id":"icmclusterlb/0/14/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/14/4":{"id":"icmclusterlb/0/14/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/14/5":{"id":"icmclusterlb/0/14/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/14/6":{"id":"icmclusterlb/0/14/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/14/7":{"id":"icmclusterlb/0/14/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/14/8":{"id":"icmclusterlb/0/14/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/14/9":{"id":"icmclusterlb/0/14/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/14/10":{"id":"icmclusterlb/0/14/10","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/14/11":{"id":"icmclusterlb/0/14/11","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/14/12":{"id":"icmclusterlb/0/14/12","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/14/13":{"id":"icmclusterlb/0/14/13","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/14/14":{"id":"icmclusterlb/0/14/14","name":"NumIncWithMatchingEmptyDC","entityType":"Column","type":"long"},"icmclusterlb/0/14/15":{"id":"icmclusterlb/0/14/15","name":"NumIncWithMatchingEmptyDG","entityType":"Column","type":"long"},"icmclusterlb/0/14/16":{"id":"icmclusterlb/0/14/16","name":"NumIncWithMatchingEmptyDN","entityType":"Column","type":"long"},"icmclusterlb/0/14/17":{"id":"icmclusterlb/0/14/17","name":"NumIncWithMatchingEmptySID","entityType":"Column","type":"long"},"icmclusterlb/0/14/18":{"id":"icmclusterlb/0/14/18","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/14/19":{"id":"icmclusterlb/0/14/19","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/14/20":{"id":"icmclusterlb/0/14/20","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/CreationDateWindowStats":{"id":"icmclusterlb/Icmanalytics/CreationDateWindowStats","entityType":"Table","name":"CreationDateWindowStats","columns":{"icmclusterlb/0/15/0":{"id":"icmclusterlb/0/15/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/15/1":{"id":"icmclusterlb/0/15/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/15/2":{"id":"icmclusterlb/0/15/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/15/3":{"id":"icmclusterlb/0/15/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/15/4":{"id":"icmclusterlb/0/15/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/15/5":{"id":"icmclusterlb/0/15/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/15/6":{"id":"icmclusterlb/0/15/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/15/7":{"id":"icmclusterlb/0/15/7","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/15/8":{"id":"icmclusterlb/0/15/8","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/15/9":{"id":"icmclusterlb/0/15/9","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/15/10":{"id":"icmclusterlb/0/15/10","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/15/11":{"id":"icmclusterlb/0/15/11","name":"OldCreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/15/12":{"id":"icmclusterlb/0/15/12","name":"NewCreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/15/13":{"id":"icmclusterlb/0/15/13","name":"CorrelationRuleUrl","entityType":"Column","type":"string"},"icmclusterlb/0/15/14":{"id":"icmclusterlb/0/15/14","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/15/15":{"id":"icmclusterlb/0/15/15","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/AutomitigationStats":{"id":"icmclusterlb/Icmanalytics/AutomitigationStats","entityType":"Table","name":"AutomitigationStats","columns":{"icmclusterlb/0/16/0":{"id":"icmclusterlb/0/16/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/16/1":{"id":"icmclusterlb/0/16/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/16/2":{"id":"icmclusterlb/0/16/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/16/3":{"id":"icmclusterlb/0/16/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/16/4":{"id":"icmclusterlb/0/16/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/16/5":{"id":"icmclusterlb/0/16/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/16/6":{"id":"icmclusterlb/0/16/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/16/7":{"id":"icmclusterlb/0/16/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/16/8":{"id":"icmclusterlb/0/16/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/16/9":{"id":"icmclusterlb/0/16/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/16/10":{"id":"icmclusterlb/0/16/10","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/16/11":{"id":"icmclusterlb/0/16/11","name":"MonitorAccount","entityType":"Column","type":"string"},"icmclusterlb/0/16/12":{"id":"icmclusterlb/0/16/12","name":"MonitorNamespace","entityType":"Column","type":"string"},"icmclusterlb/0/16/13":{"id":"icmclusterlb/0/16/13","name":"MonitorMetric","entityType":"Column","type":"string"},"icmclusterlb/0/16/14":{"id":"icmclusterlb/0/16/14","name":"MonitorName","entityType":"Column","type":"string"},"icmclusterlb/0/16/15":{"id":"icmclusterlb/0/16/15","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/16/16":{"id":"icmclusterlb/0/16/16","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/16/17":{"id":"icmclusterlb/0/16/17","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/16/18":{"id":"icmclusterlb/0/16/18","name":"MonitorFrequency","entityType":"Column","type":"real"},"icmclusterlb/0/16/19":{"id":"icmclusterlb/0/16/19","name":"OldMonitorHealthyCountToMitigateIncident","entityType":"Column","type":"long"},"icmclusterlb/0/16/20":{"id":"icmclusterlb/0/16/20","name":"NewMonitorHealthyCountToMitigateIncident","entityType":"Column","type":"long"},"icmclusterlb/0/16/21":{"id":"icmclusterlb/0/16/21","name":"DeltaMitigateTime","entityType":"Column","type":"real"},"icmclusterlb/0/16/22":{"id":"icmclusterlb/0/16/22","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/16/23":{"id":"icmclusterlb/0/16/23","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/DistinctCorrelationIdsStats":{"id":"icmclusterlb/Icmanalytics/DistinctCorrelationIdsStats","entityType":"Table","name":"DistinctCorrelationIdsStats","columns":{"icmclusterlb/0/17/0":{"id":"icmclusterlb/0/17/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/17/1":{"id":"icmclusterlb/0/17/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/17/2":{"id":"icmclusterlb/0/17/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/17/3":{"id":"icmclusterlb/0/17/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/17/4":{"id":"icmclusterlb/0/17/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/17/5":{"id":"icmclusterlb/0/17/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/17/6":{"id":"icmclusterlb/0/17/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/17/7":{"id":"icmclusterlb/0/17/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/17/8":{"id":"icmclusterlb/0/17/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/17/9":{"id":"icmclusterlb/0/17/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/17/10":{"id":"icmclusterlb/0/17/10","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/17/11":{"id":"icmclusterlb/0/17/11","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/17/12":{"id":"icmclusterlb/0/17/12","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/17/13":{"id":"icmclusterlb/0/17/13","name":"NumDistinctCorrelationIds","entityType":"Column","type":"long"},"icmclusterlb/0/17/14":{"id":"icmclusterlb/0/17/14","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/17/15":{"id":"icmclusterlb/0/17/15","name":"OldCorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/17/16":{"id":"icmclusterlb/0/17/16","name":"NewCorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/17/17":{"id":"icmclusterlb/0/17/17","name":"OldOccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/17/18":{"id":"icmclusterlb/0/17/18","name":"NewOccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/17/19":{"id":"icmclusterlb/0/17/19","name":"OldOccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/17/20":{"id":"icmclusterlb/0/17/20","name":"NewOccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/17/21":{"id":"icmclusterlb/0/17/21","name":"OldOccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/17/22":{"id":"icmclusterlb/0/17/22","name":"NewOccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/17/23":{"id":"icmclusterlb/0/17/23","name":"OldOccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/17/24":{"id":"icmclusterlb/0/17/24","name":"NewOccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/17/25":{"id":"icmclusterlb/0/17/25","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/17/26":{"id":"icmclusterlb/0/17/26","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/NewCorrelationRulesStats":{"id":"icmclusterlb/Icmanalytics/NewCorrelationRulesStats","entityType":"Table","name":"NewCorrelationRulesStats","columns":{"icmclusterlb/0/18/0":{"id":"icmclusterlb/0/18/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/18/1":{"id":"icmclusterlb/0/18/1","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/18/2":{"id":"icmclusterlb/0/18/2","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/18/3":{"id":"icmclusterlb/0/18/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/18/4":{"id":"icmclusterlb/0/18/4","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/0/18/5":{"id":"icmclusterlb/0/18/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/18/6":{"id":"icmclusterlb/0/18/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/18/7":{"id":"icmclusterlb/0/18/7","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/18/8":{"id":"icmclusterlb/0/18/8","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/18/9":{"id":"icmclusterlb/0/18/9","name":"NumInitialIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/18/10":{"id":"icmclusterlb/0/18/10","name":"SampleIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/18/11":{"id":"icmclusterlb/0/18/11","name":"RuleType","entityType":"Column","type":"string"},"icmclusterlb/0/18/12":{"id":"icmclusterlb/0/18/12","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/0/18/13":{"id":"icmclusterlb/0/18/13","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/0/18/14":{"id":"icmclusterlb/0/18/14","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/18/15":{"id":"icmclusterlb/0/18/15","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/18/16":{"id":"icmclusterlb/0/18/16","name":"Environment","entityType":"Column","type":"string"},"icmclusterlb/0/18/17":{"id":"icmclusterlb/0/18/17","name":"Datacenter","entityType":"Column","type":"string"},"icmclusterlb/0/18/18":{"id":"icmclusterlb/0/18/18","name":"DeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/18/19":{"id":"icmclusterlb/0/18/19","name":"DeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/18/20":{"id":"icmclusterlb/0/18/20","name":"ServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/18/21":{"id":"icmclusterlb/0/18/21","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/0/18/22":{"id":"icmclusterlb/0/18/22","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/18/23":{"id":"icmclusterlb/0/18/23","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/0/18/24":{"id":"icmclusterlb/0/18/24","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/18/25":{"id":"icmclusterlb/0/18/25","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/18/26":{"id":"icmclusterlb/0/18/26","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/18/27":{"id":"icmclusterlb/0/18/27","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/18/28":{"id":"icmclusterlb/0/18/28","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/18/29":{"id":"icmclusterlb/0/18/29","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/18/30":{"id":"icmclusterlb/0/18/30","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/18/31":{"id":"icmclusterlb/0/18/31","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/18/32":{"id":"icmclusterlb/0/18/32","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/18/33":{"id":"icmclusterlb/0/18/33","name":"NumFinalIncidents","entityType":"Column","type":"long"},"icmclusterlb/0/18/34":{"id":"icmclusterlb/0/18/34","name":"IsRecommendationFound","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/SummaryStats":{"id":"icmclusterlb/Icmanalytics/SummaryStats","entityType":"Table","name":"SummaryStats","columns":{"icmclusterlb/0/19/0":{"id":"icmclusterlb/0/19/0","name":"StartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/19/1":{"id":"icmclusterlb/0/19/1","name":"EndDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/19/2":{"id":"icmclusterlb/0/19/2","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/19/3":{"id":"icmclusterlb/0/19/3","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/19/4":{"id":"icmclusterlb/0/19/4","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/19/5":{"id":"icmclusterlb/0/19/5","name":"InitialVolume","entityType":"Column","type":"long"},"icmclusterlb/0/19/6":{"id":"icmclusterlb/0/19/6","name":"FinalVolume","entityType":"Column","type":"long"}}},"icmclusterlb/Icmanalytics/SymptomMonitors":{"id":"icmclusterlb/Icmanalytics/SymptomMonitors","entityType":"Table","name":"SymptomMonitors","columns":{"icmclusterlb/0/20/0":{"id":"icmclusterlb/0/20/0","name":"MonitorId","entityType":"Column","type":"string"}},"folder":"OutageScout"},"icmclusterlb/Icmanalytics/IcMinerAll_V7_temp_19f15a212592f5f25b9b2b1df2f2ecab":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V7_temp_19f15a212592f5f25b9b2b1df2f2ecab","entityType":"Table","name":"IcMinerAll_V7_temp_19f15a212592f5f25b9b2b1df2f2ecab","columns":{"icmclusterlb/0/21/0":{"id":"icmclusterlb/0/21/0","name":"IncidentId","entityType":"Column","type":"string"},"icmclusterlb/0/21/1":{"id":"icmclusterlb/0/21/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/21/2":{"id":"icmclusterlb/0/21/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/21/3":{"id":"icmclusterlb/0/21/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/21/4":{"id":"icmclusterlb/0/21/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/21/5":{"id":"icmclusterlb/0/21/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/21/6":{"id":"icmclusterlb/0/21/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/21/7":{"id":"icmclusterlb/0/21/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/21/8":{"id":"icmclusterlb/0/21/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/21/9":{"id":"icmclusterlb/0/21/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/21/10":{"id":"icmclusterlb/0/21/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/21/11":{"id":"icmclusterlb/0/21/11","name":"URLNUM","entityType":"Column","type":"string"},"icmclusterlb/0/21/12":{"id":"icmclusterlb/0/21/12","name":"TSGNUM","entityType":"Column","type":"string"},"icmclusterlb/0/21/13":{"id":"icmclusterlb/0/21/13","name":"QueryNUM","entityType":"Column","type":"string"},"icmclusterlb/0/21/14":{"id":"icmclusterlb/0/21/14","name":"StackTraceNUM","entityType":"Column","type":"string"},"icmclusterlb/0/21/15":{"id":"icmclusterlb/0/21/15","name":"CommandNUM","entityType":"Column","type":"string"},"icmclusterlb/0/21/16":{"id":"icmclusterlb/0/21/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/21/17":{"id":"icmclusterlb/0/21/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/21/18":{"id":"icmclusterlb/0/21/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/21/19":{"id":"icmclusterlb/0/21/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/21/20":{"id":"icmclusterlb/0/21/20","name":"IngestionTime","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/EmptyEnvironmentStats_temp_a5ed204a3c07dd5f7b202cd7f95b4872":{"id":"icmclusterlb/Icmanalytics/EmptyEnvironmentStats_temp_a5ed204a3c07dd5f7b202cd7f95b4872","entityType":"Table","name":"EmptyEnvironmentStats_temp_a5ed204a3c07dd5f7b202cd7f95b4872","columns":{"icmclusterlb/0/22/0":{"id":"icmclusterlb/0/22/0","name":"UniqueId","entityType":"Column","type":"string"},"icmclusterlb/0/22/1":{"id":"icmclusterlb/0/22/1","name":"StartDate","entityType":"Column","type":"string"},"icmclusterlb/0/22/2":{"id":"icmclusterlb/0/22/2","name":"EndDate","entityType":"Column","type":"string"},"icmclusterlb/0/22/3":{"id":"icmclusterlb/0/22/3","name":"ComputeTime","entityType":"Column","type":"string"},"icmclusterlb/0/22/4":{"id":"icmclusterlb/0/22/4","name":"Id","entityType":"Column","type":"string"},"icmclusterlb/0/22/5":{"id":"icmclusterlb/0/22/5","name":"OwningTenantId","entityType":"Column","type":"string"},"icmclusterlb/0/22/6":{"id":"icmclusterlb/0/22/6","name":"OwningTeamId","entityType":"Column","type":"string"},"icmclusterlb/0/22/7":{"id":"icmclusterlb/0/22/7","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/22/8":{"id":"icmclusterlb/0/22/8","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/22/9":{"id":"icmclusterlb/0/22/9","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/22/10":{"id":"icmclusterlb/0/22/10","name":"Severity","entityType":"Column","type":"string"},"icmclusterlb/0/22/11":{"id":"icmclusterlb/0/22/11","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/22/12":{"id":"icmclusterlb/0/22/12","name":"NumInitialIncidents","entityType":"Column","type":"string"},"icmclusterlb/0/22/13":{"id":"icmclusterlb/0/22/13","name":"NumIncidentsWithEmptyEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/22/14":{"id":"icmclusterlb/0/22/14","name":"SampleIncidentId","entityType":"Column","type":"string"},"icmclusterlb/0/22/15":{"id":"icmclusterlb/0/22/15","name":"NewOccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/22/16":{"id":"icmclusterlb/0/22/16","name":"NumFinalIncidents","entityType":"Column","type":"string"},"icmclusterlb/0/22/17":{"id":"icmclusterlb/0/22/17","name":"IsRecommendationFound","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V1_temp_e22ebe272f1778005dbc780598bc8450":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V1_temp_e22ebe272f1778005dbc780598bc8450","entityType":"Table","name":"DRIHealthSurvey_Processed_V1_temp_e22ebe272f1778005dbc780598bc8450","columns":{"icmclusterlb/0/23/0":{"id":"icmclusterlb/0/23/0","name":"Id","entityType":"Column","type":"string"},"icmclusterlb/0/23/1":{"id":"icmclusterlb/0/23/1","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/0/23/2":{"id":"icmclusterlb/0/23/2","name":"SurveyTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/23/3":{"id":"icmclusterlb/0/23/3","name":"StartOfMonth","entityType":"Column","type":"datetime"},"icmclusterlb/0/23/4":{"id":"icmclusterlb/0/23/4","name":"OverallScore","entityType":"Column","type":"int"},"icmclusterlb/0/23/5":{"id":"icmclusterlb/0/23/5","name":"ToolingScore","entityType":"Column","type":"int"},"icmclusterlb/0/23/6":{"id":"icmclusterlb/0/23/6","name":"ProcessScore","entityType":"Column","type":"int"},"icmclusterlb/0/23/7":{"id":"icmclusterlb/0/23/7","name":"TopPainPoints","entityType":"Column","type":"string"},"icmclusterlb/0/23/8":{"id":"icmclusterlb/0/23/8","name":"TopFeatures","entityType":"Column","type":"string"},"icmclusterlb/0/23/9":{"id":"icmclusterlb/0/23/9","name":"EmailSnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/23/10":{"id":"icmclusterlb/0/23/10","name":"SurveySnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/23/11":{"id":"icmclusterlb/0/23/11","name":"RespondedToSurveyStatus","entityType":"Column","type":"bool"},"icmclusterlb/0/23/12":{"id":"icmclusterlb/0/23/12","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindowSimulation_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindowSimulation_V3","entityType":"Table","name":"DriHealth_Recommendations_CreationDateWindowSimulation_V3","columns":{"icmclusterlb/0/24/0":{"id":"icmclusterlb/0/24/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/24/1":{"id":"icmclusterlb/0/24/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/24/2":{"id":"icmclusterlb/0/24/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/24/3":{"id":"icmclusterlb/0/24/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/24/4":{"id":"icmclusterlb/0/24/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/24/5":{"id":"icmclusterlb/0/24/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/24/6":{"id":"icmclusterlb/0/24/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/24/7":{"id":"icmclusterlb/0/24/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/24/8":{"id":"icmclusterlb/0/24/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/24/9":{"id":"icmclusterlb/0/24/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/24/10":{"id":"icmclusterlb/0/24/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/24/11":{"id":"icmclusterlb/0/24/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/24/12":{"id":"icmclusterlb/0/24/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/24/13":{"id":"icmclusterlb/0/24/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/24/14":{"id":"icmclusterlb/0/24/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/24/15":{"id":"icmclusterlb/0/24/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/24/16":{"id":"icmclusterlb/0/24/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/24/17":{"id":"icmclusterlb/0/24/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/24/18":{"id":"icmclusterlb/0/24/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/24/19":{"id":"icmclusterlb/0/24/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/24/20":{"id":"icmclusterlb/0/24/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/24/21":{"id":"icmclusterlb/0/24/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/24/22":{"id":"icmclusterlb/0/24/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/24/23":{"id":"icmclusterlb/0/24/23","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/24/24":{"id":"icmclusterlb/0/24/24","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/24/25":{"id":"icmclusterlb/0/24/25","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/24/26":{"id":"icmclusterlb/0/24/26","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/24/27":{"id":"icmclusterlb/0/24/27","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/24/28":{"id":"icmclusterlb/0/24/28","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/24/29":{"id":"icmclusterlb/0/24/29","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/24/30":{"id":"icmclusterlb/0/24/30","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/24/31":{"id":"icmclusterlb/0/24/31","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/24/32":{"id":"icmclusterlb/0/24/32","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/24/33":{"id":"icmclusterlb/0/24/33","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/24/34":{"id":"icmclusterlb/0/24/34","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/24/35":{"id":"icmclusterlb/0/24/35","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/24/36":{"id":"icmclusterlb/0/24/36","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/24/37":{"id":"icmclusterlb/0/24/37","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/24/38":{"id":"icmclusterlb/0/24/38","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/24/39":{"id":"icmclusterlb/0/24/39","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/24/40":{"id":"icmclusterlb/0/24/40","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/24/41":{"id":"icmclusterlb/0/24/41","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/24/42":{"id":"icmclusterlb/0/24/42","name":"EstimatedCreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/24/43":{"id":"icmclusterlb/0/24/43","name":"DoesNotHavePrequisiteNumberOfInstancesForCorrelationIdAndCreationWindow","entityType":"Column","type":"bool"},"icmclusterlb/0/24/44":{"id":"icmclusterlb/0/24/44","name":"NumberOfIncidentsWithCorrelationIdAndCreationWindow","entityType":"Column","type":"long"},"icmclusterlb/0/24/45":{"id":"icmclusterlb/0/24/45","name":"NumberOfIncidentsThresholdCorrelationIdAndCreationWindow","entityType":"Column","type":"long"},"icmclusterlb/0/24/46":{"id":"icmclusterlb/0/24/46","name":"TimeFromPreviousIncidentCreation","entityType":"Column","type":"real"}}},"icmclusterlb/Icmanalytics/ZTempDso_20210405_DriHealth_Recommendations_AutoMitigationTimeSimulation_V3_aca00f95b5e942c8971cb934c3936db6":{"id":"icmclusterlb/Icmanalytics/ZTempDso_20210405_DriHealth_Recommendations_AutoMitigationTimeSimulation_V3_aca00f95b5e942c8971cb934c3936db6","entityType":"Table","name":"ZTempDso_20210405_DriHealth_Recommendations_AutoMitigationTimeSimulation_V3_aca00f95b5e942c8971cb934c3936db6","columns":{"icmclusterlb/0/25/0":{"id":"icmclusterlb/0/25/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/25/1":{"id":"icmclusterlb/0/25/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/25/2":{"id":"icmclusterlb/0/25/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/25/3":{"id":"icmclusterlb/0/25/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/25/4":{"id":"icmclusterlb/0/25/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/25/5":{"id":"icmclusterlb/0/25/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/25/6":{"id":"icmclusterlb/0/25/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/25/7":{"id":"icmclusterlb/0/25/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/25/8":{"id":"icmclusterlb/0/25/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/25/9":{"id":"icmclusterlb/0/25/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/25/10":{"id":"icmclusterlb/0/25/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/25/11":{"id":"icmclusterlb/0/25/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/25/12":{"id":"icmclusterlb/0/25/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/25/13":{"id":"icmclusterlb/0/25/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/25/14":{"id":"icmclusterlb/0/25/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/25/15":{"id":"icmclusterlb/0/25/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/25/16":{"id":"icmclusterlb/0/25/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/25/17":{"id":"icmclusterlb/0/25/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/25/18":{"id":"icmclusterlb/0/25/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/25/19":{"id":"icmclusterlb/0/25/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/25/20":{"id":"icmclusterlb/0/25/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/25/21":{"id":"icmclusterlb/0/25/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/25/22":{"id":"icmclusterlb/0/25/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/25/23":{"id":"icmclusterlb/0/25/23","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/25/24":{"id":"icmclusterlb/0/25/24","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/25/25":{"id":"icmclusterlb/0/25/25","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/25/26":{"id":"icmclusterlb/0/25/26","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/25/27":{"id":"icmclusterlb/0/25/27","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/25/28":{"id":"icmclusterlb/0/25/28","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/25/29":{"id":"icmclusterlb/0/25/29","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/25/30":{"id":"icmclusterlb/0/25/30","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/25/31":{"id":"icmclusterlb/0/25/31","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/25/32":{"id":"icmclusterlb/0/25/32","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/25/33":{"id":"icmclusterlb/0/25/33","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/25/34":{"id":"icmclusterlb/0/25/34","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/25/35":{"id":"icmclusterlb/0/25/35","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/25/36":{"id":"icmclusterlb/0/25/36","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/25/37":{"id":"icmclusterlb/0/25/37","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/25/38":{"id":"icmclusterlb/0/25/38","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/25/39":{"id":"icmclusterlb/0/25/39","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/25/40":{"id":"icmclusterlb/0/25/40","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/25/41":{"id":"icmclusterlb/0/25/41","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/25/42":{"id":"icmclusterlb/0/25/42","name":"IsNotGenevaMonitor","entityType":"Column","type":"bool"},"icmclusterlb/0/25/43":{"id":"icmclusterlb/0/25/43","name":"IsNotMitigatedByHealthmanagesvc","entityType":"Column","type":"bool"},"icmclusterlb/0/25/44":{"id":"icmclusterlb/0/25/44","name":"IsArrivalTimeGreaterThanMaxMitigateTimeIncrement","entityType":"Column","type":"bool"},"icmclusterlb/0/25/45":{"id":"icmclusterlb/0/25/45","name":"TimeFromPreviousMitigation","entityType":"Column","type":"real"},"icmclusterlb/0/25/46":{"id":"icmclusterlb/0/25/46","name":"MaxMitigateTimeIncrement","entityType":"Column","type":"long"},"icmclusterlb/0/25/47":{"id":"icmclusterlb/0/25/47","name":"IsBelowNumberIncidentsEarlyMitigatedIncidentThreshold","entityType":"Column","type":"bool"},"icmclusterlb/0/25/48":{"id":"icmclusterlb/0/25/48","name":"NumberOfIncidentsForMonitor","entityType":"Column","type":"long"},"icmclusterlb/0/25/49":{"id":"icmclusterlb/0/25/49","name":"MonitorAccount","entityType":"Column","type":"string"},"icmclusterlb/0/25/50":{"id":"icmclusterlb/0/25/50","name":"MonitorNamespace","entityType":"Column","type":"string"},"icmclusterlb/0/25/51":{"id":"icmclusterlb/0/25/51","name":"MonitorMetric","entityType":"Column","type":"string"},"icmclusterlb/0/25/52":{"id":"icmclusterlb/0/25/52","name":"MonitorName","entityType":"Column","type":"string"},"icmclusterlb/0/25/53":{"id":"icmclusterlb/0/25/53","name":"MonitorUrl","entityType":"Column","type":"string"}},"folder":"Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTimeSimulation_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTimeSimulation_V3","entityType":"Table","name":"DriHealth_Recommendations_AutoMitigationTimeSimulation_V3","columns":{"icmclusterlb/0/26/0":{"id":"icmclusterlb/0/26/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/26/1":{"id":"icmclusterlb/0/26/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/26/2":{"id":"icmclusterlb/0/26/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/26/3":{"id":"icmclusterlb/0/26/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/26/4":{"id":"icmclusterlb/0/26/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/26/5":{"id":"icmclusterlb/0/26/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/26/6":{"id":"icmclusterlb/0/26/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/26/7":{"id":"icmclusterlb/0/26/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/26/8":{"id":"icmclusterlb/0/26/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/26/9":{"id":"icmclusterlb/0/26/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/26/10":{"id":"icmclusterlb/0/26/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/26/11":{"id":"icmclusterlb/0/26/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/26/12":{"id":"icmclusterlb/0/26/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/26/13":{"id":"icmclusterlb/0/26/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/26/14":{"id":"icmclusterlb/0/26/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/26/15":{"id":"icmclusterlb/0/26/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/26/16":{"id":"icmclusterlb/0/26/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/26/17":{"id":"icmclusterlb/0/26/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/26/18":{"id":"icmclusterlb/0/26/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/26/19":{"id":"icmclusterlb/0/26/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/26/20":{"id":"icmclusterlb/0/26/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/26/21":{"id":"icmclusterlb/0/26/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/26/22":{"id":"icmclusterlb/0/26/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/26/23":{"id":"icmclusterlb/0/26/23","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/26/24":{"id":"icmclusterlb/0/26/24","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/26/25":{"id":"icmclusterlb/0/26/25","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/26/26":{"id":"icmclusterlb/0/26/26","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/26/27":{"id":"icmclusterlb/0/26/27","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/26/28":{"id":"icmclusterlb/0/26/28","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/26/29":{"id":"icmclusterlb/0/26/29","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/26/30":{"id":"icmclusterlb/0/26/30","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/26/31":{"id":"icmclusterlb/0/26/31","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/26/32":{"id":"icmclusterlb/0/26/32","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/26/33":{"id":"icmclusterlb/0/26/33","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/26/34":{"id":"icmclusterlb/0/26/34","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/26/35":{"id":"icmclusterlb/0/26/35","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/26/36":{"id":"icmclusterlb/0/26/36","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/26/37":{"id":"icmclusterlb/0/26/37","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/26/38":{"id":"icmclusterlb/0/26/38","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/26/39":{"id":"icmclusterlb/0/26/39","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/26/40":{"id":"icmclusterlb/0/26/40","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/26/41":{"id":"icmclusterlb/0/26/41","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/26/42":{"id":"icmclusterlb/0/26/42","name":"IsNotGenevaMonitor","entityType":"Column","type":"bool"},"icmclusterlb/0/26/43":{"id":"icmclusterlb/0/26/43","name":"IsNotMitigatedByHealthmanagesvc","entityType":"Column","type":"bool"},"icmclusterlb/0/26/44":{"id":"icmclusterlb/0/26/44","name":"IsArrivalTimeGreaterThanMaxMitigateTimeIncrement","entityType":"Column","type":"bool"},"icmclusterlb/0/26/45":{"id":"icmclusterlb/0/26/45","name":"TimeFromPreviousMitigation","entityType":"Column","type":"real"},"icmclusterlb/0/26/46":{"id":"icmclusterlb/0/26/46","name":"MaxMitigateTimeIncrement","entityType":"Column","type":"long"},"icmclusterlb/0/26/47":{"id":"icmclusterlb/0/26/47","name":"IsBelowNumberIncidentsEarlyMitigatedIncidentThreshold","entityType":"Column","type":"bool"},"icmclusterlb/0/26/48":{"id":"icmclusterlb/0/26/48","name":"NumberOfIncidentsForMonitor","entityType":"Column","type":"long"},"icmclusterlb/0/26/49":{"id":"icmclusterlb/0/26/49","name":"MonitorAccount","entityType":"Column","type":"string"},"icmclusterlb/0/26/50":{"id":"icmclusterlb/0/26/50","name":"MonitorNamespace","entityType":"Column","type":"string"},"icmclusterlb/0/26/51":{"id":"icmclusterlb/0/26/51","name":"MonitorMetric","entityType":"Column","type":"string"},"icmclusterlb/0/26/52":{"id":"icmclusterlb/0/26/52","name":"MonitorName","entityType":"Column","type":"string"},"icmclusterlb/0/26/53":{"id":"icmclusterlb/0/26/53","name":"MonitorUrl","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValuesSimulation_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValuesSimulation_V3","entityType":"Table","name":"DriHealth_Recommendations_AddFieldsValuesSimulation_V3","columns":{"icmclusterlb/0/27/0":{"id":"icmclusterlb/0/27/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/27/1":{"id":"icmclusterlb/0/27/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/27/2":{"id":"icmclusterlb/0/27/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/27/3":{"id":"icmclusterlb/0/27/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/27/4":{"id":"icmclusterlb/0/27/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/27/5":{"id":"icmclusterlb/0/27/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/27/6":{"id":"icmclusterlb/0/27/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/27/7":{"id":"icmclusterlb/0/27/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/27/8":{"id":"icmclusterlb/0/27/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/27/9":{"id":"icmclusterlb/0/27/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/27/10":{"id":"icmclusterlb/0/27/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/27/11":{"id":"icmclusterlb/0/27/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/27/12":{"id":"icmclusterlb/0/27/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/27/13":{"id":"icmclusterlb/0/27/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/27/14":{"id":"icmclusterlb/0/27/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/27/15":{"id":"icmclusterlb/0/27/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/27/16":{"id":"icmclusterlb/0/27/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/27/17":{"id":"icmclusterlb/0/27/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/27/18":{"id":"icmclusterlb/0/27/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/27/19":{"id":"icmclusterlb/0/27/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/27/20":{"id":"icmclusterlb/0/27/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/27/21":{"id":"icmclusterlb/0/27/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/27/22":{"id":"icmclusterlb/0/27/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/27/23":{"id":"icmclusterlb/0/27/23","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/27/24":{"id":"icmclusterlb/0/27/24","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/27/25":{"id":"icmclusterlb/0/27/25","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/27/26":{"id":"icmclusterlb/0/27/26","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/27/27":{"id":"icmclusterlb/0/27/27","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/27/28":{"id":"icmclusterlb/0/27/28","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/27/29":{"id":"icmclusterlb/0/27/29","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/27/30":{"id":"icmclusterlb/0/27/30","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/27/31":{"id":"icmclusterlb/0/27/31","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/27/32":{"id":"icmclusterlb/0/27/32","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/27/33":{"id":"icmclusterlb/0/27/33","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/27/34":{"id":"icmclusterlb/0/27/34","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/27/35":{"id":"icmclusterlb/0/27/35","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/27/36":{"id":"icmclusterlb/0/27/36","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/27/37":{"id":"icmclusterlb/0/27/37","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/27/38":{"id":"icmclusterlb/0/27/38","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/27/39":{"id":"icmclusterlb/0/27/39","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/27/40":{"id":"icmclusterlb/0/27/40","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/27/41":{"id":"icmclusterlb/0/27/41","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/27/42":{"id":"icmclusterlb/0/27/42","name":"MonitorUrl","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/IncidentNonActionability_V1":{"id":"icmclusterlb/Icmanalytics/IncidentNonActionability_V1","entityType":"Table","name":"IncidentNonActionability_V1","columns":{"icmclusterlb/0/28/0":{"id":"icmclusterlb/0/28/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/28/1":{"id":"icmclusterlb/0/28/1","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/28/2":{"id":"icmclusterlb/0/28/2","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/28/3":{"id":"icmclusterlb/0/28/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/28/4":{"id":"icmclusterlb/0/28/4","name":"Owners","entityType":"Column","type":"string"},"icmclusterlb/0/28/5":{"id":"icmclusterlb/0/28/5","name":"IsPartOfMassMitigation","entityType":"Column","type":"bool"},"icmclusterlb/0/28/6":{"id":"icmclusterlb/0/28/6","name":"IcMinerActionability","entityType":"Column","type":"bool"},"icmclusterlb/0/28/7":{"id":"icmclusterlb/0/28/7","name":"IsActionableBecauseOfDescriptionEntires","entityType":"Column","type":"bool"},"icmclusterlb/0/28/8":{"id":"icmclusterlb/0/28/8","name":"IsActionableBecauseOfPostMortem","entityType":"Column","type":"bool"},"icmclusterlb/0/28/9":{"id":"icmclusterlb/0/28/9","name":"IsActionableBecauseOfHowFixed","entityType":"Column","type":"bool"},"icmclusterlb/0/28/10":{"id":"icmclusterlb/0/28/10","name":"NumberOfHumanWrittenDescriptionEntries","entityType":"Column","type":"long"},"icmclusterlb/0/28/11":{"id":"icmclusterlb/0/28/11","name":"IcMMinerComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/28/12":{"id":"icmclusterlb/0/28/12","name":"IsNonActionable","entityType":"Column","type":"bool"}}},"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V1":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V1","entityType":"Table","name":"DRIHealthSurvey_Processed_V1","columns":{"icmclusterlb/0/29/0":{"id":"icmclusterlb/0/29/0","name":"Id","entityType":"Column","type":"string"},"icmclusterlb/0/29/1":{"id":"icmclusterlb/0/29/1","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/0/29/2":{"id":"icmclusterlb/0/29/2","name":"SurveyTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/29/3":{"id":"icmclusterlb/0/29/3","name":"StartOfMonth","entityType":"Column","type":"datetime"},"icmclusterlb/0/29/4":{"id":"icmclusterlb/0/29/4","name":"OverallScore","entityType":"Column","type":"int"},"icmclusterlb/0/29/5":{"id":"icmclusterlb/0/29/5","name":"ToolingScore","entityType":"Column","type":"int"},"icmclusterlb/0/29/6":{"id":"icmclusterlb/0/29/6","name":"ProcessScore","entityType":"Column","type":"int"},"icmclusterlb/0/29/7":{"id":"icmclusterlb/0/29/7","name":"TopPainPoints","entityType":"Column","type":"string"},"icmclusterlb/0/29/8":{"id":"icmclusterlb/0/29/8","name":"TopFeatures","entityType":"Column","type":"string"},"icmclusterlb/0/29/9":{"id":"icmclusterlb/0/29/9","name":"EmailSnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/29/10":{"id":"icmclusterlb/0/29/10","name":"SurveySnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/29/11":{"id":"icmclusterlb/0/29/11","name":"RespondedToSurveyStatus","entityType":"Column","type":"bool"},"icmclusterlb/0/29/12":{"id":"icmclusterlb/0/29/12","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V1":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V1","entityType":"Table","name":"DRIHealthSurvey_WithSysSieveInference_V1","columns":{"icmclusterlb/0/30/0":{"id":"icmclusterlb/0/30/0","name":"TicketID","entityType":"Column","type":"string"},"icmclusterlb/0/30/1":{"id":"icmclusterlb/0/30/1","name":"Trait","entityType":"Column","type":"string"},"icmclusterlb/0/30/2":{"id":"icmclusterlb/0/30/2","name":"EngineeringPrimary0","entityType":"Column","type":"string"},"icmclusterlb/0/30/3":{"id":"icmclusterlb/0/30/3","name":"EngineeringSecondary0","entityType":"Column","type":"string"},"icmclusterlb/0/30/4":{"id":"icmclusterlb/0/30/4","name":"RecordTypeQualifierValue0","entityType":"Column","type":"string"},"icmclusterlb/0/30/5":{"id":"icmclusterlb/0/30/5","name":"EngineeringPrimary1","entityType":"Column","type":"string"},"icmclusterlb/0/30/6":{"id":"icmclusterlb/0/30/6","name":"EngineeringSecondary1","entityType":"Column","type":"string"},"icmclusterlb/0/30/7":{"id":"icmclusterlb/0/30/7","name":"RecordTypeQualifierValue1","entityType":"Column","type":"string"},"icmclusterlb/0/30/8":{"id":"icmclusterlb/0/30/8","name":"EngineeringPrimary2","entityType":"Column","type":"string"},"icmclusterlb/0/30/9":{"id":"icmclusterlb/0/30/9","name":"EngineeringSecondary2","entityType":"Column","type":"string"},"icmclusterlb/0/30/10":{"id":"icmclusterlb/0/30/10","name":"RecordTypeQualifierValue2","entityType":"Column","type":"string"},"icmclusterlb/0/30/11":{"id":"icmclusterlb/0/30/11","name":"EngineeringPrimary3","entityType":"Column","type":"string"},"icmclusterlb/0/30/12":{"id":"icmclusterlb/0/30/12","name":"EngineeringSecondary3","entityType":"Column","type":"string"},"icmclusterlb/0/30/13":{"id":"icmclusterlb/0/30/13","name":"RecordTypeQualifierValue3","entityType":"Column","type":"string"},"icmclusterlb/0/30/14":{"id":"icmclusterlb/0/30/14","name":"CustomerPrimary","entityType":"Column","type":"string"},"icmclusterlb/0/30/15":{"id":"icmclusterlb/0/30/15","name":"CustomerSecondary","entityType":"Column","type":"string"},"icmclusterlb/0/30/16":{"id":"icmclusterlb/0/30/16","name":"RecordTypeQualifierValue","entityType":"Column","type":"string"},"icmclusterlb/0/30/17":{"id":"icmclusterlb/0/30/17","name":"RecordTypeQualifier","entityType":"Column","type":"string"},"icmclusterlb/0/30/18":{"id":"icmclusterlb/0/30/18","name":"AnalyzedText","entityType":"Column","type":"string"},"icmclusterlb/0/30/19":{"id":"icmclusterlb/0/30/19","name":"SentenceId","entityType":"Column","type":"string"},"icmclusterlb/0/30/20":{"id":"icmclusterlb/0/30/20","name":"TaggedText","entityType":"Column","type":"string"},"icmclusterlb/0/30/21":{"id":"icmclusterlb/0/30/21","name":"InferenceType","entityType":"Column","type":"string"},"icmclusterlb/0/30/22":{"id":"icmclusterlb/0/30/22","name":"FundamentalArea","entityType":"Column","type":"string"},"icmclusterlb/0/30/23":{"id":"icmclusterlb/0/30/23","name":"Sentiment","entityType":"Column","type":"string"},"icmclusterlb/0/30/24":{"id":"icmclusterlb/0/30/24","name":"IsEntityStateAnAction","entityType":"Column","type":"string"},"icmclusterlb/0/30/25":{"id":"icmclusterlb/0/30/25","name":"TopEorA_F","entityType":"Column","type":"string"},"icmclusterlb/0/30/26":{"id":"icmclusterlb/0/30/26","name":"PriChartPhraselCloud","entityType":"Column","type":"string"},"icmclusterlb/0/30/27":{"id":"icmclusterlb/0/30/27","name":"ActionableType","entityType":"Column","type":"string"},"icmclusterlb/0/30/28":{"id":"icmclusterlb/0/30/28","name":"TopEA","entityType":"Column","type":"string"},"icmclusterlb/0/30/29":{"id":"icmclusterlb/0/30/29","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/30/30":{"id":"icmclusterlb/0/30/30","name":"SysSieveOntologyVersion","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V2":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V2","entityType":"Table","name":"DRIHealthSurvey_WithSysSieveInference_V2","columns":{"icmclusterlb/0/31/0":{"id":"icmclusterlb/0/31/0","name":"TicketID","entityType":"Column","type":"string"},"icmclusterlb/0/31/1":{"id":"icmclusterlb/0/31/1","name":"Trait","entityType":"Column","type":"string"},"icmclusterlb/0/31/2":{"id":"icmclusterlb/0/31/2","name":"EngineeringPrimary0","entityType":"Column","type":"string"},"icmclusterlb/0/31/3":{"id":"icmclusterlb/0/31/3","name":"EngineeringSecondary0","entityType":"Column","type":"string"},"icmclusterlb/0/31/4":{"id":"icmclusterlb/0/31/4","name":"RecordTypeQualifierValue0","entityType":"Column","type":"string"},"icmclusterlb/0/31/5":{"id":"icmclusterlb/0/31/5","name":"EngineeringPrimary1","entityType":"Column","type":"string"},"icmclusterlb/0/31/6":{"id":"icmclusterlb/0/31/6","name":"EngineeringSecondary1","entityType":"Column","type":"string"},"icmclusterlb/0/31/7":{"id":"icmclusterlb/0/31/7","name":"RecordTypeQualifierValue1","entityType":"Column","type":"string"},"icmclusterlb/0/31/8":{"id":"icmclusterlb/0/31/8","name":"EngineeringPrimary2","entityType":"Column","type":"string"},"icmclusterlb/0/31/9":{"id":"icmclusterlb/0/31/9","name":"EngineeringSecondary2","entityType":"Column","type":"string"},"icmclusterlb/0/31/10":{"id":"icmclusterlb/0/31/10","name":"RecordTypeQualifierValue2","entityType":"Column","type":"string"},"icmclusterlb/0/31/11":{"id":"icmclusterlb/0/31/11","name":"EngineeringPrimary3","entityType":"Column","type":"string"},"icmclusterlb/0/31/12":{"id":"icmclusterlb/0/31/12","name":"EngineeringSecondary3","entityType":"Column","type":"string"},"icmclusterlb/0/31/13":{"id":"icmclusterlb/0/31/13","name":"RecordTypeQualifierValue3","entityType":"Column","type":"string"},"icmclusterlb/0/31/14":{"id":"icmclusterlb/0/31/14","name":"CustomerPrimary","entityType":"Column","type":"string"},"icmclusterlb/0/31/15":{"id":"icmclusterlb/0/31/15","name":"CustomerSecondary","entityType":"Column","type":"string"},"icmclusterlb/0/31/16":{"id":"icmclusterlb/0/31/16","name":"RecordTypeQualifierValue","entityType":"Column","type":"string"},"icmclusterlb/0/31/17":{"id":"icmclusterlb/0/31/17","name":"RecordTypeQualifier","entityType":"Column","type":"string"},"icmclusterlb/0/31/18":{"id":"icmclusterlb/0/31/18","name":"AnalyzedText","entityType":"Column","type":"string"},"icmclusterlb/0/31/19":{"id":"icmclusterlb/0/31/19","name":"SentenceId","entityType":"Column","type":"string"},"icmclusterlb/0/31/20":{"id":"icmclusterlb/0/31/20","name":"TaggedText","entityType":"Column","type":"string"},"icmclusterlb/0/31/21":{"id":"icmclusterlb/0/31/21","name":"InferenceType","entityType":"Column","type":"string"},"icmclusterlb/0/31/22":{"id":"icmclusterlb/0/31/22","name":"FundamentalArea","entityType":"Column","type":"string"},"icmclusterlb/0/31/23":{"id":"icmclusterlb/0/31/23","name":"Sentiment","entityType":"Column","type":"string"},"icmclusterlb/0/31/24":{"id":"icmclusterlb/0/31/24","name":"IsEntityStateAnAction","entityType":"Column","type":"string"},"icmclusterlb/0/31/25":{"id":"icmclusterlb/0/31/25","name":"TopEorA_F","entityType":"Column","type":"string"},"icmclusterlb/0/31/26":{"id":"icmclusterlb/0/31/26","name":"PriChartPhraselCloud","entityType":"Column","type":"string"},"icmclusterlb/0/31/27":{"id":"icmclusterlb/0/31/27","name":"ActionableType","entityType":"Column","type":"string"},"icmclusterlb/0/31/28":{"id":"icmclusterlb/0/31/28","name":"TopEA","entityType":"Column","type":"string"},"icmclusterlb/0/31/29":{"id":"icmclusterlb/0/31/29","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/31/30":{"id":"icmclusterlb/0/31/30","name":"SysSieveOntologyVersion","entityType":"Column","type":"string"}}},"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V2":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V2","entityType":"Table","name":"DRIHealthSurvey_Processed_V2","columns":{"icmclusterlb/0/32/0":{"id":"icmclusterlb/0/32/0","name":"Id","entityType":"Column","type":"string"},"icmclusterlb/0/32/1":{"id":"icmclusterlb/0/32/1","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/0/32/2":{"id":"icmclusterlb/0/32/2","name":"SurveyTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/32/3":{"id":"icmclusterlb/0/32/3","name":"StartOfMonth","entityType":"Column","type":"datetime"},"icmclusterlb/0/32/4":{"id":"icmclusterlb/0/32/4","name":"OverallScore","entityType":"Column","type":"int"},"icmclusterlb/0/32/5":{"id":"icmclusterlb/0/32/5","name":"ToolingScore","entityType":"Column","type":"int"},"icmclusterlb/0/32/6":{"id":"icmclusterlb/0/32/6","name":"ProcessScore","entityType":"Column","type":"int"},"icmclusterlb/0/32/7":{"id":"icmclusterlb/0/32/7","name":"SAWScore","entityType":"Column","type":"int"},"icmclusterlb/0/32/8":{"id":"icmclusterlb/0/32/8","name":"TSGScore","entityType":"Column","type":"int"},"icmclusterlb/0/32/9":{"id":"icmclusterlb/0/32/9","name":"TopPainPoints","entityType":"Column","type":"string"},"icmclusterlb/0/32/10":{"id":"icmclusterlb/0/32/10","name":"TopFeatures","entityType":"Column","type":"string"},"icmclusterlb/0/32/11":{"id":"icmclusterlb/0/32/11","name":"EmailSnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/32/12":{"id":"icmclusterlb/0/32/12","name":"SurveySnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/32/13":{"id":"icmclusterlb/0/32/13","name":"RespondedToSurveyStatus","entityType":"Column","type":"bool"},"icmclusterlb/0/32/14":{"id":"icmclusterlb/0/32/14","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/Icmanalytics/AutoEnrichment_TopKQueries_V2":{"id":"icmclusterlb/Icmanalytics/AutoEnrichment_TopKQueries_V2","entityType":"Table","name":"AutoEnrichment_TopKQueries_V2","columns":{"icmclusterlb/0/33/0":{"id":"icmclusterlb/0/33/0","name":"KustoClusterName","entityType":"Column","type":"string"},"icmclusterlb/0/33/1":{"id":"icmclusterlb/0/33/1","name":"KustoDatabaseName","entityType":"Column","type":"string"},"icmclusterlb/0/33/2":{"id":"icmclusterlb/0/33/2","name":"KustoTableName","entityType":"Column","type":"string"},"icmclusterlb/0/33/3":{"id":"icmclusterlb/0/33/3","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/0/33/4":{"id":"icmclusterlb/0/33/4","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/33/5":{"id":"icmclusterlb/0/33/5","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/33/6":{"id":"icmclusterlb/0/33/6","name":"NumCRIs_WhereQueryAppeared","entityType":"Column","type":"long"},"icmclusterlb/0/33/7":{"id":"icmclusterlb/0/33/7","name":"NumberOfUniqueOwners","entityType":"Column","type":"long"},"icmclusterlb/0/33/8":{"id":"icmclusterlb/0/33/8","name":"CRIsWhereQueryAppeared","entityType":"Column","type":"dynamic"},"icmclusterlb/0/33/9":{"id":"icmclusterlb/0/33/9","name":"set_Alias","entityType":"Column","type":"dynamic"},"icmclusterlb/0/33/10":{"id":"icmclusterlb/0/33/10","name":"LatestIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/33/11":{"id":"icmclusterlb/0/33/11","name":"LatestQuery","entityType":"Column","type":"string"},"icmclusterlb/0/33/12":{"id":"icmclusterlb/0/33/12","name":"LatestIncidentTitle","entityType":"Column","type":"string"},"icmclusterlb/0/33/13":{"id":"icmclusterlb/0/33/13","name":"LatestIncidentMonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/33/14":{"id":"icmclusterlb/0/33/14","name":"NumCRIs","entityType":"Column","type":"long"}}},"icmclusterlb/Icmanalytics/AutoEnrichment_TopKStackTraces_V2":{"id":"icmclusterlb/Icmanalytics/AutoEnrichment_TopKStackTraces_V2","entityType":"Table","name":"AutoEnrichment_TopKStackTraces_V2","columns":{"icmclusterlb/0/34/0":{"id":"icmclusterlb/0/34/0","name":"ExceptionName","entityType":"Column","type":"string"},"icmclusterlb/0/34/1":{"id":"icmclusterlb/0/34/1","name":"NumTotalOccurrances","entityType":"Column","type":"long"},"icmclusterlb/0/34/2":{"id":"icmclusterlb/0/34/2","name":"CleanedStackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/34/3":{"id":"icmclusterlb/0/34/3","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/0/34/4":{"id":"icmclusterlb/0/34/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/34/5":{"id":"icmclusterlb/0/34/5","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/34/6":{"id":"icmclusterlb/0/34/6","name":"NumberOfUniqueOwners","entityType":"Column","type":"long"},"icmclusterlb/0/34/7":{"id":"icmclusterlb/0/34/7","name":"IncidentsWhereStackTraceAppeared","entityType":"Column","type":"dynamic"},"icmclusterlb/0/34/8":{"id":"icmclusterlb/0/34/8","name":"NumIncidents_WhereStackTraceAppeared","entityType":"Column","type":"long"},"icmclusterlb/0/34/9":{"id":"icmclusterlb/0/34/9","name":"set_Alias","entityType":"Column","type":"dynamic"},"icmclusterlb/0/34/10":{"id":"icmclusterlb/0/34/10","name":"LatestIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/34/11":{"id":"icmclusterlb/0/34/11","name":"LatestStackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/34/12":{"id":"icmclusterlb/0/34/12","name":"LatestIncidentTitle","entityType":"Column","type":"string"},"icmclusterlb/0/34/13":{"id":"icmclusterlb/0/34/13","name":"LatestIncidentMonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/34/14":{"id":"icmclusterlb/0/34/14","name":"NumIncidents","entityType":"Column","type":"long"}}},"icmclusterlb/Icmanalytics/AutoEnrichment_TopKWorkItems_V2":{"id":"icmclusterlb/Icmanalytics/AutoEnrichment_TopKWorkItems_V2","entityType":"Table","name":"AutoEnrichment_TopKWorkItems_V2","columns":{"icmclusterlb/0/35/0":{"id":"icmclusterlb/0/35/0","name":"ExtractedURL","entityType":"Column","type":"string"},"icmclusterlb/0/35/1":{"id":"icmclusterlb/0/35/1","name":"OrganizationName","entityType":"Column","type":"string"},"icmclusterlb/0/35/2":{"id":"icmclusterlb/0/35/2","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/0/35/3":{"id":"icmclusterlb/0/35/3","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/35/4":{"id":"icmclusterlb/0/35/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/35/5":{"id":"icmclusterlb/0/35/5","name":"NumberOfUniqueOwners","entityType":"Column","type":"long"},"icmclusterlb/0/35/6":{"id":"icmclusterlb/0/35/6","name":"IncidentsWhereWorkItemAppeared","entityType":"Column","type":"dynamic"},"icmclusterlb/0/35/7":{"id":"icmclusterlb/0/35/7","name":"NumIncidents_WhereWorkItemAppeared","entityType":"Column","type":"long"},"icmclusterlb/0/35/8":{"id":"icmclusterlb/0/35/8","name":"set_Alias","entityType":"Column","type":"dynamic"},"icmclusterlb/0/35/9":{"id":"icmclusterlb/0/35/9","name":"LatestIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/35/10":{"id":"icmclusterlb/0/35/10","name":"LatestWorkItemId","entityType":"Column","type":"int"},"icmclusterlb/0/35/11":{"id":"icmclusterlb/0/35/11","name":"LatestWorkItemTitle","entityType":"Column","type":"string"},"icmclusterlb/0/35/12":{"id":"icmclusterlb/0/35/12","name":"LatestIncidentTitle","entityType":"Column","type":"string"},"icmclusterlb/0/35/13":{"id":"icmclusterlb/0/35/13","name":"LatestIncidentMonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/35/14":{"id":"icmclusterlb/0/35/14","name":"NumIncidents","entityType":"Column","type":"long"}}},"icmclusterlb/Icmanalytics/IncidentNonActionabilityHeadTrax_TEMP_JUSTINBANG":{"id":"icmclusterlb/Icmanalytics/IncidentNonActionabilityHeadTrax_TEMP_JUSTINBANG","entityType":"Table","name":"IncidentNonActionabilityHeadTrax_TEMP_JUSTINBANG","columns":{"icmclusterlb/0/36/0":{"id":"icmclusterlb/0/36/0","name":"Alias","entityType":"Column","type":"string"}},"docstring":"Created based on IncidentNonActionabilityHeadTrax_TEMP_JUSTINBANG"},"icmclusterlb/Icmanalytics/IncidentNonActionability_V4":{"id":"icmclusterlb/Icmanalytics/IncidentNonActionability_V4","entityType":"Table","name":"IncidentNonActionability_V4","columns":{"icmclusterlb/0/37/0":{"id":"icmclusterlb/0/37/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/37/1":{"id":"icmclusterlb/0/37/1","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/2":{"id":"icmclusterlb/0/37/2","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/3":{"id":"icmclusterlb/0/37/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/4":{"id":"icmclusterlb/0/37/4","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/0/37/5":{"id":"icmclusterlb/0/37/5","name":"EarliestChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/6":{"id":"icmclusterlb/0/37/6","name":"LatestChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/7":{"id":"icmclusterlb/0/37/7","name":"IsPartOfMassMitigation","entityType":"Column","type":"bool"},"icmclusterlb/0/37/8":{"id":"icmclusterlb/0/37/8","name":"IcMinerActionability","entityType":"Column","type":"bool"},"icmclusterlb/0/37/9":{"id":"icmclusterlb/0/37/9","name":"IsActionableBecauseOfDescriptionEntires","entityType":"Column","type":"bool"},"icmclusterlb/0/37/10":{"id":"icmclusterlb/0/37/10","name":"IsActionableBecauseOfPostMortem","entityType":"Column","type":"bool"},"icmclusterlb/0/37/11":{"id":"icmclusterlb/0/37/11","name":"IsActionableBecauseOfHowFixed","entityType":"Column","type":"bool"},"icmclusterlb/0/37/12":{"id":"icmclusterlb/0/37/12","name":"NumberOfHumanWrittenDescriptionEntries","entityType":"Column","type":"long"},"icmclusterlb/0/37/13":{"id":"icmclusterlb/0/37/13","name":"IcMMinerComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/14":{"id":"icmclusterlb/0/37/14","name":"IsNonActionable","entityType":"Column","type":"bool"},"icmclusterlb/0/37/15":{"id":"icmclusterlb/0/37/15","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/37/16":{"id":"icmclusterlb/0/37/16","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/0/37/17":{"id":"icmclusterlb/0/37/17","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/18":{"id":"icmclusterlb/0/37/18","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/37/19":{"id":"icmclusterlb/0/37/19","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/37/20":{"id":"icmclusterlb/0/37/20","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/37/21":{"id":"icmclusterlb/0/37/21","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/37/22":{"id":"icmclusterlb/0/37/22","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/37/23":{"id":"icmclusterlb/0/37/23","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/24":{"id":"icmclusterlb/0/37/24","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/0/37/25":{"id":"icmclusterlb/0/37/25","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/0/37/26":{"id":"icmclusterlb/0/37/26","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/0/37/27":{"id":"icmclusterlb/0/37/27","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/0/37/28":{"id":"icmclusterlb/0/37/28","name":"NumberOfDescriptionEntriesWithHumanAlias","entityType":"Column","type":"long"},"icmclusterlb/0/37/29":{"id":"icmclusterlb/0/37/29","name":"FirstHumanAliasInDiscussionEntryDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/30":{"id":"icmclusterlb/0/37/30","name":"LastHumanAliasInDiscussionEntryDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/31":{"id":"icmclusterlb/0/37/31","name":"HasGeneratedNotification","entityType":"Column","type":"bool"},"icmclusterlb/0/37/32":{"id":"icmclusterlb/0/37/32","name":"EarliestNotificationDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/37/33":{"id":"icmclusterlb/0/37/33","name":"LatestNotificationDate","entityType":"Column","type":"datetime"}},"docstring":"Created based on IncidentNonActionability_V4"},"icmclusterlb/Icmanalytics/IncidentNonActionability_V3":{"id":"icmclusterlb/Icmanalytics/IncidentNonActionability_V3","entityType":"Table","name":"IncidentNonActionability_V3","columns":{"icmclusterlb/0/38/0":{"id":"icmclusterlb/0/38/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/38/1":{"id":"icmclusterlb/0/38/1","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/2":{"id":"icmclusterlb/0/38/2","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/3":{"id":"icmclusterlb/0/38/3","name":"ComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/4":{"id":"icmclusterlb/0/38/4","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/0/38/5":{"id":"icmclusterlb/0/38/5","name":"EarliestChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/6":{"id":"icmclusterlb/0/38/6","name":"LatestChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/7":{"id":"icmclusterlb/0/38/7","name":"IsPartOfMassMitigation","entityType":"Column","type":"bool"},"icmclusterlb/0/38/8":{"id":"icmclusterlb/0/38/8","name":"IcMinerActionability","entityType":"Column","type":"bool"},"icmclusterlb/0/38/9":{"id":"icmclusterlb/0/38/9","name":"IsActionableBecauseOfDescriptionEntires","entityType":"Column","type":"bool"},"icmclusterlb/0/38/10":{"id":"icmclusterlb/0/38/10","name":"IsActionableBecauseOfPostMortem","entityType":"Column","type":"bool"},"icmclusterlb/0/38/11":{"id":"icmclusterlb/0/38/11","name":"IsActionableBecauseOfHowFixed","entityType":"Column","type":"bool"},"icmclusterlb/0/38/12":{"id":"icmclusterlb/0/38/12","name":"NumberOfHumanWrittenDescriptionEntries","entityType":"Column","type":"long"},"icmclusterlb/0/38/13":{"id":"icmclusterlb/0/38/13","name":"IcMMinerComputeTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/14":{"id":"icmclusterlb/0/38/14","name":"IsNonActionable","entityType":"Column","type":"bool"},"icmclusterlb/0/38/15":{"id":"icmclusterlb/0/38/15","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/38/16":{"id":"icmclusterlb/0/38/16","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/0/38/17":{"id":"icmclusterlb/0/38/17","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/18":{"id":"icmclusterlb/0/38/18","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/38/19":{"id":"icmclusterlb/0/38/19","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/38/20":{"id":"icmclusterlb/0/38/20","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/38/21":{"id":"icmclusterlb/0/38/21","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/38/22":{"id":"icmclusterlb/0/38/22","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/38/23":{"id":"icmclusterlb/0/38/23","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/24":{"id":"icmclusterlb/0/38/24","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/0/38/25":{"id":"icmclusterlb/0/38/25","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/0/38/26":{"id":"icmclusterlb/0/38/26","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/0/38/27":{"id":"icmclusterlb/0/38/27","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/0/38/28":{"id":"icmclusterlb/0/38/28","name":"NumberOfDescriptionEntriesWithHumanAlias","entityType":"Column","type":"long"},"icmclusterlb/0/38/29":{"id":"icmclusterlb/0/38/29","name":"FirstHumanAliasInDiscussionEntryDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/30":{"id":"icmclusterlb/0/38/30","name":"LastHumanAliasInDiscussionEntryDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/31":{"id":"icmclusterlb/0/38/31","name":"HasGeneratedNotification","entityType":"Column","type":"bool"},"icmclusterlb/0/38/32":{"id":"icmclusterlb/0/38/32","name":"EarliestNotificationDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/38/33":{"id":"icmclusterlb/0/38/33","name":"LatestNotificationDate","entityType":"Column","type":"datetime"}},"docstring":"Created based on IncidentNonActionability_V3_Temp"},"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V3":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_Processed_V3","entityType":"Table","name":"DRIHealthSurvey_Processed_V3","columns":{"icmclusterlb/0/39/0":{"id":"icmclusterlb/0/39/0","name":"Id","entityType":"Column","type":"string"},"icmclusterlb/0/39/1":{"id":"icmclusterlb/0/39/1","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/0/39/2":{"id":"icmclusterlb/0/39/2","name":"SurveyTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/39/3":{"id":"icmclusterlb/0/39/3","name":"StartOfMonth","entityType":"Column","type":"datetime"},"icmclusterlb/0/39/4":{"id":"icmclusterlb/0/39/4","name":"OverallScore","entityType":"Column","type":"int"},"icmclusterlb/0/39/5":{"id":"icmclusterlb/0/39/5","name":"ToolingScore","entityType":"Column","type":"int"},"icmclusterlb/0/39/6":{"id":"icmclusterlb/0/39/6","name":"ProcessScore","entityType":"Column","type":"int"},"icmclusterlb/0/39/7":{"id":"icmclusterlb/0/39/7","name":"SAWScore","entityType":"Column","type":"int"},"icmclusterlb/0/39/8":{"id":"icmclusterlb/0/39/8","name":"TSGScore","entityType":"Column","type":"int"},"icmclusterlb/0/39/9":{"id":"icmclusterlb/0/39/9","name":"TopPainPoints","entityType":"Column","type":"string"},"icmclusterlb/0/39/10":{"id":"icmclusterlb/0/39/10","name":"TopFeatures","entityType":"Column","type":"string"},"icmclusterlb/0/39/11":{"id":"icmclusterlb/0/39/11","name":"EmailSnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/39/12":{"id":"icmclusterlb/0/39/12","name":"SurveySnapshotTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/39/13":{"id":"icmclusterlb/0/39/13","name":"RespondedToSurveyStatus","entityType":"Column","type":"bool"},"icmclusterlb/0/39/14":{"id":"icmclusterlb/0/39/14","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"}},"docstring":"Created based on DRIHealthSurvey_Processed_V3_Temp"},"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V3":{"id":"icmclusterlb/Icmanalytics/DRIHealthSurvey_WithSysSieveInference_V3","entityType":"Table","name":"DRIHealthSurvey_WithSysSieveInference_V3","columns":{"icmclusterlb/0/40/0":{"id":"icmclusterlb/0/40/0","name":"TicketID","entityType":"Column","type":"string"},"icmclusterlb/0/40/1":{"id":"icmclusterlb/0/40/1","name":"Trait","entityType":"Column","type":"string"},"icmclusterlb/0/40/2":{"id":"icmclusterlb/0/40/2","name":"EngineeringPrimary0","entityType":"Column","type":"string"},"icmclusterlb/0/40/3":{"id":"icmclusterlb/0/40/3","name":"EngineeringSecondary0","entityType":"Column","type":"string"},"icmclusterlb/0/40/4":{"id":"icmclusterlb/0/40/4","name":"RecordTypeQualifierValue0","entityType":"Column","type":"string"},"icmclusterlb/0/40/5":{"id":"icmclusterlb/0/40/5","name":"EngineeringPrimary1","entityType":"Column","type":"string"},"icmclusterlb/0/40/6":{"id":"icmclusterlb/0/40/6","name":"EngineeringSecondary1","entityType":"Column","type":"string"},"icmclusterlb/0/40/7":{"id":"icmclusterlb/0/40/7","name":"RecordTypeQualifierValue1","entityType":"Column","type":"string"},"icmclusterlb/0/40/8":{"id":"icmclusterlb/0/40/8","name":"EngineeringPrimary2","entityType":"Column","type":"string"},"icmclusterlb/0/40/9":{"id":"icmclusterlb/0/40/9","name":"EngineeringSecondary2","entityType":"Column","type":"string"},"icmclusterlb/0/40/10":{"id":"icmclusterlb/0/40/10","name":"RecordTypeQualifierValue2","entityType":"Column","type":"string"},"icmclusterlb/0/40/11":{"id":"icmclusterlb/0/40/11","name":"EngineeringPrimary3","entityType":"Column","type":"string"},"icmclusterlb/0/40/12":{"id":"icmclusterlb/0/40/12","name":"EngineeringSecondary3","entityType":"Column","type":"string"},"icmclusterlb/0/40/13":{"id":"icmclusterlb/0/40/13","name":"RecordTypeQualifierValue3","entityType":"Column","type":"string"},"icmclusterlb/0/40/14":{"id":"icmclusterlb/0/40/14","name":"CustomerPrimary","entityType":"Column","type":"string"},"icmclusterlb/0/40/15":{"id":"icmclusterlb/0/40/15","name":"CustomerSecondary","entityType":"Column","type":"string"},"icmclusterlb/0/40/16":{"id":"icmclusterlb/0/40/16","name":"RecordTypeQualifierValue","entityType":"Column","type":"string"},"icmclusterlb/0/40/17":{"id":"icmclusterlb/0/40/17","name":"RecordTypeQualifier","entityType":"Column","type":"string"},"icmclusterlb/0/40/18":{"id":"icmclusterlb/0/40/18","name":"AnalyzedText","entityType":"Column","type":"string"},"icmclusterlb/0/40/19":{"id":"icmclusterlb/0/40/19","name":"SentenceId","entityType":"Column","type":"string"},"icmclusterlb/0/40/20":{"id":"icmclusterlb/0/40/20","name":"TaggedText","entityType":"Column","type":"string"},"icmclusterlb/0/40/21":{"id":"icmclusterlb/0/40/21","name":"InferenceType","entityType":"Column","type":"string"},"icmclusterlb/0/40/22":{"id":"icmclusterlb/0/40/22","name":"FundamentalArea","entityType":"Column","type":"string"},"icmclusterlb/0/40/23":{"id":"icmclusterlb/0/40/23","name":"Sentiment","entityType":"Column","type":"string"},"icmclusterlb/0/40/24":{"id":"icmclusterlb/0/40/24","name":"IsEntityStateAnAction","entityType":"Column","type":"string"},"icmclusterlb/0/40/25":{"id":"icmclusterlb/0/40/25","name":"TopEorA_F","entityType":"Column","type":"string"},"icmclusterlb/0/40/26":{"id":"icmclusterlb/0/40/26","name":"PriChartPhraselCloud","entityType":"Column","type":"string"},"icmclusterlb/0/40/27":{"id":"icmclusterlb/0/40/27","name":"ActionableType","entityType":"Column","type":"string"},"icmclusterlb/0/40/28":{"id":"icmclusterlb/0/40/28","name":"TopEA","entityType":"Column","type":"string"},"icmclusterlb/0/40/29":{"id":"icmclusterlb/0/40/29","name":"SysSieveJobInferenceTime","entityType":"Column","type":"datetime"},"icmclusterlb/0/40/30":{"id":"icmclusterlb/0/40/30","name":"SysSieveOntologyVersion","entityType":"Column","type":"string"}},"docstring":"Created based on DRIHealthSurvey_WithSysSieveInference_V3_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindow_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindow_V3","entityType":"Table","name":"DriHealth_Recommendations_CreationDateWindow_V3","columns":{"icmclusterlb/0/41/0":{"id":"icmclusterlb/0/41/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/41/1":{"id":"icmclusterlb/0/41/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/41/2":{"id":"icmclusterlb/0/41/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/41/3":{"id":"icmclusterlb/0/41/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/41/4":{"id":"icmclusterlb/0/41/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/41/5":{"id":"icmclusterlb/0/41/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/41/6":{"id":"icmclusterlb/0/41/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/41/7":{"id":"icmclusterlb/0/41/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/41/8":{"id":"icmclusterlb/0/41/8","name":"ComputeTime","entityType":"Column","type":"datetime"}},"docstring":"Created based on DriHealth_Recommendations_CreationDateWindow_V3_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTime_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTime_V3","entityType":"Table","name":"DriHealth_Recommendations_AutoMitigationTime_V3","columns":{"icmclusterlb/0/42/0":{"id":"icmclusterlb/0/42/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/42/1":{"id":"icmclusterlb/0/42/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/42/2":{"id":"icmclusterlb/0/42/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/42/3":{"id":"icmclusterlb/0/42/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/42/4":{"id":"icmclusterlb/0/42/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/42/5":{"id":"icmclusterlb/0/42/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/42/6":{"id":"icmclusterlb/0/42/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/42/7":{"id":"icmclusterlb/0/42/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/42/8":{"id":"icmclusterlb/0/42/8","name":"ComputeTime","entityType":"Column","type":"datetime"}},"docstring":"Created based on DriHealth_Recommendations_AutoMitigationTime_V3_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValues_V3":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValues_V3","entityType":"Table","name":"DriHealth_Recommendations_AddFieldsValues_V3","columns":{"icmclusterlb/0/43/0":{"id":"icmclusterlb/0/43/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/43/1":{"id":"icmclusterlb/0/43/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/0/43/2":{"id":"icmclusterlb/0/43/2","name":"IsRecommendationFound","entityType":"Column","type":"bool"},"icmclusterlb/0/43/3":{"id":"icmclusterlb/0/43/3","name":"RecommendationServiceName","entityType":"Column","type":"string"},"icmclusterlb/0/43/4":{"id":"icmclusterlb/0/43/4","name":"ReasonForNoRecommendation","entityType":"Column","type":"string"},"icmclusterlb/0/43/5":{"id":"icmclusterlb/0/43/5","name":"RecommendationCategoryId","entityType":"Column","type":"string"},"icmclusterlb/0/43/6":{"id":"icmclusterlb/0/43/6","name":"RecommendationVersion","entityType":"Column","type":"string"},"icmclusterlb/0/43/7":{"id":"icmclusterlb/0/43/7","name":"RecommendationDetailsJson","entityType":"Column","type":"string"},"icmclusterlb/0/43/8":{"id":"icmclusterlb/0/43/8","name":"ComputeTime","entityType":"Column","type":"datetime"}},"docstring":"Created based on DriHealth_Recommendations_AddFieldsValues_V3_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindowSimulation_V4":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_CreationDateWindowSimulation_V4","entityType":"Table","name":"DriHealth_Recommendations_CreationDateWindowSimulation_V4","columns":{"icmclusterlb/0/44/0":{"id":"icmclusterlb/0/44/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/44/1":{"id":"icmclusterlb/0/44/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/44/2":{"id":"icmclusterlb/0/44/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/44/3":{"id":"icmclusterlb/0/44/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/44/4":{"id":"icmclusterlb/0/44/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/44/5":{"id":"icmclusterlb/0/44/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/44/6":{"id":"icmclusterlb/0/44/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/44/7":{"id":"icmclusterlb/0/44/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/44/8":{"id":"icmclusterlb/0/44/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/44/9":{"id":"icmclusterlb/0/44/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/44/10":{"id":"icmclusterlb/0/44/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/44/11":{"id":"icmclusterlb/0/44/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/44/12":{"id":"icmclusterlb/0/44/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/44/13":{"id":"icmclusterlb/0/44/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/44/14":{"id":"icmclusterlb/0/44/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/44/15":{"id":"icmclusterlb/0/44/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/44/16":{"id":"icmclusterlb/0/44/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/44/17":{"id":"icmclusterlb/0/44/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/44/18":{"id":"icmclusterlb/0/44/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/44/19":{"id":"icmclusterlb/0/44/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/44/20":{"id":"icmclusterlb/0/44/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/44/21":{"id":"icmclusterlb/0/44/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/44/22":{"id":"icmclusterlb/0/44/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/44/23":{"id":"icmclusterlb/0/44/23","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/0/44/24":{"id":"icmclusterlb/0/44/24","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/44/25":{"id":"icmclusterlb/0/44/25","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/44/26":{"id":"icmclusterlb/0/44/26","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/44/27":{"id":"icmclusterlb/0/44/27","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/44/28":{"id":"icmclusterlb/0/44/28","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/44/29":{"id":"icmclusterlb/0/44/29","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/44/30":{"id":"icmclusterlb/0/44/30","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/44/31":{"id":"icmclusterlb/0/44/31","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/44/32":{"id":"icmclusterlb/0/44/32","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/44/33":{"id":"icmclusterlb/0/44/33","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/44/34":{"id":"icmclusterlb/0/44/34","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/44/35":{"id":"icmclusterlb/0/44/35","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/44/36":{"id":"icmclusterlb/0/44/36","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/44/37":{"id":"icmclusterlb/0/44/37","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/44/38":{"id":"icmclusterlb/0/44/38","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/44/39":{"id":"icmclusterlb/0/44/39","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/44/40":{"id":"icmclusterlb/0/44/40","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/44/41":{"id":"icmclusterlb/0/44/41","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/44/42":{"id":"icmclusterlb/0/44/42","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/44/43":{"id":"icmclusterlb/0/44/43","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/44/44":{"id":"icmclusterlb/0/44/44","name":"EstimatedCreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/44/45":{"id":"icmclusterlb/0/44/45","name":"DoesNotHavePrequisiteNumberOfInstancesForCorrelationIdAndCreationWindow","entityType":"Column","type":"bool"},"icmclusterlb/0/44/46":{"id":"icmclusterlb/0/44/46","name":"NumberOfIncidentsWithCorrelationIdAndCreationWindow","entityType":"Column","type":"long"},"icmclusterlb/0/44/47":{"id":"icmclusterlb/0/44/47","name":"NumberOfIncidentsThresholdCorrelationIdAndCreationWindow","entityType":"Column","type":"long"},"icmclusterlb/0/44/48":{"id":"icmclusterlb/0/44/48","name":"TimeFromPreviousIncidentCreation","entityType":"Column","type":"real"}},"docstring":"Created based on DriHealth_Recommendations_CreationDateWindowSimulation_V4_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTimeSimulation_V4":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AutoMitigationTimeSimulation_V4","entityType":"Table","name":"DriHealth_Recommendations_AutoMitigationTimeSimulation_V4","columns":{"icmclusterlb/0/45/0":{"id":"icmclusterlb/0/45/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/45/1":{"id":"icmclusterlb/0/45/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/45/2":{"id":"icmclusterlb/0/45/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/45/3":{"id":"icmclusterlb/0/45/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/45/4":{"id":"icmclusterlb/0/45/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/45/5":{"id":"icmclusterlb/0/45/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/45/6":{"id":"icmclusterlb/0/45/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/45/7":{"id":"icmclusterlb/0/45/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/45/8":{"id":"icmclusterlb/0/45/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/45/9":{"id":"icmclusterlb/0/45/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/45/10":{"id":"icmclusterlb/0/45/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/45/11":{"id":"icmclusterlb/0/45/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/45/12":{"id":"icmclusterlb/0/45/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/45/13":{"id":"icmclusterlb/0/45/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/45/14":{"id":"icmclusterlb/0/45/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/45/15":{"id":"icmclusterlb/0/45/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/45/16":{"id":"icmclusterlb/0/45/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/45/17":{"id":"icmclusterlb/0/45/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/45/18":{"id":"icmclusterlb/0/45/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/45/19":{"id":"icmclusterlb/0/45/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/45/20":{"id":"icmclusterlb/0/45/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/45/21":{"id":"icmclusterlb/0/45/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/45/22":{"id":"icmclusterlb/0/45/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/45/23":{"id":"icmclusterlb/0/45/23","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/0/45/24":{"id":"icmclusterlb/0/45/24","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/45/25":{"id":"icmclusterlb/0/45/25","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/45/26":{"id":"icmclusterlb/0/45/26","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/45/27":{"id":"icmclusterlb/0/45/27","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/45/28":{"id":"icmclusterlb/0/45/28","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/45/29":{"id":"icmclusterlb/0/45/29","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/45/30":{"id":"icmclusterlb/0/45/30","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/45/31":{"id":"icmclusterlb/0/45/31","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/45/32":{"id":"icmclusterlb/0/45/32","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/45/33":{"id":"icmclusterlb/0/45/33","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/45/34":{"id":"icmclusterlb/0/45/34","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/45/35":{"id":"icmclusterlb/0/45/35","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/45/36":{"id":"icmclusterlb/0/45/36","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/45/37":{"id":"icmclusterlb/0/45/37","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/45/38":{"id":"icmclusterlb/0/45/38","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/45/39":{"id":"icmclusterlb/0/45/39","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/45/40":{"id":"icmclusterlb/0/45/40","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/45/41":{"id":"icmclusterlb/0/45/41","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/45/42":{"id":"icmclusterlb/0/45/42","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/45/43":{"id":"icmclusterlb/0/45/43","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"},"icmclusterlb/0/45/44":{"id":"icmclusterlb/0/45/44","name":"IsNotGenevaMonitor","entityType":"Column","type":"bool"},"icmclusterlb/0/45/45":{"id":"icmclusterlb/0/45/45","name":"IsNotMitigatedByHealthmanagesvc","entityType":"Column","type":"bool"},"icmclusterlb/0/45/46":{"id":"icmclusterlb/0/45/46","name":"IsArrivalTimeGreaterThanMaxMitigateTimeIncrement","entityType":"Column","type":"bool"},"icmclusterlb/0/45/47":{"id":"icmclusterlb/0/45/47","name":"TimeFromPreviousMitigation","entityType":"Column","type":"real"},"icmclusterlb/0/45/48":{"id":"icmclusterlb/0/45/48","name":"MaxMitigateTimeIncrement","entityType":"Column","type":"long"},"icmclusterlb/0/45/49":{"id":"icmclusterlb/0/45/49","name":"IsBelowNumberIncidentsEarlyMitigatedIncidentThreshold","entityType":"Column","type":"bool"},"icmclusterlb/0/45/50":{"id":"icmclusterlb/0/45/50","name":"NumberOfIncidentsForMonitor","entityType":"Column","type":"long"},"icmclusterlb/0/45/51":{"id":"icmclusterlb/0/45/51","name":"MonitorAccount","entityType":"Column","type":"string"},"icmclusterlb/0/45/52":{"id":"icmclusterlb/0/45/52","name":"MonitorNamespace","entityType":"Column","type":"string"},"icmclusterlb/0/45/53":{"id":"icmclusterlb/0/45/53","name":"MonitorMetric","entityType":"Column","type":"string"},"icmclusterlb/0/45/54":{"id":"icmclusterlb/0/45/54","name":"MonitorName","entityType":"Column","type":"string"}},"docstring":"Created based on DriHealth_Recommendations_AutoMitigationTimeSimulation_V4_Temp"},"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValuesSimulation_V4":{"id":"icmclusterlb/Icmanalytics/DriHealth_Recommendations_AddFieldsValuesSimulation_V4","entityType":"Table","name":"DriHealth_Recommendations_AddFieldsValuesSimulation_V4","columns":{"icmclusterlb/0/46/0":{"id":"icmclusterlb/0/46/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/46/1":{"id":"icmclusterlb/0/46/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/0/46/2":{"id":"icmclusterlb/0/46/2","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/0/46/3":{"id":"icmclusterlb/0/46/3","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/46/4":{"id":"icmclusterlb/0/46/4","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/0/46/5":{"id":"icmclusterlb/0/46/5","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/0/46/6":{"id":"icmclusterlb/0/46/6","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/0/46/7":{"id":"icmclusterlb/0/46/7","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/46/8":{"id":"icmclusterlb/0/46/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/46/9":{"id":"icmclusterlb/0/46/9","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/0/46/10":{"id":"icmclusterlb/0/46/10","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/0/46/11":{"id":"icmclusterlb/0/46/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/0/46/12":{"id":"icmclusterlb/0/46/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/0/46/13":{"id":"icmclusterlb/0/46/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/0/46/14":{"id":"icmclusterlb/0/46/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/0/46/15":{"id":"icmclusterlb/0/46/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/0/46/16":{"id":"icmclusterlb/0/46/16","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/0/46/17":{"id":"icmclusterlb/0/46/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/0/46/18":{"id":"icmclusterlb/0/46/18","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/46/19":{"id":"icmclusterlb/0/46/19","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/0/46/20":{"id":"icmclusterlb/0/46/20","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/0/46/21":{"id":"icmclusterlb/0/46/21","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/0/46/22":{"id":"icmclusterlb/0/46/22","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/46/23":{"id":"icmclusterlb/0/46/23","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/0/46/24":{"id":"icmclusterlb/0/46/24","name":"MonitorUrl","entityType":"Column","type":"string"},"icmclusterlb/0/46/25":{"id":"icmclusterlb/0/46/25","name":"CorrelationRuleId","entityType":"Column","type":"long"},"icmclusterlb/0/46/26":{"id":"icmclusterlb/0/46/26","name":"Priority","entityType":"Column","type":"long"},"icmclusterlb/0/46/27":{"id":"icmclusterlb/0/46/27","name":"MatchDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/46/28":{"id":"icmclusterlb/0/46/28","name":"MatchDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/46/29":{"id":"icmclusterlb/0/46/29","name":"MatchDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/46/30":{"id":"icmclusterlb/0/46/30","name":"MatchServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/46/31":{"id":"icmclusterlb/0/46/31","name":"MatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/0/46/32":{"id":"icmclusterlb/0/46/32","name":"CreationDateWindow","entityType":"Column","type":"long"},"icmclusterlb/0/46/33":{"id":"icmclusterlb/0/46/33","name":"Mode","entityType":"Column","type":"string"},"icmclusterlb/0/46/34":{"id":"icmclusterlb/0/46/34","name":"IncludeOriginatingTenant","entityType":"Column","type":"bool"},"icmclusterlb/0/46/35":{"id":"icmclusterlb/0/46/35","name":"MaxCreationDateWindowInMinutes","entityType":"Column","type":"long"},"icmclusterlb/0/46/36":{"id":"icmclusterlb/0/46/36","name":"IsMissingCorrelationId","entityType":"Column","type":"bool"},"icmclusterlb/0/46/37":{"id":"icmclusterlb/0/46/37","name":"IsMissingEnvironment","entityType":"Column","type":"bool"},"icmclusterlb/0/46/38":{"id":"icmclusterlb/0/46/38","name":"IsMissingServiceInstanceId","entityType":"Column","type":"bool"},"icmclusterlb/0/46/39":{"id":"icmclusterlb/0/46/39","name":"IsMissingDeviceGroup","entityType":"Column","type":"bool"},"icmclusterlb/0/46/40":{"id":"icmclusterlb/0/46/40","name":"IsMissingDeviceName","entityType":"Column","type":"bool"},"icmclusterlb/0/46/41":{"id":"icmclusterlb/0/46/41","name":"IsMissingDatacenter","entityType":"Column","type":"bool"},"icmclusterlb/0/46/42":{"id":"icmclusterlb/0/46/42","name":"HasDoNotCorrelateModeOn","entityType":"Column","type":"bool"},"icmclusterlb/0/46/43":{"id":"icmclusterlb/0/46/43","name":"HasNoMatchingIncident","entityType":"Column","type":"bool"}},"docstring":"Created based on DriHealth_Recommendations_AddFieldsValuesSimulation_V4_Temp"},"icmclusterlb/Icmanalytics/IcMinerAll_V7":{"id":"icmclusterlb/Icmanalytics/IcMinerAll_V7","entityType":"Table","name":"IcMinerAll_V7","columns":{"icmclusterlb/0/47/0":{"id":"icmclusterlb/0/47/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/0/47/1":{"id":"icmclusterlb/0/47/1","name":"URL","entityType":"Column","type":"string"},"icmclusterlb/0/47/2":{"id":"icmclusterlb/0/47/2","name":"TSG","entityType":"Column","type":"string"},"icmclusterlb/0/47/3":{"id":"icmclusterlb/0/47/3","name":"StackTrace","entityType":"Column","type":"string"},"icmclusterlb/0/47/4":{"id":"icmclusterlb/0/47/4","name":"Query","entityType":"Column","type":"string"},"icmclusterlb/0/47/5":{"id":"icmclusterlb/0/47/5","name":"IPAddress","entityType":"Column","type":"string"},"icmclusterlb/0/47/6":{"id":"icmclusterlb/0/47/6","name":"Command","entityType":"Column","type":"string"},"icmclusterlb/0/47/7":{"id":"icmclusterlb/0/47/7","name":"ErrorCode","entityType":"Column","type":"string"},"icmclusterlb/0/47/8":{"id":"icmclusterlb/0/47/8","name":"RawSentences","entityType":"Column","type":"string"},"icmclusterlb/0/47/9":{"id":"icmclusterlb/0/47/9","name":"Actionable","entityType":"Column","type":"string"},"icmclusterlb/0/47/10":{"id":"icmclusterlb/0/47/10","name":"Version","entityType":"Column","type":"string"},"icmclusterlb/0/47/11":{"id":"icmclusterlb/0/47/11","name":"URLNUM","entityType":"Column","type":"int"},"icmclusterlb/0/47/12":{"id":"icmclusterlb/0/47/12","name":"TSGNUM","entityType":"Column","type":"int"},"icmclusterlb/0/47/13":{"id":"icmclusterlb/0/47/13","name":"QueryNUM","entityType":"Column","type":"int"},"icmclusterlb/0/47/14":{"id":"icmclusterlb/0/47/14","name":"StackTraceNUM","entityType":"Column","type":"int"},"icmclusterlb/0/47/15":{"id":"icmclusterlb/0/47/15","name":"CommandNUM","entityType":"Column","type":"int"},"icmclusterlb/0/47/16":{"id":"icmclusterlb/0/47/16","name":"InferenceResult","entityType":"Column","type":"string"},"icmclusterlb/0/47/17":{"id":"icmclusterlb/0/47/17","name":"MitigationSteps","entityType":"Column","type":"string"},"icmclusterlb/0/47/18":{"id":"icmclusterlb/0/47/18","name":"UHRSData","entityType":"Column","type":"string"},"icmclusterlb/0/47/19":{"id":"icmclusterlb/0/47/19","name":"Entities","entityType":"Column","type":"string"},"icmclusterlb/0/47/20":{"id":"icmclusterlb/0/47/20","name":"IngestionTime","entityType":"Column","type":"datetime"}},"docstring":"Created based on IcMinerAll_V7"}},"functions":{"$fn_icmclusterlb/0/0":{"id":"$fn_icmclusterlb/0/0","entityType":"Function","body":"{\r\n//let incidentId=24829285;\r\ncluster('icmclusterbackup').database('Icmanalytics').IcMinerAll_V4\r\n| where IncidentId == incidentId\r\n| project IncidentId, TSG, Command, Query, StackTrace, MitigationSteps, URL, ErrorCode,Actionable\r\n}","docstring":"Get Mitigation by IncidentId from IcMiner","folder":"icmml","functionKind":"UnknownFunction","name":"GetIcMinerMitigationResult","outputColumns":[],"inputParameters":[{"name":"incidentId","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/0/1":{"id":"$fn_icmclusterlb/0/1","entityType":"Function","body":"{\r\n let incidentIds=cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(false)\r\n | where ModifiedDate > startofday(now(-2d))\r\n | where ModifiedDate < startofday(now(-1d))\r\n | project IncidentId;\r\n let processedIncidentIds=cluster('Icmclusterbackup').database('Icmanalytics').IcMinerAll_V4 \r\n | where IngestionTime > ago(2d)\r\n | project IncidentId, Actionable;\r\n  incidentIds \r\n  | join  kind= leftouter (processedIncidentIds) on IncidentId \r\n  | extend flag = tostring(isnotempty(Actionable)) \r\n  | summarize count() by flag  \r\n}","docstring":"Get Mitigation by IncidentId from IcMiner","folder":"icmml","functionKind":"UnknownFunction","name":"IcMinerValidateMetric","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/2":{"id":"$fn_icmclusterlb/0/2","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').MonitorStats_V8\r\n| where timespanindays == 30d\r\n| where StartDate == startofday(startdate) and EndDate == startofday(startdate) + timespanindays\r\n| summarize arg_max(ComputeTime, *) by StartDate , EndDate , MonitorId , SourceName, RoutingId , OwningTeamId \r\n}","docstring":"Get the insights for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetInsights","outputColumns":[],"inputParameters":[{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/3":{"id":"$fn_icmclusterlb/0/3","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').CorrelationRules_V6\r\n| where timespanindays == 30d\r\n| where StartDate == startofday(startdate) and EndDate == startofday(startdate) + timespanindays\r\n| summarize arg_max(ComputeTime, *) by StartDate , EndDate , CorrelationRuleId \r\n}","docstring":"Get the new correlation rules for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetCorrelationRules","outputColumns":[],"inputParameters":[{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/4":{"id":"$fn_icmclusterlb/0/4","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').MonitorStats_V2 \r\n| where timespanindays == 30d and OwningTeamId == teamid\r\n| where StartDate == startofday(startdate) and EndDate == startofday(startdate) + timespanindays\r\n| summarize arg_max(ComputeTime, *) by StartDate , EndDate , MonitorId , RoutingId , OwningTeamId \r\n| summarize NumEmptyEnv = countif(isnotempty(EmptyEnvReplacement)), NumEmptyCid = countif(isnotempty(EmptyCIDReplacement)) by MonitorId\r\n| summarize NumMonEmptyEnv = countif(NumEmptyEnv > 0), NumMonEmptyCid = countif(NumEmptyCid > 0)  \r\n}","docstring":"Get the insights for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetInsightsPerTeam","outputColumns":[],"inputParameters":[{"name":"teamid","cslType":"long","type":"System.Int64"},{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/5":{"id":"$fn_icmclusterlb/0/5","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').GetInsights(startdate, timespanindays)\r\n| extend newrules = todynamic(NewDefaultCorrelationRuleIds)\r\n| summarize InitialIncidentCount = sum(NumInitialParentIncidents ), FinalIncidentCount = sum(NumParentIncStep6), NumEmptyEnv = countif(isnotempty(EmptyEnvReplacement)), NumEmptyCid = countif(isnotempty(EmptyCIDReplacement)), NumDistinctCid = countif(isnotempty(DistinctCIDReplacement)), newrules = makeset(newrules) by MonitorId, OwningTeamId, OwningTenantId, OwningTeamName, OwningTenantName\r\n| summarize InitialIncidentCount = sum(InitialIncidentCount ), FinalIncidentCount = sum(FinalIncidentCount), NumMonEmptyEnv = countif(NumEmptyEnv > 0), NumMonEmptyCid = countif(NumEmptyCid > 0), NumMonDistinctCid = countif(NumDistinctCid > 0), newrules = array_length(makeset(newrules)) by OwningTeamId, OwningTenantId, OwningTeamName, OwningTenantName\r\n| extend PercentageReduction = (InitialIncidentCount - FinalIncidentCount)* 100.0/InitialIncidentCount\r\n}","docstring":"Get the insights for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetMetadata","outputColumns":[],"inputParameters":[{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/6":{"id":"$fn_icmclusterlb/0/6","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').GetInsights(startdate, timespanindays)\r\n| where isnotempty(EmptyEnvReplacement) and OwningTeamId == teamid\r\n| extend NewEnvironmentvalue = EmptyEnvReplacement, NumIncidents = NumInitialParentIncidents\r\n| project OwningTeamId, OwningTeamName, MonitorId, SourceName, RoutingId, NewEnvironmentvalue, NumIncidents\r\n}","docstring":"Get the monitors with empty environment for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetAction1","outputColumns":[],"inputParameters":[{"name":"teamid","cslType":"long","type":"System.Int64"},{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/7":{"id":"$fn_icmclusterlb/0/7","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').GetInsights(startdate, timespanindays)\r\n| where isnotempty(EmptyCIDReplacement) and OwningTeamId == teamid\r\n| extend NewCorrelationIdValue = EmptyCIDReplacement, NumIncidents = NumParentIncStep1\r\n| project OwningTeamId, OwningTeamName, MonitorId, SourceName, RoutingId, NewCorrelationIdValue, NumIncidents\r\n}","docstring":"Get the monitors with empty correlation id for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetAction2","outputColumns":[],"inputParameters":[{"name":"teamid","cslType":"long","type":"System.Int64"},{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/8":{"id":"$fn_icmclusterlb/0/8","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').GetInsights(startdate, timespanindays)\r\n| where isnotempty(DistinctCIDReplacement) and OwningTeamId == teamid\r\n| extend NewCorrelationIdValue = DistinctCIDReplacement, NumIncidents = NumParentIncStep2\r\n| project OwningTeamId, OwningTeamName, MonitorId, SourceName, RoutingId, NewCorrelationIdValue, NumIncidents\r\n}","docstring":"Get the monitors with distinct correlation ids for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetAction3","outputColumns":[],"inputParameters":[{"name":"teamid","cslType":"long","type":"System.Int64"},{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/9":{"id":"$fn_icmclusterlb/0/9","entityType":"Function","body":"{\r\ncluster('icmclusterbackup').database('Icmanalytics').GetInsights(startdate, timespanindays)\r\n| where OwningTeamId == teamid\r\n| extend newrules = todynamic(NewDefaultCorrelationRuleIds)\r\n| summarize newrules = makeset(newrules )\r\n| mvexpand newrules\r\n| project CorrelationRuleId = tolong(newrules)  \r\n| join (GetCorrelationRules(startdate, timespanindays))\r\n on CorrelationRuleId\r\n| project-away CorrelationRuleId, CorrelationRuleId1, StartDate, EndDate, ComputeTime\r\n}","docstring":"Get new correlation rules for a team for the 30 days starting from a particular date","folder":"icmml","functionKind":"UnknownFunction","name":"GetAction4","outputColumns":[],"inputParameters":[{"name":"teamid","cslType":"long","type":"System.Int64"},{"name":"startdate","cslType":"datetime","type":"System.DateTime"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/10":{"id":"$fn_icmclusterlb/0/10","entityType":"Function","body":"{\r\n//let endDate = datetime(2020-07-01);\r\n//let timespanindays = 30d;\r\n//let owningTeamIds = dynamic([32606,73723,51792,62601,63348,63447,63958,63979,64456,63348,10426,10612,11002]);\r\n//let severities = dynamic([0,1,2,3,4]);\r\nlet icmdbname='IcMDataWarehouse';\r\nlet sparckdbname='Icmanalytics';\r\nlet newendDate=min_of(endDate, startofday(now()));\r\n// Get the list of valid team ids and corresponding tenant ids.\r\nlet validTeams = materialize(database(icmdbname).Teams | where TeamId in (owningTeamIds) | summarize teamids=make_set(TeamId), tenantids=make_set(TenantId));\r\nlet validTeamIds = toscalar(validTeams | project teamids);\r\nlet validTenantIds = toscalar(validTeams | project tenantids);\r\n// Get the latest end date for which insights are available\r\nlet latestEndDate = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate <= newendDate and EndDate > newendDate - 7d\r\n| summarize max(EndDate));\r\n// Get the lastest compute time \r\nlet latestComputeTime = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| summarize max(ComputeTime));\r\n// Get the insights details for the latest dates and valid teams.\r\n// Get empty environment recommended action list\r\nlet EmptyEnvironmentRecommendation = materialize(database(sparckdbname).EmptyEnvironmentStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyEnvironment), RecommendedEnvironmentValue=any(NewOccurringEnvironment), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEnvironmentAction=pack_all()\r\n| summarize AddEnvironmentAction=tostring(make_list(AddEnvironmentAction)) by OwningTeamId)\r\n;\r\n// Get empty correlation id recommended action list\r\nlet EmptyCorrelationIdRecommendation = materialize(database(sparckdbname).EmptyCorrelationIdStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyCorrelationId), RecommendedCorrelationIdValue=any(NewCorrelationId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddCorrelationIdAction=pack_all()\r\n| summarize AddCorrelationIdAction=tostring(make_list(AddCorrelationIdAction)) by OwningTeamId)\r\n;\r\n// Get empty match fields recommended action list\r\nlet EmptyMatchFieldsRecommendation = materialize(database(sparckdbname).EmptyMatchFieldsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidentsWithMatchingEmptyDC=sum(NumIncWithMatchingEmptyDC), \r\nNumIncidentsWithMatchingEmptyDG=sum(NumIncWithMatchingEmptyDG), NumIncidentsWithMatchingEmptyDN=sum(NumIncWithMatchingEmptyDN),\r\nNumIncidentsWithMatchingEmptySID=sum(NumIncWithMatchingEmptySID), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEmptyMatchingFieldsAction=pack_all()\r\n| summarize AddEmptyMatchingFieldsAction=tostring(make_list(AddEmptyMatchingFieldsAction)) by OwningTeamId)\r\n;\r\n// Get creation date window recommended action list\r\nlet CreationDateWindowRecommendation = materialize(database(sparckdbname).CreationDateWindowStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), OldCreationDateWindow=any(OldCreationDateWindow), CurrentCreationDateWindow=any(OldCreationDateWindow), // need to keep both namings due to different versions.\r\n    RecommendedCreationDateWindow = any(NewCreationDateWindow), ActionId=any(UniqueId) by CorrelationRuleId, OwningTeamId\r\n| project OwningTeamId, IncreaseCreationDateWindowAction=pack_all()\r\n| summarize IncreaseCreationDateWindowAction=tostring(make_list(IncreaseCreationDateWindowAction)) by OwningTeamId)\r\n;\r\n// Get auto-mitigation recommended action list\r\nlet AutomitigationRecommendation = materialize(database(sparckdbname).AutomitigationStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), RecommendedIncrementTime=tolong(any(DeltaMitigateTime)), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, IncreaseTTMAction=pack_all()\r\n| summarize IncreaseTTMAction=tostring(make_list(IncreaseTTMAction)) by OwningTeamId)\r\n;\r\n// Get distinct correlation id recommended action list\r\nlet DistinctCorrelationIdsRecommendation = materialize(database(sparckdbname).DistinctCorrelationIdsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), NumDistinctCorrelationIdValues=sum(NumDistinctCorrelationIds), SampleIncidentId=any(SampleIncidentId), \r\nRecommendedCorrelationIdValue=any(NewCorrelationId), RecommendedDataCenterValue=any(NewOccurringDatacenter), RecommendedDeviceGroupValue=any(NewOccurringDeviceGroup), \r\nRecommendedDeviceNameValue=any(NewOccurringDeviceName), RecommendedServiceInstancIdValue=any(NewOccurringServiceInstanceId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, UnifyCorrelationIdAction=pack_all()\r\n| summarize UnifyCorrelationIdAction=tostring(make_list(UnifyCorrelationIdAction)) by OwningTeamId)\r\n;\r\n// Get new correlation rule recommended action list\r\nlet NewCorrelationRulesRecommendation = materialize(database(sparckdbname).NewCorrelationRulesStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize RuleType=\"new\", NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by TenantId, TenantName, OwningTeamId, RoutingId, CorrelationId, \r\nEnvironment, Datacenter, DeviceGroup, DeviceName, ServiceInstanceId, ModifiedBy, Description, Priority, MatchDatacenter, MatchDeviceGroup, MatchDeviceName, MatchServiceInstanceId, MatchSeverity,\r\nCreationDateWindow, Mode, IncludeOriginatingTenant\r\n| project OwningTeamId, AddCorrelationRuleAction=pack_all()\r\n| summarize AddCorrelationRuleAction=tostring(make_list(AddCorrelationRuleAction)) by OwningTeamId)\r\n;\r\n// Get the overall incident volume reduction for all teams\r\nlet IncidentVolumeBySeverity=materialize(validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids)\r\n| extend severities=severities\r\n| mv-expand severities\r\n| project OwningTeamId, Severity=tostring(severities)\r\n| join kind=leftouter(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| extend Severity=tostring(Severity)\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume) on OwningTeamId, Severity\r\n| project OwningTeamId, Severity, InitialVolume=iff(isnull( InitialVolume), 0, InitialVolume), \r\nFinalVolume=iff(isnull( FinalVolume), 0, FinalVolume),\r\nPercentageReduction=iff(isnull(PercentageReduction), 0.0, PercentageReduction))\r\n;\r\nlet IncidentVolumeAllSeverities=materialize(IncidentVolumeBySeverity\r\n| summarize Severity='all', InitialVolume=sum(InitialVolume), FinalVolume=sum(FinalVolume) by OwningTeamId\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume)\r\n;\r\nlet IncidentVolume=materialize(IncidentVolumeBySeverity\r\n| union IncidentVolumeAllSeverities)\r\n;\r\nlet IncidentVolumeObject=materialize(IncidentVolume \r\n| project OwningTeamId, IncidentVolume=pack(\"Severity\", Severity, \"InitialVolume\", InitialVolume, \"FinalVolume\", FinalVolume, \"PercentageReduction\" , PercentageReduction)\r\n| summarize IncidentVolume=tostring(make_list(IncidentVolume)), \r\nInitialIncidentVolume=sumif(tolong(IncidentVolume.InitialVolume), IncidentVolume.Severity =~ \"all\"),\r\nFinalIncidentVolume=sumif(tolong(IncidentVolume.FinalVolume), IncidentVolume.Severity =~ \"all\") by OwningTeamId\r\n| extend PercentageVolumeReduction=(InitialIncidentVolume-FinalIncidentVolume)*100.0/InitialIncidentVolume)\r\n;\r\nlet Result=materialize(validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids), StartDate=latestEndDate-timespanindays, EndDate=latestEndDate\r\n| join kind=leftouter (IncidentVolumeObject) on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyEnvironmentRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyCorrelationIdRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyMatchFieldsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter CreationDateWindowRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter AutomitigationRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter DistinctCorrelationIdsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter NewCorrelationRulesRecommendation on OwningTeamId\r\n| project-away OwningTeamId1)\r\n;\r\nResult\r\n| extend HelpLink = \"https://genevamondocs.azurewebsites.net/alerts/AdvancedTopics/HealthModel/UseHealthModel.html#for-incident-aggregation\"\r\n// InitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction are not used anymore. Need to remove after updating the API.\r\n| project OwningTeamId, StartDate, EndDate, \r\nInitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction, \r\nIncidentVolume, AddEnvironmentAction, AddCorrelationIdAction, AddEmptyMatchingFieldsAction, UnifyCorrelationIdAction, IncreaseCreationDateWindowAction, IncreaseTTMAction, AddCorrelationRuleAction, HelpLink\r\n}","docstring":"Get IcM Insights for a team","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"GetVolumeInsightsDetails","outputColumns":[],"inputParameters":[{"name":"owningTeamIds","cslType":"dynamic","type":"System.Object"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(30.00:00:00)"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"},{"name":"severities","cslType":"dynamic","type":"System.Object"}]},"$fn_icmclusterlb/0/11":{"id":"$fn_icmclusterlb/0/11","entityType":"Function","body":"{\r\n//let endDate = datetime(2020-07-01);\r\n//let timespanindays = 30d;\r\n//let owningTeamIds = dynamic([32606,73723,51792,62601,63348,63447,63958,63979,64456,63348,10426,10612,11002]);\r\nlet severities = dynamic([0,1,2,3,4]);\r\nlet icmdbname='IcmDataWarehouse';\r\nlet sparckdbname='Icmanalytics';\r\nlet newendDate=min_of(endDate, startofday(now()));\r\n// Get the list of valid team ids and corresponding tenant ids.\r\nlet validTeams = materialize(database(icmdbname).Teams | where TeamId in (owningTeamIds) | summarize teamids=make_set(TeamId), tenantids=make_set(TenantId));\r\nlet validTeamIds = toscalar(validTeams | project teamids);\r\nlet validTenantIds = toscalar(validTeams | project tenantids);\r\n// Get the latest end date for which insights are available\r\nlet latestEndDate = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate <= newendDate and EndDate > newendDate - 7d\r\n| summarize max(EndDate));\r\n// Get the lastest compute time \r\nlet latestComputeTime = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| summarize max(ComputeTime));\r\n// Get the insights details for the latest dates and valid teams.\r\n// Get empty environment recommended action list\r\nlet EmptyEnvironmentRecommendation = database(sparckdbname).EmptyEnvironmentStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyEnvironment), RecommendedEnvironmentValue=any(NewOccurringEnvironment), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEnvironmentAction=pack_all()\r\n| summarize AddEnvironmentAction=tostring(make_list(AddEnvironmentAction)) by OwningTeamId\r\n;\r\n// Get empty correlation id recommended action list\r\nlet EmptyCorrelationIdRecommendation = database(sparckdbname).EmptyCorrelationIdStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyCorrelationId), RecommendedCorrelationIdValue=any(NewCorrelationId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddCorrelationIdAction=pack_all()\r\n| summarize AddCorrelationIdAction=tostring(make_list(AddCorrelationIdAction)) by OwningTeamId\r\n;\r\n// Get empty match fields recommended action list\r\nlet EmptyMatchFieldsRecommendation = database(sparckdbname).EmptyMatchFieldsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidentsWithMatchingEmptyDC=sum(NumIncWithMatchingEmptyDC), \r\nNumIncidentsWithMatchingEmptyDG=sum(NumIncWithMatchingEmptyDG), NumIncidentsWithMatchingEmptyDN=sum(NumIncWithMatchingEmptyDN),\r\nNumIncidentsWithMatchingEmptySID=sum(NumIncWithMatchingEmptySID), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEmptyMatchingFieldsAction=pack_all()\r\n| summarize AddEmptyMatchingFieldsAction=tostring(make_list(AddEmptyMatchingFieldsAction)) by OwningTeamId\r\n;\r\n// Get creation date window recommended action list\r\nlet CreationDateWindowRecommendation = database(sparckdbname).CreationDateWindowStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), OldCreationDateWindow=any(OldCreationDateWindow), RecommendedCreationDateWindow = any(NewCreationDateWindow), ActionId=any(UniqueId) by CorrelationRuleId, OwningTeamId\r\n| project OwningTeamId, IncreaseCreationDateWindowAction=pack_all()\r\n| summarize IncreaseCreationDateWindowAction=tostring(make_list(IncreaseCreationDateWindowAction)) by OwningTeamId\r\n;\r\n// Get auto-mitigation recommended action list\r\nlet AutomitigationRecommendation = database(sparckdbname).AutomitigationStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), RecommendedIncrementTime=tolong(any(DeltaMitigateTime)), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, IncreaseTTMAction=pack_all()\r\n| summarize IncreaseTTMAction=tostring(make_list(IncreaseTTMAction)) by OwningTeamId\r\n;\r\n// Get distinct correlation id recommended action list\r\nlet DistinctCorrelationIdsRecommendation = database(sparckdbname).DistinctCorrelationIdsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), NumDistinctCorrelationIdValues=sum(NumDistinctCorrelationIds), SampleIncidentId=any(SampleIncidentId), \r\nRecommendedCorrelationIdValue=any(NewCorrelationId), RecommendedDataCenterValue=any(NewOccurringDatacenter), RecommendedDeviceGroupValue=any(NewOccurringDeviceGroup), \r\nRecommendedDeviceNameValue=any(NewOccurringDeviceName), RecommendedServiceInstancIdValue=any(NewOccurringServiceInstanceId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, UnifyCorrelationIdAction=pack_all()\r\n| summarize UnifyCorrelationIdAction=tostring(make_list(UnifyCorrelationIdAction)) by OwningTeamId\r\n;\r\n// Get new correlation rule recommended action list\r\nlet NewCorrelationRulesRecommendation = database(sparckdbname).NewCorrelationRulesStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize RuleType=\"new\", NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by TenantId, TenantName, OwningTeamId, RoutingId, CorrelationId, \r\nEnvironment, Datacenter, DeviceGroup, DeviceName, ServiceInstanceId, ModifiedBy, Description, Priority, MatchDatacenter, MatchDeviceGroup, MatchDeviceName, MatchServiceInstanceId, MatchSeverity,\r\nCreationDateWindow, Mode, IncludeOriginatingTenant\r\n| project OwningTeamId, AddCorrelationRuleAction=pack_all()\r\n| summarize AddCorrelationRuleAction=tostring(make_list(AddCorrelationRuleAction)) by OwningTeamId\r\n;\r\n// Get the overall incident volume reduction for all teams\r\nlet IncidentVolumeBySeverity=validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids)\r\n| extend severities=severities\r\n| mv-expand severities\r\n| project OwningTeamId, Severity=tostring(severities)\r\n| join kind=leftouter(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| extend Severity=tostring(Severity)\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume) on OwningTeamId, Severity\r\n| project OwningTeamId, Severity, InitialVolume=iff(isnull( InitialVolume), 0, InitialVolume), \r\nFinalVolume=iff(isnull( FinalVolume), 0, FinalVolume),\r\nPercentageReduction=iff(isnull(PercentageReduction), 0.0, PercentageReduction)\r\n;\r\nlet IncidentVolumeAllSeverities=IncidentVolumeBySeverity\r\n| summarize Severity='all', InitialVolume=sum(InitialVolume), FinalVolume=sum(FinalVolume) by OwningTeamId\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume\r\n;\r\nlet IncidentVolume=IncidentVolumeBySeverity\r\n| union IncidentVolumeAllSeverities\r\n;\r\nlet IncidentVolumeObject=IncidentVolume \r\n| project OwningTeamId, IncidentVolume=pack(\"Severity\", Severity, \"InitialVolume\", InitialVolume, \"FinalVolume\", FinalVolume, \"PercentageReduction\" , PercentageReduction)\r\n| summarize IncidentVolume=tostring(make_list(IncidentVolume)), \r\nInitialIncidentVolume=sumif(tolong(IncidentVolume.InitialVolume), IncidentVolume.Severity =~ \"all\"),\r\nFinalIncidentVolume=sumif(tolong(IncidentVolume.FinalVolume), IncidentVolume.Severity =~ \"all\") by OwningTeamId\r\n| extend PercentageVolumeReduction=(InitialIncidentVolume-FinalIncidentVolume)*100.0/InitialIncidentVolume\r\n;\r\nlet Result=validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids), StartDate=latestEndDate-timespanindays, EndDate=latestEndDate\r\n| join kind=leftouter (IncidentVolumeObject) on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyEnvironmentRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyCorrelationIdRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyMatchFieldsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter CreationDateWindowRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter AutomitigationRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter DistinctCorrelationIdsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter NewCorrelationRulesRecommendation on OwningTeamId\r\n| project-away OwningTeamId1;\r\nResult\r\n| extend HelpLink = \"https://genevamondocs.azurewebsites.net/alerts/AdvancedTopics/HealthModel/UseHealthModel.html#for-incident-aggregation\"\r\n// InitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction are not used anymore. Need to remove after updating the API.\r\n| project OwningTeamId, StartDate, EndDate, \r\nInitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction, \r\nIncidentVolume, AddEnvironmentAction, AddCorrelationIdAction, AddEmptyMatchingFieldsAction, UnifyCorrelationIdAction, IncreaseCreationDateWindowAction, IncreaseTTMAction, AddCorrelationRuleAction, HelpLink\r\n}","docstring":"Get IcM Insights for a team","folder":"IcMML","functionKind":"UnknownFunction","name":"GetVolumeInsightsDetailsNew","outputColumns":[],"inputParameters":[{"name":"owningTeamIds","cslType":"dynamic","type":"System.Object"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(30.00:00:00)"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/12":{"id":"$fn_icmclusterlb/0/12","entityType":"Function","body":"{ \r\n///////////// UPDATE LOG /////////////////////////////\r\n//// 2020/08/18 hrkulkar : Initial creation of function\r\n//// 2020/08/20 hrkulkar : Add setting to filter Volume Insights tables for only recs in the last week\r\n//// 2020/08/31 hrkulkar : renamed to GetDRIHealthRecommendations to make it abstract from Incident Action Center\r\n//////////// END OF UPDATE LOG ///////////////////////\r\n/////////// SETTINGS /////////////////////////////////\r\nlet spark_db_name='Icmanalytics';\r\nlet incidents_cluster='icmprodlb.kustomfa.windows.net';\r\nlet incidents_db_name='IcMDataWarehouse';\r\nlet alert_service_cluster='Icmalertservice';\r\nlet alert_service_db='AlertServicePROD';\r\nlet lookbackTimeForVolumeInsightsReccomendations=7d;\r\nlet dashboard_url=\"https://aka.ms/drihealth\";\r\n/////////////////END OF SETTINGS//////////////////////////\r\nlet _IncidentId = IncidentId\r\n;\r\n// Get Incident metadata in case we need it.\r\nlet incidents = materialize (\r\n    cluster(incidents_cluster).database(incidents_db_name).Incidents\r\n    | where IncidentId == _IncidentId\r\n    | project MonitorId, RoutingId, SourceName\r\n    | take 1\r\n);\r\n//// INITIALIZE VARIABLES\r\n//// Notes:\r\n////    (1) need _ beforehand to make sure Kusto doesn't get confused by trying to compare columns and scalars with same name\r\n////    (2) these coalesce statements return the default arguments\r\nlet _Severities = \r\n        coalesce(\r\n            Severities,\r\n            dynamic([0,1,2,3,4])\r\n        )\r\n;\r\n// Defaults for the below arguments are to use incident metadata from Kusto if nothing was passed in.\r\nlet _MonitorId = \r\n    coalesce(\r\n        MonitorId,\r\n        toscalar(incidents | project MonitorId)        \r\n    )\r\n;\r\nlet _RoutingId = \r\n    coalesce(\r\n        RoutingId,\r\n        toscalar(incidents | project RoutingId)\r\n    )\r\n;\r\nlet _SourceName = \r\n    coalesce(\r\n        SourceName,\r\n        toscalar(incidents | project SourceName)\r\n    )\r\n;\r\nlet _OwningTeamId = \r\n    coalesce(\r\n        OwningTeamId,\r\n        toscalar(cluster(incidents_cluster).database(incidents_db_name).IncidentHistory\r\n            | where IncidentId == _IncidentId\r\n            | where isnotempty(OwningTeamId)\r\n            | summarize arg_min(HistoryId, OwningTeamId)\r\n            | project OwningTeamId)\r\n    )\r\n;\r\nlet _CorrelationRuleId = toscalar(\r\n    cluster(alert_service_cluster).database(alert_service_db).CorrelatedAlerts\r\n    | where IncidentId == _IncidentId\r\n    | summarize arg_max(CreatedDate, CorrelationRuleId)\r\n    | project CorrelationRuleId\r\n)\r\n;\r\n//// USEFUL DEBUGGING OUTPUT\r\n//     cluster(incidents_cluster).database(incidents_db_name).IncidentsSnapshot(true)\r\n//     | where IncidentId == _IncidentId\r\n//     | project MonitorId, RoutingId, SourceName;\r\n// cluster(incidents_cluster).database(incidents_db_name).IncidentHistory\r\n//             | where IncidentId == _IncidentId;\r\n// //// DEBUG PARAMETERS ////////////////////////////////\r\n// print strcat(\"OwningTeamId: \",\r\n//     _OwningTeamId,\r\n//     \"\\nCorrelationRuleId: \",\r\n//     _CorrelationRuleId,\r\n//     \"\\nSourceName: \",\r\n//     _SourceName,\r\n//     \"\\nMonitorId: \",\r\n//     _MonitorId,\r\n//     \"\\nRoutingId: \",\r\n//     _RoutingId,\r\n//     \"\\nSeverities: \",\r\n//     _Severities);\r\n/////////////END OF USEFUL DEBUGGING OUTPUT/////////////////////////////////////////\r\n///////// STRINGS AND LOGIC FOR GETTING RECOMENDATIONS///////////////////////////////////\r\nlet do_monitors_match= (MonitorId:string, RoutingId:string, SourceName:string, Severity:string) {\r\n        MonitorId  =~ _MonitorId\r\n        and RoutingId =~ _RoutingId\r\n        and SourceName =~ _SourceName\r\n        and Severity in (_Severities)\r\n};\r\n// Empty Fields settings\r\nlet _Confidence = 95; // confidence is static right now for all recommendations\r\nlet _Missing_Field_Action = \"Fill in missing field(s)\";\r\nlet _Missing_Field_Message = (IsEnvEmpty:bool, IsDcEmpty:bool, IsDgEmpty:bool, IsDnEmpty:bool, IsSidEmpty:bool) {\r\n    let env=iif(IsEnvEmpty, pack_array(\"Environment\"), dynamic([]));\r\n    let dc=iif(IsDcEmpty, pack_array(\"DC\"), dynamic([]));\r\n    let dg=iif(IsDgEmpty, pack_array(\"Role\"), dynamic([]));\r\n    let dn=iif(IsDnEmpty, pack_array(\"DeviceName\"), dynamic([]));\r\n    let sid=iif(IsSidEmpty, pack_array(\"ServiceInstanceId\"), dynamic([]));\r\n    strcat_array(array_concat(env, dc, dg, dn, sid), \", \")\r\n};\r\nlet _Missing_Field_Recommendation_Type = \"Missing fields\";\r\nlet _Missing_Field_Reason = (TotalReduction:long) {\r\n    strcat(\"Empty matching field preventing incident correlation of \", TotalReduction, \" duplicate incidents in past 30 days\")\r\n};\r\nlet _Missing_Field_Priority = 0; // priority was defined in dri health in incident action center spec\r\n// Creation window settings\r\nlet _CreationDateWindow_Action = \"Increase\";\r\nlet _CreationDateWindow_Message = (CreationDateWindowRecommendationInMinutes:long) {\r\n    strcat(\"Correlation Rule Creation Date Window to \", CreationDateWindowRecommendationInMinutes, \" minutes\")\r\n};\r\nlet _CreationDateWindow_Recommendation_Type = \"Creation Date Window\";\r\nlet _CreationDateWindow_Reason = (TotalReduction:long) {\r\n    strcat(\"Change could deflect \", TotalReduction, \" duplicate incidents in past 30 days\")\r\n};\r\nlet _CreationDateWindow_Priority = 2; // priority was defined in dri health in incident action center spec\r\n// Auto Mitigation Time\r\nlet _AutoMitigationTime_Action = \"Increase\";\r\nlet _AutoMitigationTime_Message = (NewMitigationTime:string) {\r\n    strcat(\"Auto mitigation time by \", NewMitigationTime, \" minutes.\")\r\n};\r\nlet _AutoMitigationTime_Recommendation_Type = \"Auto Mitigation Time\";\r\nlet _AutoMitigationTime_Reason = (TotalReduction:long) {\r\n    strcat(\"Change could deflect \", TotalReduction, \" duplicate incidents in past 30 days\")\r\n};\r\nlet _AutoMitigationTime_Priority = 1; // priority was defined in dri health in incident action center spec\r\n////////////////////////////////////////////////////\r\nlet max_end_date = toscalar(\r\n    database(spark_db_name).EmptyEnvironmentStats\r\n    | where EndDate >= ago(lookbackTimeForVolumeInsightsReccomendations)\r\n    | summarize max(EndDate)\r\n);\r\nlet max_compute_time = toscalar(\r\n    database(spark_db_name).EmptyEnvironmentStats\r\n    | where EndDate >= ago(lookbackTimeForVolumeInsightsReccomendations)\r\n    | summarize max(ComputeTime)\r\n);\r\n////////////////////////////////////////////////////\r\nlet EmptyEnvironment =\r\n    database(spark_db_name).EmptyEnvironmentStats\r\n    | where EndDate == max_end_date and ComputeTime == max_compute_time\r\n    | where IsRecommendationFound == 1 and do_monitors_match(MonitorId, RoutingId, SourceName, Severity) \r\n    | summarize arg_max(ComputeTime, *) by StartDate, EndDate, OwningTeamId, MonitorId, RoutingId, SourceName, Severity\r\n    | summarize TotalReduction=sum(NumInitialIncidents) - sum(NumFinalIncidents) by MonitorUrl, Environment=\"Environment\"\r\n    | union (\r\n        database(spark_db_name).EmptyMatchFieldsStats\r\n        | where ComputeTime >= ago(lookbackTimeForVolumeInsightsReccomendations)\r\n        | where do_monitors_match(MonitorId, RoutingId, SourceName, Severity) and IsRecommendationFound == 1\r\n        | summarize arg_max(ComputeTime, *) by StartDate, EndDate, OwningTeamId, MonitorId, RoutingId, SourceName, Severity\r\n        | extend IsDcEmpty=NumIncWithMatchingEmptyDC > 0,\r\n            IsDgEmpty=NumIncWithMatchingEmptyDG > 0,\r\n            IsDnEmpty=NumIncWithMatchingEmptyDN > 0,\r\n            IsSidEmpty=NumIncWithMatchingEmptySID > 0\r\n        | summarize TotalReduction=sum(NumInitialIncidents) - sum(NumFinalIncidents)\r\n            by MonitorUrl, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty\r\n    )\r\n    | summarize TotalReduction=sum(TotalReduction),\r\n        IsDcEmpty=anyif(IsDcEmpty, isnotnull(IsDcEmpty)),\r\n        IsDgEmpty=anyif(IsDgEmpty, isnotnull(IsDgEmpty)),\r\n        IsDnEmpty=anyif(IsDnEmpty, isnotnull(IsDnEmpty)),\r\n        IsSidEmpty=anyif(IsSidEmpty, isnotnull(IsSidEmpty)),\r\n        IsEnvEmpty=anyif(true, isnotempty(Environment))\r\n        by MonitorUrl\r\n    | where TotalReduction > 0\r\n    | project \r\n        RecommendationMessage = _Missing_Field_Message(IsEnvEmpty, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty)\r\n        , RecommendationAction = _Missing_Field_Action\r\n        , RecommendationReason = _Missing_Field_Reason(TotalReduction)\r\n        , RecommendationUrl = MonitorUrl\r\n        , DashboardUrl = \"\"\r\n        , RecommendationType = _Missing_Field_Recommendation_Type\r\n        , Priority = _Missing_Field_Priority\r\n        , Confidence = _Confidence\r\n;\r\nlet CreationDateWindow =\r\n        database(spark_db_name).CreationDateWindowStats\r\n        | where EndDate == max_end_date and ComputeTime == max_compute_time\r\n        | where IsRecommendationFound==1 and CorrelationRuleId == _CorrelationRuleId and Severity in (_Severities)\r\n        | summarize arg_max(ComputeTime, *) by StartDate, EndDate, OwningTeamId, CorrelationRuleId, Severity\r\n        | summarize TotalReduction=sum(NumInitialIncidents) - sum(NumFinalIncidents) by OldCreationDateWindow, NewCreationDateWindow, CorrelationRuleUrl\r\n        | where TotalReduction > 0\r\n        | project \r\n            RecommendationMessage = _CreationDateWindow_Message(NewCreationDateWindow)\r\n            , RecommendationAction = _CreationDateWindow_Action\r\n            , RecommendationReason = _CreationDateWindow_Reason(TotalReduction)\r\n            , RecommendationUrl = CorrelationRuleUrl\r\n            , DashboardUrl = \"\"\r\n            , RecommendationType = _CreationDateWindow_Recommendation_Type\r\n            , Priority = _CreationDateWindow_Priority\r\n            , Confidence = _Confidence\r\n;\r\nlet AutoMitigationTimes =\r\n    database(spark_db_name).AutomitigationStats\r\n    | where EndDate == max_end_date and ComputeTime == max_compute_time\r\n    | where IsRecommendationFound==1 and do_monitors_match(MonitorId, RoutingId, SourceName, Severity)\r\n    | summarize arg_max(ComputeTime, *) by StartDate, EndDate, OwningTeamId, MonitorId, RoutingId, SourceName, Severity\r\n    | summarize TotalReduction=sum(NumInitialIncidents)-sum(NumFinalIncidents) by MonitorUrl, DeltaMitigateTime\r\n    | where TotalReduction > 0\r\n    | project \r\n        RecommendationMessage = _AutoMitigationTime_Message(DeltaMitigateTime)\r\n        , RecommendationAction = _AutoMitigationTime_Action\r\n        , RecommendationReason = _AutoMitigationTime_Reason(TotalReduction)\r\n        , RecommendationUrl = MonitorUrl\r\n        , DashboardUrl = \"\"\r\n        , RecommendationType = _AutoMitigationTime_Recommendation_Type\r\n        , Priority = _AutoMitigationTime_Priority\r\n        , Confidence = _Confidence\r\n;\r\nCreationDateWindow\r\n| union EmptyEnvironment\r\n| union AutoMitigationTimes\r\n| extend DashboardUrl=dashboard_url\r\n| sort by Priority asc\r\n}","docstring":"This function gets the recommendations from Volume Insights for Incident Action Center","folder":"DriHealth","functionKind":"UnknownFunction","name":"GetDRIHealthRecommendations","outputColumns":[],"inputParameters":[{"name":"IncidentId","cslType":"long","type":"System.Int64"},{"name":"Severities","cslType":"dynamic","type":"System.Object"},{"name":"MonitorId","cslType":"string","type":"System.String","cslDefaultValue":"\"\""},{"name":"CorrelationRuleId","cslType":"long","type":"System.Int64","cslDefaultValue":"long(null)"},{"name":"RoutingId","cslType":"string","type":"System.String","cslDefaultValue":"\"\""},{"name":"SourceName","cslType":"string","type":"System.String","cslDefaultValue":"\"\""},{"name":"OwningTeamId","cslType":"long","type":"System.Int64","cslDefaultValue":"long(null)"}]},"$fn_icmclusterlb/0/13":{"id":"$fn_icmclusterlb/0/13","entityType":"Function","body":"{\r\nDRIHealthSurvey_Processed_V1\r\n| where SurveyTime > datetime(2020-08-07 18:46:34.1410000) // this is the datetime that testing was going on.\r\n}","docstring":"This function gets the scores required for NSAT for the DRI Health Survey, and raw verbatims","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Get_DRIHealthSurvey_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/14":{"id":"$fn_icmclusterlb/0/14","entityType":"Function","body":"{\r\nGet_DRIHealthSurvey_V2\r\n| project\r\n    Alias\r\n    , Id\r\n    , OverallScore\r\n    , ProcessScore\r\n    , SAWScore\r\n    , TSGScore\r\n    , RespondedToSurveyStatus\r\n    , StartOfMonth\r\n    , SurveyTime\r\n    , ToolingScore\r\n    , TopFeatures\r\n    , TopPainPoints\r\n}","docstring":"This function gets the scores required for NSAT for the DRI Health Survey, and raw verbatims","folder":"DriHealth/DriHealthSurvey","functionKind":"UnknownFunction","name":"DRIHealthSurveyProcessed","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/15":{"id":"$fn_icmclusterlb/0/15","entityType":"Function","body":"{\r\nDRIHealthSurvey_WithSysSieveInference_V1\r\n}","docstring":"This function gets the SysSieve inferences from the verbatims of the DRI Health Survey","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Get_DRIHealthSurvey_SysSieve_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/16":{"id":"$fn_icmclusterlb/0/16","entityType":"Function","body":"{\r\nGet_DRIHealthSurvey_SysSieve_V3\r\n| project \r\n    ActionableType,\r\n    AnalyzedText,\r\n    CustomerEntity,\r\n    CustomerPrimary,\r\n    EngineeringEntity0,\r\n    EngineeringEntity1,\r\n    EngineeringEntity2,\r\n    EngineeringEntity3,\r\n    EngineeringPrimary0,\r\n    EngineeringPrimary1,\r\n    EngineeringPrimary2,\r\n    EngineeringPrimary3,\r\n    FundamentalArea,\r\n    Id,\r\n    InferenceType,\r\n    IsEntityStateAnAction,\r\n    PriChartPhraselCloud,\r\n    RecordType,\r\n    RecordTypeQualifier,\r\n    RecordTypeQualifierValue,\r\n    RecordTypeQualifierValue0,\r\n    RecordTypeQualifierValue1,\r\n    RecordTypeQualifierValue2,\r\n    RecordTypeQualifierValue3,\r\n    SentenceId,\r\n    Sentiment,\r\n    TaggedText,\r\n    TopEA,\r\n    TopEorA_F,\r\n    SysSieveOntologyVersion,\r\n    SysSieveJobInferenceTime\r\n}","docstring":"This function gets the SysSieve inferences from the verbatims of the DRI Health Survey","folder":"DriHealth/DriHealthSurvey","functionKind":"UnknownFunction","name":"DRIHealthSurvey_WithSysSieveInference","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/17":{"id":"$fn_icmclusterlb/0/17","entityType":"Function","body":"{\nDRIHealthSurvey_WithPeopleHierarchy_V2\n}","docstring":"Temporary until this is owned by ADS: This function  gets the scores required for NSAT for the DRI Health Survey, and raw verbatims WITH the People Hierarchy.","folder":"DriHealth/DriHealthSurvey","functionKind":"UnknownFunction","name":"DRIHealthSurvey_WithPeopleHierarchy","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/18":{"id":"$fn_icmclusterlb/0/18","entityType":"Function","body":"{\r\n    DRIHealthSurveyProcessed\r\n    | join kind=inner (\r\n        cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        | where IsActive\r\n    ) on Alias\r\n    | project-away Alias1\r\n| project-away Alias, EmailAddress, PersonnelNumber, IsEasyId, FullName, DisplayName, Title, JobTitleSummary, ManagerPersonnelNumber, ManagerAlias, StartDate, EtlEndDate, TerminationDate, IsFTE, IsActive, EasyId, IsHuman, SurveyTime\r\n}","docstring":"Temporary until this is owned by ADS: This function  gets the scores required for NSAT for the DRI Health Survey, and raw verbatims WITH the People Hierarchy.","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"DRIHealthSurvey_WithPeopleHierarchy_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/19":{"id":"$fn_icmclusterlb/0/19","entityType":"Function","body":"{ \r\nIncidentNonActionability_V1\r\n}","docstring":"This function generates non-actionable flag for all the incidents from the past 365 days ","folder":"DriHealth","functionKind":"UnknownFunction","name":"IncidentNonActionability","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/20":{"id":"$fn_icmclusterlb/0/20","entityType":"Function","body":"{\r\nlet inference_time = toscalar(cluster('icmtest').database('testdb').GetDRIHealthSurvey_LatestSysSieveManualRun | summarize max(ingestion_time()));\r\ncluster('icmtest').database('testdb').GetDRIHealthSurvey_LatestSysSieveManualRun\r\n| extend Id=toupper(AutoGeneratedID)\r\n    , SysSieveJobInferenceTime = inference_time\r\n    , SentenceId=SentenceID\r\n}","docstring":"This function gets the SysSieve inferences from the verbatims of the DRI Health Survey. This function is a temporary stand-in while cosmos pipeline is debugged, relies on manually uploaded data.","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Get_DRIHealthSurvey_SysSieve_V2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/21":{"id":"$fn_icmclusterlb/0/21","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let endTime=datetime({endTime});\r\n        // let startTime = datetime({startTime});\r\n        let maxIncidentLookBack=7d;\r\n        let events=materialize(cluster('icmtelemetry.kusto.windows.net').database('icmappinsightlogs').Event \r\n            | where Timestamp >= startTime and Timestamp < endTime\r\n            | where Name contains \"IncidentActionCenterBaseLineData\" and CustomDimensions contains \"drihealth\"\r\n            | extend IncidentId= tolong(todynamic(CustomDimensionsKeyValuePairs).Id)\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                | where CreateDate >= startTime - maxIncidentLookBack and CreateDate < endTime\r\n                | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName)\r\n                )\r\n                on $left.IncidentId == $right.IncidentId\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmalertservice.kusto.windows.net').database('AlertServicePROD').CorrelatedAlerts\r\n                | where CreatedDate >= startTime - maxIncidentLookBack and CreatedDate < endTime and isnotempty(IncidentId)\r\n                | project IncidentId, CorrelationRuleId=tolong(CorrelationRuleId)\r\n                )\r\n                on $left.IncidentId == $right.IncidentId\r\n            | project Timestamp, IncidentId, AuthId, MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n            );\r\n        events\r\n    }","docstring":"This function gets the telemetry of Incident Action Center - DRI Health recommendations viewed by users ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthRecommendationsTelemetryEvents","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/22":{"id":"$fn_icmclusterlb/0/22","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime}); \r\n        // let endTime=datetime({endTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let events = GetDRIHealthRecommendationsTelemetryEvents(startTime, endTime);\r\n        let emptyenv=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').EmptyEnvironmentStats\r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on MonitorId and RoutingId and SourceName\r\n            | where RecommendationIngestionTime < Timestamp and RecommendationIngestionTime >= Timestamp - maxRecommendationLookBackTime\r\n            | summarize arg_max(ComputeTime, *) by IncidentId, Timestamp, AuthId, OwningTenantId, OwningTeamId, MonitorId, RoutingId, SourceName, Severity\r\n            | where IsRecommendationFound == 1\r\n            | extend IsEnvEmpty=true\r\n            | distinct IncidentId, Timestamp, AuthId, MonitorId, RoutingId, SourceName, CorrelationRuleId, IsEnvEmpty);\r\n        let emptyfields=\r\n            (\r\n            events \r\n            | join kind=inner hint.remote=auto  (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').EmptyMatchFieldsStats\r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on MonitorId and RoutingId and SourceName and CorrelationRuleId\r\n            | where RecommendationIngestionTime < Timestamp and RecommendationIngestionTime >= Timestamp - maxRecommendationLookBackTime\r\n            | summarize arg_max(ComputeTime, *) by IncidentId, Timestamp, AuthId, OwningTenantId, OwningTeamId, MonitorId, RoutingId, SourceName, Severity, CorrelationRuleId\r\n            | where IsRecommendationFound == 1\r\n            | extend IsDcEmpty=NumIncWithMatchingEmptyDC > 0,\r\n                IsDgEmpty=NumIncWithMatchingEmptyDG > 0,\r\n                IsDnEmpty=NumIncWithMatchingEmptyDN > 0,\r\n                IsSidEmpty=NumIncWithMatchingEmptySID > 0\r\n            | distinct IncidentId, Timestamp, AuthId, MonitorId, RoutingId, SourceName, CorrelationRuleId, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty)\r\n        ;\r\n        emptyenv\r\n        | union (emptyfields)\r\n        | where IsEnvEmpty or IsDcEmpty or IsDgEmpty or IsDnEmpty or IsSidEmpty\r\n        | summarize arg_min(Timestamp, MonitorId, RoutingId, SourceName,CorrelationRuleId, IsEnvEmpty, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty), AuthId=make_set(AuthId) by IncidentId            \r\n    }","docstring":"This function gets the telemetry of Incident Action Center - DRI Health empty fields recommendations viewed by users ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthEmptyFieldsRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/23":{"id":"$fn_icmclusterlb/0/23","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        //let startTime=datetime({startTime});\r\n        //let endTime=datetime({endTime});\r\n        let emptyfields_validation=GetDRIHealthEmptyFieldsRecommendationTelemetry(startTime, endTime)\r\n        | summarize arg_min(Timestamp, *) by MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                | where CreateDate > startTime\r\n                | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName),\r\n                    OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringEnvironment, OccurringServiceInstanceId\r\n                )\r\n                on MonitorId and RoutingId and SourceName\r\n            | where CreateDate > Timestamp \r\n            | extend EmptyFields = tostring(pack(\"Environment\", IsEnvEmpty, \"Datacenter/Region\", IsDcEmpty, \"DeviceGroup/Role\", IsDgEmpty, \"DeviceName\", IsDnEmpty, \"ServiceInstanceId/Slice\", IsSidEmpty))\r\n            | extend EnvRecoTaken=IsEnvEmpty == false or (IsEnvEmpty == true and OccurringEnvironment != \"\" and isnotempty(OccurringEnvironment)),\r\n                DcRecoTaken=IsDcEmpty == false or (IsDcEmpty == true and OccurringDatacenter != \"\" and isnotempty(OccurringDatacenter)),\r\n                DgRecoTaken=IsDgEmpty == false or (IsDgEmpty == true and OccurringDeviceGroup != \"\" and isnotempty(OccurringDeviceGroup)),\r\n                DnRecoTaken=IsDnEmpty == false or (IsDnEmpty == true and OccurringDeviceName != \"\" and isnotempty(OccurringDeviceName)),\r\n                SidRecoTaken=IsSidEmpty == false or (IsSidEmpty == true and OccurringServiceInstanceId != \"\" and isnotempty(OccurringServiceInstanceId))\r\n            | extend EmptyFieldsRecoTaken=EnvRecoTaken and DcRecoTaken and DgRecoTaken and DnRecoTaken and SidRecoTaken\r\n            | summarize arg_max(CreateDate, Timestamp, EmptyFieldsRecoTaken, EmptyFields), AuthIds=tostring(make_set(AuthId)) by MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n        ;\r\n        emptyfields_validation\r\n    }","docstring":"This function gets the Incident Action Center - DRI Health empty fields recommendations that are taken by the user ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthEmptyFieldsRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/24":{"id":"$fn_icmclusterlb/0/24","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime}); \r\n        // let endTime=datetime({endTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let events = GetDRIHealthRecommendationsTelemetryEvents(startTime, endTime);\r\n        let creationwindow=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').CreationDateWindowStats \r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.CorrelationRuleId == $right.CorrelationRuleId\r\n            | where RecommendationIngestionTime < Timestamp and RecommendationIngestionTime >= Timestamp - maxRecommendationLookBackTime\r\n            | summarize arg_max(ComputeTime, *) by IncidentId, Timestamp, AuthId, OwningTeamId, CorrelationRuleId, Severity\r\n            | where IsRecommendationFound == 1\r\n            | extend IncreaseCreationWindow=true\r\n            | distinct IncidentId, Timestamp, AuthId, CorrelationRuleId, IncreaseCreationWindow, OldCreationDateWindow, NewCreationDateWindow);\r\n        creationwindow\r\n        | summarize arg_min(Timestamp, CorrelationRuleId, IncreaseCreationWindow, OldCreationDateWindow, NewCreationDateWindow), AuthId=make_set(AuthId)  by IncidentId\r\n    }","docstring":"This function gets the telemetry of Incident Action Center - DRI Health creation window recommendations viewed by users ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthCreationWindowRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/25":{"id":"$fn_icmclusterlb/0/25","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime}); \r\n        // let endTime=datetime({endTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let autoMitigationDescr=\"Incident is mitigated because the watchdogs associated with this incident have reported healthy atleast ([0-9]+) times in last.*\";\r\n        let events = GetDRIHealthRecommendationsTelemetryEvents(startTime, endTime);\r\n        let automitigation=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').AutomitigationStats \r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.MonitorId == $right.MonitorId and $left.RoutingId == $right.RoutingId and $left.SourceName == $right.SourceName\r\n            | where RecommendationIngestionTime < Timestamp and RecommendationIngestionTime >= Timestamp - maxRecommendationLookBackTime\r\n            | summarize arg_max(ComputeTime, *) by IncidentId, Timestamp, AuthId, OwningTeamId, MonitorId, RoutingId, SourceName, Severity\r\n            | where IsRecommendationFound == 1\r\n            | extend IncreaseAutoMitigation=true\r\n            | distinct IncidentId, Timestamp, AuthId, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, DeltaMitigateTime, MonitorFrequency\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentHistory\r\n                | where ChangeDate > startTime and ChangedBy == 'healthmanagesvc' and ChangeCategories contains \"Mitigate\"\r\n                | project IncidentId, OldMonitorHealthyCountToMitigateIncident=tolong(extract(autoMitigationDescr, 1, Mitigation))\r\n                )\r\n                on IncidentId\r\n            | project-away IncidentId1\r\n            | project IncidentId, Timestamp, AuthId, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, \r\n                NewMonitorHealthyCountToMitigateIncident=OldMonitorHealthyCountToMitigateIncident + DeltaMitigateTime / MonitorFrequency\r\n            );\r\n        automitigation\r\n        | summarize arg_min(Timestamp, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident), AuthId=make_set(AuthId) by IncidentId\r\n    }","docstring":"This function gets the telemetry of Incident Action Center - DRI Health auto mitigation recommendations viewed by users ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthAutoMitigationRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/26":{"id":"$fn_icmclusterlb/0/26","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime});\r\n        // let endTime=datetime({endTime});\r\n        let autoMitigationDescr=\"Incident is mitigated because the watchdogs associated with this incident have reported healthy atleast ([0-9]+) times in last.*\";\r\n        let automitigation_validation=\r\n            GetDRIHealthAutoMitigationRecommendationTelemetry(startTime, endTime)\r\n            | summarize arg_min(Timestamp, *) by MonitorId, RoutingId, SourceName\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentHistory\r\n                | where ChangeDate > startTime and ChangedBy == 'healthmanagesvc' and ChangeCategories contains \"Mitigate\"\r\n                | project IncidentId, CurrentMonitorHealthyCountToMitigateIncident=tolong(extract(autoMitigationDescr, 1, Mitigation))\r\n                | join kind=inner hint.remote=auto (\r\n                    cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                    | where CreateDate > startTime\r\n                    | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName)\r\n                    )\r\n                    on IncidentId\r\n                )\r\n                on MonitorId and RoutingId and SourceName\r\n            | where CreateDate > Timestamp\r\n            | summarize arg_max(CreateDate, Timestamp, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident, CurrentMonitorHealthyCountToMitigateIncident), AuthIds=tostring(make_set(AuthId)) by MonitorId, RoutingId, SourceName\r\n            | extend AutoMitigationRecoTaken=iff(CurrentMonitorHealthyCountToMitigateIncident > OldMonitorHealthyCountToMitigateIncident, true, false)\r\n            | project Timestamp, MonitorId, RoutingId, SourceName, AutoMitigationRecoTaken, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident, CurrentMonitorHealthyCountToMitigateIncident, AuthIds;\r\n        automitigation_validation\r\n    }","docstring":"This function gets the Incident Action Center - DRI Health auto mitigation recommendations that are taken by the user ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthAutoMitigationRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/27":{"id":"$fn_icmclusterlb/0/27","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime});\r\n        // let endTime=datetime({endTime});\r\n        let rules_validation=\r\n            GetDRIHealthCreationWindowRecommendationTelemetry(startTime, endTime)\r\n            | summarize arg_min(Timestamp, *) by CorrelationRuleId\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').CorrelationRules\r\n                | extend CorrelationRules=todynamic(CorrelationRules)\r\n                | project-rename TenantModifiedDate=ModifiedDate\r\n                | mv-expand CorrelationRules\r\n                | evaluate bag_unpack(CorrelationRules)\r\n                | project tostring(CorrelationId), tolong(CreationDateWindow), DataCenter, Description, DeviceGroup, DeviceName, Environment, tolong(IncludeOriginatingTenant),\r\n                    tostring(Lens_BatchId), Lens_IngestionTime, Lens_Originator, Lens_OriginatorData, tostring(Lens_SessionId),\r\n                    tolong(MatchDatacenter), tolong(MatchDeviceGroup), tolong(MatchDeviceName), tolong(MatchServiceInstanceId), tolong(MatchSeverity), tostring(Mode),\r\n                    ModifiedBy, ModifiedDate, tolong(Priority), tostring(RoutingId), tolong(RuleId), tostring(ServiceInstanceId), tolong(TenantId), TenantModifiedDate\r\n                | summarize arg_max(Lens_IngestionTime, *) by RuleId\r\n                )\r\n                on $left.CorrelationRuleId == $right.RuleId\r\n            | summarize arg_max(ModifiedDate, Timestamp, ModifiedDate, CreationDateWindow, OldCreationDateWindow, NewCreationDateWindow), AuthIds=tostring(make_set(AuthId)) by CorrelationRuleId\r\n            | extend CreationWindowRecoTaken=iff(ModifiedDate > Timestamp and CreationDateWindow > OldCreationDateWindow, 1, 0)\r\n            | project Timestamp, CorrelationRuleId, CreationWindowRecoTaken, OldCreationDateWindow, NewCreationDateWindow, CurrentCreationDateWindow=CreationDateWindow, AuthIds\r\n        ;\r\n        rules_validation\r\n    }","docstring":"This function gets the Incident Action Center - DRI Health creation window recommendations that are taken by the user ","folder":"DriHealth/ImpactEstimate","functionKind":"UnknownFunction","name":"GetDRIHealthCreationWindowRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/28":{"id":"$fn_icmclusterlb/0/28","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let endTime=datetime({endTime});\r\n        // let startTime = datetime({startTime});\r\n        let events=materialize(cluster('icmtelemetry.kusto.windows.net').database('icmappinsightlogs').Event \r\n        | where Timestamp >= startTime and Timestamp <= endTime\r\n        | where Name == \"VolumeInsights_ActionToggle\" \r\n        | extend ActionId=tostring(todynamic(CustomDimensionsKeyValuePairs).ActionId), IsOpen=tobool(todynamic(CustomDimensionsKeyValuePairs).IsOpen)\r\n        | where ActionId != \"null\" and IsOpen == true\r\n        | project Timestamp, AuthId, ActionId);\r\n        events\r\n    }","docstring":"This function gets the telemetry of Volume Insights recommendations viewed by users ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsRecommendationsTelemetryEvents","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/29":{"id":"$fn_icmclusterlb/0/29","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let endTime=datetime({endTime});\r\n        // let startTime = datetime({startTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let events=GetVolumeInsightsRecommendationsTelemetryEvents(startTime, endTime)\r\n            | where ActionId startswith \"Empty\";    \r\n        let emptyenv=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').EmptyEnvironmentStats\r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.ActionId == $right.UniqueId\r\n            | where IsRecommendationFound == 1\r\n            | extend IsEnvEmpty=true\r\n            | extend CorrelationRuleId=long(null)\r\n            | distinct Timestamp, AuthId, MonitorId, RoutingId, SourceName, CorrelationRuleId, IsEnvEmpty);\r\n        let emptyfields=\r\n            (\r\n            events\r\n            | join kind=inner hint.remote=auto  (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').EmptyMatchFieldsStats\r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.ActionId == $right.UniqueId\r\n            | where IsRecommendationFound == 1\r\n            | extend IsDcEmpty=NumIncWithMatchingEmptyDC > 0,\r\n                IsDgEmpty=NumIncWithMatchingEmptyDG > 0,\r\n                IsDnEmpty=NumIncWithMatchingEmptyDN > 0,\r\n                IsSidEmpty=NumIncWithMatchingEmptySID > 0\r\n            | distinct Timestamp, AuthId, MonitorId, RoutingId, SourceName, CorrelationRuleId, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty)\r\n        ;\r\n        emptyenv\r\n        | union (emptyfields)\r\n        | where IsEnvEmpty or IsDcEmpty or IsDgEmpty or IsDnEmpty or IsSidEmpty\r\n        | summarize arg_min(Timestamp, IsDcEmpty, IsDgEmpty, IsDnEmpty, IsSidEmpty, IsEnvEmpty), AuthId=make_set(AuthId) by MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n    }","docstring":"This function gets the telemetry of Volume Insights empty fields recommendations viewed by users ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsEmptyFieldsRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/30":{"id":"$fn_icmclusterlb/0/30","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime}); \r\n        // let endTime=datetime({endTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let events = GetVolumeInsightsRecommendationsTelemetryEvents(startTime, endTime)\r\n        | where ActionId startswith \"creationdatewindow\"\r\n        ;\r\n        let creationwindow=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').CreationDateWindowStats \r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.ActionId == $right.UniqueId\r\n            | where IsRecommendationFound == 1\r\n            | extend IncreaseCreationWindow=true\r\n            | distinct Timestamp, AuthId, CorrelationRuleId, IncreaseCreationWindow, OldCreationDateWindow, NewCreationDateWindow);\r\n        creationwindow\r\n        | summarize arg_min(Timestamp, IncreaseCreationWindow, OldCreationDateWindow, NewCreationDateWindow), AuthId=make_set(AuthId) by CorrelationRuleId\r\n    }","docstring":"This function gets the telemetry of Volume Insights creation window recommendations viewed by users ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsCreationWindowRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/31":{"id":"$fn_icmclusterlb/0/31","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        //let startTime=datetime({startTime}); \r\n        //let endTime=datetime({endTime});\r\n        let maxRecommendationLookBackTime=7d;\r\n        let maxIncidentLookBackTime=30d;\r\n        let autoMitigationDescr=\"Incident is mitigated because the watchdogs associated with this incident have reported healthy atleast ([0-9]+) times in last.*\";\r\n        let events = GetVolumeInsightsRecommendationsTelemetryEvents(startTime, endTime)\r\n            | where ActionId startswith \"AutoMitigation\";\r\n        let automitigation=(\r\n            events\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('Icmanalytics').AutomitigationStats \r\n                | extend RecommendationIngestionTime=ingestion_time()\r\n                | where RecommendationIngestionTime >= startTime - maxRecommendationLookBackTime and RecommendationIngestionTime < endTime\r\n                )\r\n                on $left.ActionId == $right.UniqueId\r\n            | where IsRecommendationFound == 1\r\n            | extend IncreaseAutoMitigation=true\r\n            | distinct Timestamp, AuthId, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, DeltaMitigateTime, MonitorFrequency \r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                | where CreateDate >= startTime - maxIncidentLookBackTime and CreateDate < endTime\r\n                | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName))\r\n                on MonitorId and RoutingId and SourceName\r\n            | project-away MonitorId1, RoutingId1, SourceName1\r\n            | where CreateDate < Timestamp\r\n            | summarize arg_max(CreateDate, *) by MonitorId, RoutingId, SourceName\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentHistory\r\n                | where ChangeDate > startTime and ChangedBy == 'healthmanagesvc' and ChangeCategories contains \"Mitigate\"\r\n                | project IncidentId, OldMonitorHealthyCountToMitigateIncident=tolong(extract(autoMitigationDescr, 1, Mitigation))\r\n                )\r\n                on IncidentId\r\n            | project-away IncidentId1\r\n            | project IncidentId, Timestamp, AuthId, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, \r\n                NewMonitorHealthyCountToMitigateIncident=OldMonitorHealthyCountToMitigateIncident + DeltaMitigateTime / MonitorFrequency\r\n            | distinct Timestamp, AuthId, MonitorId, RoutingId, SourceName, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident\r\n            );\r\n        automitigation\r\n        | summarize arg_min(Timestamp, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident), AuthId=make_set(AuthId) by MonitorId, RoutingId, SourceName\r\n    }","docstring":"This function gets the telemetry of Volume Insights auto mitigation recommendations viewed by users ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsAutoMitigationRecommendationTelemetry","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/32":{"id":"$fn_icmclusterlb/0/32","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime});\r\n        // let endTime=datetime({endTime});\r\n        let emptyfields_validation=GetVolumeInsightsEmptyFieldsRecommendationTelemetry(startTime, endTime)\r\n        | summarize arg_min(Timestamp, *) by MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                | where CreateDate > startTime\r\n                | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName),\r\n                    OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringEnvironment, OccurringServiceInstanceId\r\n                )\r\n                on MonitorId and RoutingId and SourceName\r\n            | where CreateDate > Timestamp \r\n            | extend EmptyFields = tostring(pack(\"Environment\", IsEnvEmpty, \"Datacenter/Region\", IsDcEmpty, \"DeviceGroup/Role\", IsDgEmpty, \"DeviceName\", IsDnEmpty, \"ServiceInstanceId/Slice\", IsSidEmpty))\r\n            | extend EnvRecoTaken=IsEnvEmpty == false or (IsEnvEmpty == true and OccurringEnvironment != \"\" and isnotempty(OccurringEnvironment)),\r\n                DcRecoTaken=IsDcEmpty == false or (IsDcEmpty == true and OccurringDatacenter != \"\" and isnotempty(OccurringDatacenter)),\r\n                DgRecoTaken=IsDgEmpty == false or (IsDgEmpty == true and OccurringDeviceGroup != \"\" and isnotempty(OccurringDeviceGroup)),\r\n                DnRecoTaken=IsDnEmpty == false or (IsDnEmpty == true and OccurringDeviceName != \"\" and isnotempty(OccurringDeviceName)),\r\n                SidRecoTaken=IsSidEmpty == false or (IsSidEmpty == true and OccurringServiceInstanceId != \"\" and isnotempty(OccurringServiceInstanceId))\r\n            | extend EmptyFieldsRecoTaken=EnvRecoTaken and DcRecoTaken and DgRecoTaken and DnRecoTaken and SidRecoTaken\r\n            | summarize arg_max(CreateDate, Timestamp, EmptyFieldsRecoTaken, EmptyFields), AuthIds=tostring(make_set(AuthId)) by MonitorId, RoutingId, SourceName, CorrelationRuleId\r\n        ;\r\n        emptyfields_validation\r\n    }","docstring":"This function gets the Volume insights empty fields recommendations that are taken by the user ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsEmptyFieldsRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/33":{"id":"$fn_icmclusterlb/0/33","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime});\r\n        // let endTime=datetime({endTime});\r\n        let rules_validation=\r\n            GetVolumeInsightsCreationWindowRecommendationTelemetry(startTime, endTime)\r\n            | summarize arg_min(Timestamp, *) by CorrelationRuleId\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').CorrelationRules\r\n                | extend CorrelationRules=todynamic(CorrelationRules)\r\n                | project-rename TenantModifiedDate=ModifiedDate\r\n                | mv-expand CorrelationRules\r\n                | evaluate bag_unpack(CorrelationRules)\r\n                | project tostring(CorrelationId), tolong(CreationDateWindow), DataCenter, Description, DeviceGroup, DeviceName, Environment, tolong(IncludeOriginatingTenant),\r\n                    tostring(Lens_BatchId), Lens_IngestionTime, Lens_Originator, Lens_OriginatorData, tostring(Lens_SessionId),\r\n                    tolong(MatchDatacenter), tolong(MatchDeviceGroup), tolong(MatchDeviceName), tolong(MatchServiceInstanceId), tolong(MatchSeverity), tostring(Mode),\r\n                    ModifiedBy, ModifiedDate, tolong(Priority), tostring(RoutingId), tolong(RuleId), tostring(ServiceInstanceId), tolong(TenantId), TenantModifiedDate\r\n                | summarize arg_max(Lens_IngestionTime, *) by RuleId\r\n                )\r\n                on $left.CorrelationRuleId == $right.RuleId\r\n            | summarize arg_max(ModifiedDate, Timestamp, ModifiedDate, CreationDateWindow, OldCreationDateWindow, NewCreationDateWindow), AuthIds=tostring(make_set(AuthId)) by CorrelationRuleId\r\n            | extend CreationWindowRecoTaken=iff(ModifiedDate > Timestamp and CreationDateWindow > OldCreationDateWindow, 1, 0)\r\n            | project Timestamp, CorrelationRuleId, CreationWindowRecoTaken, OldCreationDateWindow, NewCreationDateWindow, CurrentCreationDateWindow=CreationDateWindow, AuthIds\r\n            ;\r\n        rules_validation\r\n    }","docstring":"This function gets the Volume Insights creation window recommendations that are taken by the user ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsCreationWindowRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/34":{"id":"$fn_icmclusterlb/0/34","entityType":"Function","body":"{\r\n        // Uncomment the below two lines to test\r\n        // let startTime=datetime({startTime});\r\n        // let endTime=datetime({endTime});\r\n        let autoMitigationDescr=\"Incident is mitigated because the watchdogs associated with this incident have reported healthy atleast ([0-9]+) times in last.*\";\r\n        let automitigation_validation=\r\n            GetVolumeInsightsAutoMitigationRecommendationTelemetry(startTime, endTime)\r\n            | summarize arg_min(Timestamp, *) by MonitorId, RoutingId, SourceName\r\n            | join kind=inner hint.remote=auto (\r\n                cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentHistory\r\n                | where ChangeDate > startTime and ChangedBy == 'healthmanagesvc' and ChangeCategories contains \"Mitigate\"\r\n                | project IncidentId, CurrentMonitorHealthyCountToMitigateIncident=tolong(extract(autoMitigationDescr, 1, Mitigation))\r\n                | join kind=inner hint.remote=auto (\r\n                    cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot()\r\n                    | where CreateDate > startTime\r\n                    | project IncidentId, CreateDate, MonitorId=tolower(MonitorId), RoutingId=tolower(RoutingId), SourceName=tolower(SourceName)\r\n                    )\r\n                    on IncidentId\r\n                )\r\n                on MonitorId and RoutingId and SourceName\r\n            | where CreateDate > Timestamp\r\n            | summarize arg_max(CreateDate, Timestamp, IncreaseAutoMitigation, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident, CurrentMonitorHealthyCountToMitigateIncident), AuthIds=tostring(make_set(AuthId)) by MonitorId, RoutingId, SourceName\r\n            | extend AutoMitigationRecoTaken=iff(CurrentMonitorHealthyCountToMitigateIncident > OldMonitorHealthyCountToMitigateIncident, true, false)\r\n            | project Timestamp, MonitorId, RoutingId, SourceName, AutoMitigationRecoTaken, MonitorFrequency, OldMonitorHealthyCountToMitigateIncident, NewMonitorHealthyCountToMitigateIncident, CurrentMonitorHealthyCountToMitigateIncident, AuthIds;\r\n        automitigation_validation\r\n    }","docstring":"This function gets the Volume Insights auto mitigation recommendations that are taken by the user ","folder":"VolumeInsights/ImpactEstimate","functionKind":"UnknownFunction","name":"GetVolumeInsightsAutoMitigationRecommendationActionTaken","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/0/35":{"id":"$fn_icmclusterlb/0/35","entityType":"Function","body":"{\r\n        AutomitigationStats\r\n        | where ComputeTime > ago(1d)\r\n        | summarize arg_max(ComputeTime, *) by MonitorAccount, MonitorNamespace, MonitorMetric, MonitorName, OwningTeamId, OwningTenantId, Severity, RoutingId, SourceName, MonitorId\r\n        | where MonitorAccount =~ monitoraccount and MonitorNamespace =~ monitornamespace and MonitorMetric =~ monitormetric and MonitorName  =~ monitorname\r\n        | summarize NumInitialIncidents=sum(NumInitialIncidents), \r\n            NumFinalIncidents=sum(NumFinalIncidents), \r\n            SampleIncidentId=any(SampleIncidentId), \r\n            MonitorFrequency=any(MonitorFrequency),\r\n            OldMonitorHealthyCountToMitigateIncident=any(OldMonitorHealthyCountToMitigateIncident),\r\n            NewMonitorHealthyCountToMitigateIncident=any(NewMonitorHealthyCountToMitigateIncident),\r\n            DeltaMitigateTime=any(DeltaMitigateTime)\r\n            by MonitorAccount, MonitorNamespace, MonitorMetric, MonitorName, Severity\r\n            | extend IsRecommendationFound=iff(NumFinalIncidents < NumInitialIncidents and isnotempty( DeltaMitigateTime), true, false)\r\n    }","docstring":"Get auto mitigation recommendation for a geneva monitor","folder":"Automitigation","functionKind":"UnknownFunction","name":"GetAutomitigationRecommendation","outputColumns":[],"inputParameters":[{"name":"monitoraccount","cslType":"string","type":"System.String"},{"name":"monitornamespace","cslType":"string","type":"System.String"},{"name":"monitormetric","cslType":"string","type":"System.String"},{"name":"monitorname","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/0/36":{"id":"$fn_icmclusterlb/0/36","entityType":"Function","body":"{\r\n        DriHealth_Recommendations_AddFieldsValues_V3 \r\n    }","docstring":"Get DRI Health - Volume insights empty fields recommendations","folder":"DriHealth","functionKind":"UnknownFunction","name":"DriHealth_Recommendations_AddFieldsValues","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/37":{"id":"$fn_icmclusterlb/0/37","entityType":"Function","body":"{\r\n        DriHealth_Recommendations_AutoMitigationTime_V3  \r\n    }","docstring":"Get DRI Health - Volume insights empty fields recommendations","folder":"DriHealth","functionKind":"UnknownFunction","name":"DriHealth_Recommendations_AutoMitigationTime","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/38":{"id":"$fn_icmclusterlb/0/38","entityType":"Function","body":"{\r\n        DriHealth_Recommendations_CreationDateWindow_V3 \r\n    }","docstring":"Get DRI Health - Volume insights empty fields recommendations","folder":"DriHealth","functionKind":"UnknownFunction","name":"DriHealth_Recommendations_CreationDateWindow","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/39":{"id":"$fn_icmclusterlb/0/39","entityType":"Function","body":"{\r\n        EmptyEnvironmentStats \r\n    }","docstring":"Get Volume insights empty environment recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_EmptyEnvironment","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/40":{"id":"$fn_icmclusterlb/0/40","entityType":"Function","body":"{\r\n        EmptyCorrelationIdStats \r\n    }","docstring":"Get Volume insights empty correlationid recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_EmptyCorrelationId","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/41":{"id":"$fn_icmclusterlb/0/41","entityType":"Function","body":"{\r\n        EmptyMatchFieldsStats \r\n    }","docstring":"Get Volume insights empty match fields recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_EmptyMatchFields","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/42":{"id":"$fn_icmclusterlb/0/42","entityType":"Function","body":"{\r\n        CreationDateWindowStats \r\n    }","docstring":"Get Volume insights creation date window recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_CreationDateWindow","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/43":{"id":"$fn_icmclusterlb/0/43","entityType":"Function","body":"{\r\n        AutomitigationStats\r\n    }","docstring":"Get Volume insights auto mitigation recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_Automitigation","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/44":{"id":"$fn_icmclusterlb/0/44","entityType":"Function","body":"{\r\n        NewCorrelationRulesStats\r\n    }","docstring":"Get Volume insights new correlation rule recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_NewCorrelationRules","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/45":{"id":"$fn_icmclusterlb/0/45","entityType":"Function","body":"{\r\n        DistinctCorrelationIdsStats\r\n    }","docstring":"Get Volume insights distinct correlationid recommendations","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_DistinctCorrelationIds","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/46":{"id":"$fn_icmclusterlb/0/46","entityType":"Function","body":"{\r\n        SummaryStats \r\n    }","docstring":"Get Volume insights over all summary stats","folder":"VolumeInsights","functionKind":"UnknownFunction","name":"VolumeInsights_SummaryStats","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/47":{"id":"$fn_icmclusterlb/0/47","entityType":"Function","body":"{\r\nDriHealthSysSieveFromMachine_20201118\r\n// update version as necessary\r\n|  extend SysSieveOntologyVersion =\"2020-11-18-private-preview\"\r\n}","docstring":"Temporary. Gets the data from a manual SysSieve run to use for the PBI verbatims for DRI Health Survey","folder":"DriHealth/Survey","functionKind":"UnknownFunction","name":"GetDRIHealthSurvey_LatestSysSieveManualRun","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/48":{"id":"$fn_icmclusterlb/0/48","entityType":"Function","body":"{\r\nDRIHealthSurvey_WithSysSieveInference_V3\r\n| project-rename \r\n    EngineeringEntity0=EngineeringSecondary0,\r\n    EngineeringEntity1=EngineeringSecondary1,\r\n    EngineeringEntity2=EngineeringSecondary2,\r\n    EngineeringEntity3=EngineeringSecondary3,\r\n    CustomerEntity =CustomerSecondary,\r\n    Id=TicketID,\r\n    RecordType=Trait\r\n}","docstring":"This function gets the SysSieve inferences from the verbatims of the DRI Health Survey","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Get_DRIHealthSurvey_SysSieve_V3","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/49":{"id":"$fn_icmclusterlb/0/49","entityType":"Function","body":"{\r\n    DRIHealthSurveyProcessed\r\n    | extend SentSurvey = 1\r\n    | join kind=inner (\r\n        cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        | where IsActive\r\n    ) on Alias\r\n    | extend SentSurvey = coalesce(SentSurvey, 0)\r\n    | project \r\n        EmployeeLevel02,\r\n        EmployeeLevel03,\r\n        EmployeeLevel04,\r\n        EmployeeLevel05,\r\n        EmployeeLevel06,\r\n        EmployeeLevel07,\r\n        Id,\r\n        OverallScore,\r\n        ProcessScore,\r\n        RespondedToSurveyStatus,\r\n        StartOfMonth,\r\n        ToolingScore,\r\n        SAWScore,\r\n        TSGScore,\r\n        TopFeatures,\r\n        TopPainPoints,\r\n        Alias,\r\n        SentSurvey\r\n}","docstring":"Temporary until this is owned by ADS: This function  gets the scores required for NSAT for the DRI Health Survey, and raw verbatims WITH the People Hierarchy.","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"DRIHealthSurvey_WithPeopleHierarchy_V2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/50":{"id":"$fn_icmclusterlb/0/50","entityType":"Function","body":"{\r\n    DRIHealthSurveyProcessed\r\n    | extend SentSurvey = 1\r\n    | join kind=inner (\r\n        cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        | where IsActive\r\n    ) on Alias\r\n    | extend SentSurvey = coalesce(SentSurvey, 0)\r\n    | project \r\n        EmployeeLevel02,\r\n        EmployeeLevel03,\r\n        EmployeeLevel04,\r\n        EmployeeLevel05,\r\n        EmployeeLevel06,\r\n        OverallScore,\r\n        ProcessScore,\r\n        RespondedToSurveyStatus,\r\n        SentSurvey,\r\n        StartOfMonth\r\n    | summarize \r\n        NumberOfDRIsWhoRespondededToSurvey=countif(RespondedToSurveyStatus==1),\r\n        NumberOfDRIsWhoWereSentSurvey=countif(SentSurvey==1)\r\n    by  EmployeeLevel02,\r\n        EmployeeLevel03,\r\n        EmployeeLevel04,\r\n        EmployeeLevel05,\r\n        EmployeeLevel06,\r\n        StartOfMonth\r\n    | extend ResponseRate=NumberOfDRIsWhoRespondededToSurvey*100.0/NumberOfDRIsWhoWereSentSurvey    \r\n}","docstring":"This function is used to ingest the data at an L6 level into IcmDataWarehouse. Temporary until this is owned by ADS: This function  gets the scores required for NSAT for the DRI Health Survey, and raw verbatims WITH the People Hierarchy.","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Ingest_DRIHealthSurvey_L6","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/51":{"id":"$fn_icmclusterlb/0/51","entityType":"Function","body":"{\r\n    DRIHealthSurveyProcessed\r\n    | extend SentSurvey = 1\r\n    | join kind=inner (\r\n        cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        | where IsActive\r\n    ) on Alias\r\n    | extend SentSurvey = coalesce(SentSurvey, 0)\r\n    | project \r\n        EmployeeLevel02,\r\n        EmployeeLevel03,\r\n        EmployeeLevel04,\r\n        EmployeeLevel05,\r\n        EmployeeLevel06,\r\n        OverallScore,\r\n        ProcessScore,\r\n        RespondedToSurveyStatus,\r\n        SentSurvey,\r\n        StartOfMonth\r\n    | summarize \r\n        NumberOfDRIsWhoRespondededToSurvey=countif(RespondedToSurveyStatus==1),\r\n        NumberOfDRIsWhoWereSentSurvey=countif(SentSurvey==1)\r\n    by  EmployeeLevel02,\r\n        EmployeeLevel03,\r\n        EmployeeLevel04,\r\n        EmployeeLevel05,\r\n        EmployeeLevel06,\r\n        StartOfMonth\r\n    | extend ResponseRate=NumberOfDRIsWhoRespondededToSurvey*100.0/NumberOfDRIsWhoWereSentSurvey    \r\n}","docstring":"This function is used to ingest the data at an L6 level into IcmDataWarehouse. Temporary until this is owned by ADS: This function  gets the scores required for NSAT for the DRI Health Survey, and raw verbatims WITH the People Hierarchy.","folder":"DriHealth/DriHealthSurvey","functionKind":"UnknownFunction","name":"Get_OKRStudio_For_DRIHealthSurvey","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/52":{"id":"$fn_icmclusterlb/0/52","entityType":"Function","body":"{\r\n   DRIHealthSurveyProcessed\r\n    | join kind=inner (\r\n        cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        | where IsActive\r\n        | project Alias, ManagerAlias\r\n    ) on Alias\r\n    | where isnotempty(ManagerAlias)\r\n    | project-away Alias1\r\n    | join kind=inner (\r\n         cluster('icmdataro.centralus.kusto.windows.net').database('Reporting').GetRef_OneEs_HeadTraxPerson\r\n        |    where IsActive\r\n    ) on $left.ManagerAlias==$right.Alias\r\n    | project-away ManagerAlias1, Alias1\r\n    | summarize NumberOfSurveysSent=count(), NumberOfRespondents=countif(RespondedToSurveyStatus) by ManagerAlias, EmployeeLevel02, EmployeeLevel03, EmployeeLevel04, EmployeeLevel05, EmployeeLevel06, EmployeeLevel07, EmployeeLevel08, EmployeeLevel09, EmployeeLevel10, StartOfMonth\r\n    | where NumberOfSurveysSent > 1 // only cache results for months where the L6 has 1 or more respondents to reasonably protect anonymity.\r\n    | extend ResponseRate=NumberOfRespondents*100.0/NumberOfSurveysSent\r\n}","docstring":"Function to ingest KR_Studio table: only keeps ","folder":"DriHealth/DriHealthSurvey","functionKind":"UnknownFunction","name":"Ingest_DriHealthSurvey_KRStudio","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/53":{"id":"$fn_icmclusterlb/0/53","entityType":"Function","body":"{\r\n    let touches = materialize(cluster(CLUSTER).database('IcmDataWarehouse').Incidents \r\n    | where CreateDate >= ago(DAYS)\r\n        and OwningTeamId in (TEAMID)\r\n        and IncidentType startswith iff(CUSTOMER_REPORTED, \"Customer\", \"\")\r\n    | summarize arg_max(ModifiedDate, *) by IncidentId, OwningTeamId, OwningTeamName \r\n    | project IncidentId, TeamId = OwningTeamId, PublicTeamId = OwningTeamName, OriginalContactId = tolong(OwningContactId), OriginalContactAlias = OwningContactAlias\r\n    );\r\n    let incidents = touches | project IncidentId;\r\n    let snapshot  = cluster(CLUSTER).database('IcmDataWarehouse').IncidentsSnapshot(false)\r\n    | where IncidentId in (incidents);\r\n    touches \r\n    | join kind = inner snapshot on IncidentId\r\n    | where MitigateDate < now()\r\n    | project IncidentId = tolong(IncidentId), TeamId, PublicTeamId, OriginalContactId = tolong(OwningContactId), Alias = OriginalContactAlias\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetIncidentTeamAliasPairs_V1","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"TEAMID","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CUSTOMER_REPORTED","cslType":"bool","type":"System.SByte"}]},"$fn_icmclusterlb/0/54":{"id":"$fn_icmclusterlb/0/54","entityType":"Function","body":"{\r\n    let touches = materialize(cluster(CLUSTER).database('IcmDataWarehouse').Incidents \r\n    | where CreateDate >= ago(DAYS)\r\n        and OwningTeamName in (OWNINGTEAMNAME)\r\n        and IncidentType startswith iff(CUSTOMER_REPORTED, \"Customer\", \"\")\r\n    | summarize arg_max(ModifiedDate, *) by IncidentId, OwningTeamId, OwningTeamName \r\n    | project IncidentId, TeamId = OwningTeamId, PublicTeamId = OwningTeamName, OriginalContactId = tolong(OwningContactId), OriginalContactAlias = OwningContactAlias\r\n    );\r\n    let incidents = touches | project IncidentId;\r\n    let snapshot  = cluster(CLUSTER).database('IcmDataWarehouse').IncidentsSnapshot(false)\r\n    | where IncidentId in (incidents)\r\n    ;\r\n    touches \r\n    | join kind = inner snapshot on IncidentId\r\n    | where MitigateDate < now()\r\n    | project IncidentId = tolong(IncidentId), Title, MonitorId, TeamId, OwningTenantName, OwningTeamName, OriginalContactId = tolong(OwningContactId), Alias = OriginalContactAlias\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetIncidentTeamAliasPairs_V2","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CUSTOMER_REPORTED","cslType":"bool","type":"System.SByte"}]},"$fn_icmclusterlb/0/55":{"id":"$fn_icmclusterlb/0/55","entityType":"Function","body":"{\r\n    let touches = materialize(\r\n        cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').Incidents \r\n        | where CreateDate >= ago(90d)\r\n            and IncidentType startswith \"Customer\"\r\n            and OwningTeamId in (teamIds)\r\n        | summarize arg_max(ModifiedDate, *) by IncidentId, OwningTeamId, OwningTeamName \r\n        | project IncidentId, TeamId = OwningTeamId, PublicTeamId = OwningTeamName, OriginalContactId = tolong(OwningContactId), OriginalContactAlias = OwningContactAlias\r\n    );\r\n    let incidents = touches | project IncidentId;\r\n    let res = materialize(\r\n        cluster('icmclusterbackup.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(false)\r\n        | where MitigateDate < now()\r\n        | join kind=inner touches on IncidentId\r\n        | project IncidentId = tolong(IncidentId), TeamId, PublicTeamId, OriginalContactId = tolong(OwningContactId), Alias = OriginalContactAlias\r\n    );\r\n    let res2 =\r\n        res\r\n        | join kind = leftouter cluster('icmclusterbackup.kusto.windows.net').database(\"Icmanalytics\").IcMinerAll_V7 on IncidentId\r\n        | project IncidentId = tolong(IncidentId), Value = todynamic(Query), PublicTeamId, TeamId, Alias\r\n        | mv-expand Value to typeof(string)\r\n            // If IcMMiner has removed the table name, then don't by mistake extract the database name as the table name\r\n        | extend KustoTableName = iif(indexof_regex(Value, \"https://[a-zA-Z\\\\._0-9]*/[a-zA-Z0-9]\\\\s*|\") != -1 , \"\", extract(\"$?\\\\.?([a-zA-Z_0-9]*)\\\\s*\\\\|\", 1, Value))\r\n            // Lower-case the cluster since it's case-insensitive -- will improve match rate\r\n            , KustoClusterName = tolower(coalesce(extract(\"$?cluster\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"https://([a-zA-Z\\\\._0-9]*)/\", 1, Value)))\r\n            , KustoDatabaseName = coalesce(extract(\"database\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"kusto.windows.net/([a-zA-Z\\\\._0-9]*)\", 1, Value))\r\n            // Add kusto.windows.net to cluster names which don't have it to standardize it.\r\n        | extend KustoClusterName = iif(KustoClusterName !endswith \".kusto.windows.net\" and isnotempty(KustoClusterName), strcat(KustoClusterName, \".kusto.windows.net\"), KustoClusterName)\r\n    ;\r\n    let TotalCRIsByTeam =\r\n        res\r\n        | summarize NumCRIs = dcount(IncidentId) by TeamId\r\n    ;\r\n    res2\r\n    | sort by IncidentId desc\r\n    | summarize LastIncidentId=max(IncidentId), NumCRIs_WhereQueryAppeared = dcount(IncidentId), dcount(Alias), CRIsWhereQueryAppeared = make_set(IncidentId), make_set(Alias), SampleQuery = any(Value) by KustoClusterName, KustoDatabaseName, KustoTableName, PublicTeamId, TeamId\r\n    | where isnotempty(SampleQuery)\r\n    | join kind = inner TotalCRIsByTeam on TeamId\r\n    | project-away TeamId1\r\n    | top 5 by NumCRIs_WhereQueryAppeared desc \r\n    | project SampleQuery, SampleIncidentLink=strcat(\"https://portal.microsofticm.com/imp/v3/incidents/details/\",LastIncidentId,\"/home\"), LastIncidentId, NumCRIs_WhereQueryAppeared, KustoClusterName, KustoDatabaseName, KustoTableName\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKQueries_V1","outputColumns":[],"inputParameters":[{"name":"teamIds","cslType":"dynamic","type":"System.Object"}]},"$fn_icmclusterlb/0/56":{"id":"$fn_icmclusterlb/0/56","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKQueries_V1\r\n    | where TeamId in (TEAMID)\r\n    | top K by NumCRIs_WhereQueryAppeared desc\r\n    ;\r\n    topk\r\n    | project LatestQuery, LatestIncidentLink=strcat(\"https://portal.microsofticm.com/imp/v3/incidents/details/\", LatestIncidentId, \"/home\"), LatestIncidentId, NumCRIs_WhereQueryAppeared, KustoClusterName, KustoDatabaseName, KustoTableName\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKQueries_V2","outputColumns":[],"inputParameters":[{"name":"TEAMID","cslType":"dynamic","type":"System.Object"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/57":{"id":"$fn_icmclusterlb/0/57","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKStackTraces_V1\r\n    | where TeamId in (TEAMID)\r\n    | top K by NumIncidents_WhereStackTraceAppeared desc\r\n    ;\r\n    topk\r\n    | project ExceptionName, CleanedStackTrace, LatestStackTrace, LatestIncidentLink=strcat(\"https://portal.microsofticm.com/imp/v3/incidents/details/\", LatestIncidentId, \"/home\"), LatestIncidentId\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKStackTraces_V1","outputColumns":[],"inputParameters":[{"name":"TEAMID","cslType":"dynamic","type":"System.Object"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/58":{"id":"$fn_icmclusterlb/0/58","entityType":"Function","body":"{ \r\n    let res = GetIncidentTeamAliasPairs(CLUSTER = CLUSTER, TEAMID = TEAMID, DAYS = DAYS, CUSTOMER_REPORTED = true);\r\n    let res2 =\r\n        res\r\n        | join kind = leftouter cluster(CLUSTER).database(\"Icmanalytics\").IcMinerAll_V7 on IncidentId\r\n        | where isnotempty(Query)\r\n        | project IncidentId = tolong(IncidentId), Value = todynamic(Query), PublicTeamId, TeamId, Alias\r\n        | mv-expand Value to typeof(string)\r\n            // If IcMMiner has removed the table name, then don't by mistake extract the database name as the table name\r\n        | extend KustoTableName = iif(indexof_regex(Value, \"https://[a-zA-Z\\\\._0-9]*/[a-zA-Z0-9]\\\\s*|\") != -1 , \"\", extract(\"$?\\\\.?([a-zA-Z_0-9]*)\\\\s*\\\\|\", 1, Value))\r\n            // Lower-case the cluster since it's case-insensitive -- will improve match rate\r\n            , KustoClusterName = tolower(coalesce(extract(\"$?cluster\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"https://([a-zA-Z\\\\._0-9]*)/\", 1, Value)))\r\n            , KustoDatabaseName = coalesce(extract(\"database\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"kusto.windows.net/([a-zA-Z\\\\._0-9]*)\", 1, Value))\r\n            // Add kusto.windows.net to cluster names which don't have it to standardize it.\r\n        | extend KustoClusterName = iif(KustoClusterName !endswith \".kusto.windows.net\" and isnotempty(KustoClusterName), strcat(KustoClusterName, \".kusto.windows.net\"), KustoClusterName)\r\n    ;\r\n    let TotalCRIsByTeam =\r\n        res\r\n        | summarize NumCRIs = dcount(IncidentId) by TeamId\r\n    ;\r\n    res2\r\n    | sort by IncidentId desc\r\n    | summarize \r\n        NumCRIs_WhereQueryAppeared = dcount(IncidentId), \r\n        NumberOfUniqueOwners = dcount(Alias), \r\n        CRIsWhereQueryAppeared = make_set(IncidentId), \r\n        make_set(Alias), \r\n        (LatestIncidentId, LatestQuery) = arg_max(IncidentId, Value)\r\n        by KustoClusterName, KustoDatabaseName, KustoTableName, PublicTeamId, TeamId\r\n    | where isnotempty(LatestQuery)\r\n    | extend LatestQuery=replace(\"\\\\|\", \"\\n|\", LatestQuery)\r\n    | join kind = inner TotalCRIsByTeam on TeamId\r\n    | project-away TeamId1\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"IngestTopKQueries_V1","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"TEAMID","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/59":{"id":"$fn_icmclusterlb/0/59","entityType":"Function","body":"{ \r\n    let res = GetIncidentTeamAliasPairs(CLUSTER = CLUSTER, TEAMID = TEAMID, DAYS = DAYS, CUSTOMER_REPORTED = false);\r\n    let res2 =\r\n        res\r\n        | join kind = leftouter cluster(CLUSTER).database(\"Icmanalytics\").IcMinerAll_V7 on IncidentId\r\n        | project IncidentId = tolong(IncidentId), StackTrace = todynamic(StackTrace), PublicTeamId, TeamId, Alias\r\n        | mv-expand StackTrace to typeof(string) // Convert json string array to individual rows\r\n        | where isnotempty(StackTrace)\r\n        | extend StackTrace = split(StackTrace, \"-->\") // Split stack traces if multiple\r\n        | mv-expand StackTrace to typeof(string)\r\n        | extend StackTrace = trim(@\"^([^a-zA-Z\\d]*)|([^a-zA-Z\\d]*)$\", StackTrace)//, // Remove trailing / Leading whitespaces or misc characters\r\n            // CleanedStackTrace = tolower(StackTrace) // Force lowercase to begin clean\r\n        | extend CleanedStackTrace = extract(@\":\\s{0,1}(.*)\", 1, // Extract cleaned stack trace message after cleaning\r\n            replace(@\"[https:]*\\/(.*)\\/[\\w-]*\", @\"[ROUTE]\", \r\n            replace(@\"[[:xdigit:]]{8}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{12}\", @\"GUID\", StackTrace))), // Clean GUID and any resource routes if existing\r\n            ExceptionName = strcat(extract(@\"^(.*?)(?i)(exception):\", 1, StackTrace), \"Exception\") // Extract the exception name\r\n        | project IncidentId, PublicTeamId, TeamId, Alias, StackTrace, CleanedStackTrace, ExceptionName\r\n    ;\r\n    let reduction =\r\n        res2\r\n        | reduce by CleanedStackTrace with threshold=0.5\r\n        | where Pattern != \"others\"\r\n    ;\r\n    let TotalIncidentsByTeam =\r\n        res\r\n        | summarize NumIncidents = dcount(IncidentId) by TeamId\r\n    ;\r\n    let res3 = \r\n        reduction\r\n        | project-rename CleanedStackTrace = Representative\r\n        | join kind = inner res2 on CleanedStackTrace\r\n        | project-away CleanedStackTrace1\r\n        | order by Count\r\n    ;\r\n    res3\r\n    | sort by IncidentId desc\r\n    | summarize \r\n        NumberOfUniqueOwners = dcount(Alias), \r\n        IncidentsWhereStackTraceAppeared = make_set(IncidentId), \r\n        NumIncidents_WhereStackTraceAppeared = dcount(IncidentId),\r\n        make_set(Alias), \r\n        (LatestIncidentId, LatestStackTrace) = arg_max(IncidentId, StackTrace)\r\n        by ExceptionName, Count, CleanedStackTrace, TeamId, PublicTeamId\r\n    | project-rename NumTotalOccurrances = Count\r\n    | where isnotempty(LatestStackTrace)\r\n    | where ExceptionName !~ \"Exception\" and ExceptionName !~ \"System.AggregateException\"\r\n    | join kind = inner TotalIncidentsByTeam on TeamId\r\n    | project-away TeamId1\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"IngestTopKStackTraces_V1","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"TEAMID","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"}]},"$fn_icmclusterlb/0/60":{"id":"$fn_icmclusterlb/0/60","entityType":"Function","body":"{\r\n    GetIncidentTeamAliasPairs_V2(CLUSTER, OWNINGTEAMNAME, DAYS, CUSTOMER_REPORTED)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetIncidentTeamAliasPairs","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CUSTOMER_REPORTED","cslType":"bool","type":"System.SByte"}]},"$fn_icmclusterlb/0/61":{"id":"$fn_icmclusterlb/0/61","entityType":"Function","body":"{\r\n    GetTopKQueries_V5(OWNINGTEAMNAME, K)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetTopKQueries","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/62":{"id":"$fn_icmclusterlb/0/62","entityType":"Function","body":"{ \r\n    GetTopKStackTraces_V4(OWNINGTEAMNAME, K)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetTopKStackTraces","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/63":{"id":"$fn_icmclusterlb/0/63","entityType":"Function","body":"{ \r\n   IngestTopKQueries_V2(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CRI = CRI) \r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"IngestTopKQueries","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"true"}]},"$fn_icmclusterlb/0/64":{"id":"$fn_icmclusterlb/0/64","entityType":"Function","body":"{ \r\n    IngestTopKStackTraces_V2(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CRI = CRI)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"IngestTopKStackTraces","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/0/65":{"id":"$fn_icmclusterlb/0/65","entityType":"Function","body":"{ \r\n    let total = GetIncidentTeamAliasPairs(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CUSTOMER_REPORTED = CRI)\r\n    ;\r\n    let incidents =\r\n        total\r\n        | project IncidentId\r\n    ;\r\n    let miner = cluster(CLUSTER).database(\"Icmanalytics\").IcMinerAll_V7\r\n        | where IncidentId in (incidents) and isnotempty(URL) and URL !~ \"[]\"\r\n    ;\r\n    let joined = total\r\n    | join hint.strategy = shuffle kind = leftouter miner on IncidentId\r\n    | project IncidentId = tolong(IncidentId), URL = todynamic(URL), OwningTenantName, OwningTeamName, TeamId, Alias, IncidentTitle = Title, MonitorId\r\n    | where URL !~ \"[]\"\r\n    | mv-expand URL to typeof(string)\r\n    | extend URL = tolower(URL);\r\n    let safelinks = joined\r\n    | where URL contains_cs \"safelinks\" and URL contains_cs \"_workitems\"\r\n    // Replace URL encoded characters to their original representation\r\n    | extend ExtractedURL = replace(@\"%3f\", \"?\", \r\n        replace(@\"%25\", \"%\", \r\n        replace(@\"%26\", \"&\", \r\n        replace(@\"%3d\", \"=\", \r\n        replace(@\"%23\", \"#\", \r\n        replace(@\"%2f\", \"/\", \r\n        replace(@\"%3a\", \":\", extract(@\"url=([^&]*)\", 1, URL))))))))\r\n    ;\r\n    let nonsafelinks = joined\r\n    | where IncidentId !in (safelinks)\r\n    | where URL contains_cs \"_workitems\"\r\n    | extend ExtractedURL = URL\r\n    ;\r\n    let result = union safelinks, nonsafelinks\r\n    | extend ProjectName = iff(ExtractedURL contains_cs \"dev.azure.com\", \r\n        strcat(extract(@\"https://dev.azure.com/(.*[^/])/_workitems\", 1, ExtractedURL)),\r\n        strcat(extract(@\"https://(.*).visualstudio.com(.*)/_workitems\", 1, ExtractedURL), extract(@\"https://(.*).visualstudio.com(.*)/_workitems\", 2, ExtractedURL))),\r\n        WorkItemId = toint(extract(@\"/(\\d+)/{0,1}$\", 1, ExtractedURL))\r\n    | extend ProjectName = replace(@\"/defaultcollection\", \"\", ProjectName)\r\n    | extend OrganizationName = extract(@\"(\\w+)/{0,1}(\\w+)*\", 1, ProjectName)\r\n    ;\r\n    let TotalIncidentsByTeam =\r\n        result\r\n        | summarize NumIncidents = dcount(IncidentId) by TeamId\r\n    ;\r\n    let WorkItemIds =\r\n        result\r\n        | project WorkItemId\r\n    ;\r\n    let WorkItemsData =\r\n        cluster('1es.kusto.windows.net').database('AzureDevOps').WorkItem\r\n        | where WorkItemId in (WorkItemIds)\r\n        | project-rename WorkItemTitle = Title\r\n    ;\r\n    result\r\n    | join kind = leftouter WorkItemsData on WorkItemId, OrganizationName\r\n    | project IncidentId, OwningTenantName, OwningTeamName, TeamId, Alias, URL, ExtractedURL, ProjectName, OrganizationName, WorkItemId, WorkItemTitle, IncidentTitle, MonitorId\r\n    | sort by IncidentId desc\r\n    | summarize \r\n        NumberOfUniqueOwners = dcount(Alias), \r\n        IncidentsWhereWorkItemAppeared = make_set(IncidentId), \r\n        NumIncidents_WhereWorkItemAppeared = dcount(IncidentId),\r\n        make_set(Alias), \r\n        (LatestIncidentId, LatestWorkItemId, LatestWorkItemTitle, LatestIncidentTitle, LatestIncidentMonitorId) = arg_max(IncidentId, WorkItemId, WorkItemTitle, IncidentTitle, MonitorId)\r\n        by ExtractedURL, OrganizationName, TeamId, OwningTenantName, OwningTeamName\r\n    | join kind = inner TotalIncidentsByTeam on TeamId\r\n    | project-away TeamId1\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"IngestTopKWorkItems_V1","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/0/66":{"id":"$fn_icmclusterlb/0/66","entityType":"Function","body":"{\r\n    let teams = dynamic([\r\n      \"WINDOWSAZUREOPERATIONSCENTER\\\\WindowsAzureOperationsExpressRoute\",\r\n      \"CLOUDNET\\\\ApplicationGatewayOnOpsSVC\",\r\n      \"CLOUDNET\\\\ApplicationGatewayWAFOn-Ops\",\r\n      \"CLOUDNET\\\\NVAinvHub&VirtualRouter\",\r\n      \"CLOUDNET\\\\BrooklynOpsQueue\",\r\n      \"CLOUDNET\\\\VirtualWAN-BrooklynIncidentManager\",\r\n      \"CLOUDNET\\\\NetOpsDriver\",\r\n      \"CLOUDNET\\\\AzureBastion\",\r\n      \"CLOUDNET\\\\ExpressRouteIncidentManager\",\r\n      \"CLOUDNET\\\\BrooklynIncidentManager[DonotassignanyCRIs]\",\r\n      \"CLOUDNET\\\\VirtualWAN\",\r\n      \"CLOUDNET\\\\NetworkingNinjas\",\r\n      \"CLOUDNET\\\\AppGWWAF\",\r\n      \"CLOUDNET\\\\ApplicationGatewayIncidentManager\",\r\n      \"CLOUDNET\\\\GatewayManagerIncidentManager\",\r\n      \"CLOUDNET\\\\GatewayManager\",\r\n      \"CLOUDNET\\\\HybridIncidentManager\",\r\n      \"CLOUDNET\\\\ExpressRouteSupport\",\r\n      \"CLOUDNET\\\\ApplicationGateway\",\r\n      \"CLOUDNET\\\\Brooklyn\",\r\n      \"AZURECLOUDNATIVEFIREWALL\\\\IncidentManager\",\r\n      \"AZURECLOUDNATIVEFIREWALL\\\\CloudNativeFirewallTeam\",\r\n      \"CLOUDIDENTITY\\\\IncidentManager\",\r\n      \"CLOUDIDENTITY\\\\ExecutiveIncidentManager\",\r\n      \"CLOUDIDENTITY\\\\Triage\",\r\n      \"CLOUDIDENTITY\\\\CIDTATriage\",\r\n      \"EOP\\\\InsiderRiskIDC\",\r\n      \"EOP\\\\IntelligenceandReporting\",\r\n      \"EOP\\\\DLPandEncryption\",\r\n      \"EOP\\\\DirectoryandDatabaseInfrastructure\",\r\n      \"EOP\\\\Infrastructure\",\r\n      \"EOP\\\\ThreatIntel\",\r\n      \"EOP\\\\DataLossPrevention(DLP)\",\r\n      \"EOP\\\\Antispam-Platform\",\r\n      \"AZURECOSMOSDB\\\\MongoDBUpgradeRequests(InternalOnly)\",\r\n      \"AZUREDOCUMENTDB\\\\IncidentManager\",\r\n      \"AZURECOSMOSDB\\\\QuotaManagement\",\r\n      \"AZURECOSMOSDB\\\\Interop(Tables)\",\r\n      \"AZURECOSMOSDB\\\\Miscellaneous\",\r\n      \"AZURECOSMOSDB\\\\OSSEcosystem(DMS/DataTransfer/Spark)\",\r\n      \"AZURECOSMOSDB\\\\GremlinInterop\",\r\n      \"AZURECOSMOSDB\\\\SDK\",\r\n      \"AZURECOSMOSDB\\\\ConnectorsAndDataMigration\",\r\n      \"AZURECOSMOSDB\\\\CovidCritical\",\r\n      \"AZURECOSMOSDB\\\\ComputeV2Runtime\",\r\n      \"AZURECOSMOSDB\\\\CustomerEscalations-InternalOnly\",\r\n      \"AZURECOSMOSDB\\\\TransportandNetworkIsolation\",\r\n      \"AZURECOSMOSDB\\\\ControlPlane\",\r\n      \"AZURECOSMOSDB\\\\Computegateway\",\r\n      \"AZURECOSMOSDB\\\\LX\",\r\n      \"AZURECOSMOSDB\\\\CassandraInterop\",\r\n      \"AZURECOSMOSDB\\\\Emulator\",\r\n      \"AZURECOSMOSDB\\\\CustomerQuestions\",\r\n      \"AZURECOSMOSDB\\\\CSS\",\r\n      \"AZURECOSMOSDB\\\\MIforApacheCassandra\",\r\n      \"AZURECOSMOSDB\\\\CosmosDBBarFailures\",\r\n      \"AZURECOSMOSDB\\\\TableandEtcdAPIs\",\r\n      \"AZURECOSMOSDB\\\\Changefeed\",\r\n      \"AZURECOSMOSDB\\\\LivesiteAutomation\",\r\n      \"AZURECOSMOSDB\\\\SQLQuery\",\r\n      \"AZURECOSMOSDB\\\\Accelerator\",\r\n      \"AZURECOSMOSDB\\\\Analytics\",\r\n      \"AZURECOSMOSDB\\\\BackupAndRestore\",\r\n      \"AZURECOSMOSDB\\\\SprocsChangefeedUIndexes\",\r\n      \"AZUREDOCUMENTDB\\\\Monitoring\",\r\n      \"AZURECOSMOSDB\\\\Billing\",\r\n      \"AZURECOSMOSDB\\\\Elasticity\",\r\n      \"AZURECOSMOSDB\\\\EngineeringSystems\",\r\n      \"AZURECOSMOSDB\\\\Availability&StoreSev3\",\r\n      \"AZURECOSMOSDB\\\\Availability&StoreSev2\",\r\n      \"AZURECOSMOSDB\\\\SLO\",\r\n      \"AZURECOSMOSDB\\\\ValidationSystems\",\r\n      \"AZUREDOCUMENTDB\\\\AzureDocumentDBOps\",\r\n      \"AZUREDOCUMENTDB\\\\Portal\",\r\n      \"AZURECOSMOSDB\\\\AzureCosmosDBPMs\",\r\n      \"AZURECOSMOSDB\\\\Supportability\",\r\n      \"AZURECOSMOSDB\\\\PlatformSecurity\",\r\n      \"AZURECOSMOSDB\\\\CertificateManagement\",\r\n      \"AZURECOSMOSDB\\\\MongoInterop\",\r\n      \"AZURECOSMOSDB\\\\PlatformPerformance\",\r\n      \"AZUREDOCUMENTDB\\\\CommunicationManager\",\r\n      \"AZUREDOCUMENTDB\\\\ExecutiveIncidentManager\",\r\n      \"AZUREDOCUMENTDB\\\\DeploymentM\",\r\n      \"AZURECOSMOSDB\\\\Python/Nodejs/JavaScriptSDK\",\r\n      \"AZURECOSMOSDB\\\\ClusterBuildout\",\r\n      \"AZUREDOCUMENTDB\\\\Capacity\",\r\n      \"CLOUDNET\\\\SLB\",\r\n      \"CLOUDNET\\\\NetworkManager\",\r\n      \"CLOUDNET\\\\VNET\",\r\n      \"CLOUDNET\\\\NRP\",\r\n      \"CLOUDNET\\\\RNM\",\r\n      \"CLOUDNET\\\\DDOS\",\r\n      \"CLOUDNET\\\\APSlb\",\r\n      \"CLOUDNET\\\\SDNToolsTeam\",\r\n      \"CLOUDNET\\\\SdnPubSub\",\r\n      \"CLOUDNET\\\\SDN-NRP\",\r\n      \"CLOUDNET\\\\ContainerNetworking\",\r\n      \"CLOUDNET\\\\Networking-RDFE\",\r\n      \"CLOUDNET\\\\PrivateLink_ControlPlane\",\r\n      \"CLOUDNET\\\\BlueBird\"\r\n    ]);\r\n    toscalar(teams)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetOnboardedTeamsToDRIHealthAutoEnrichment","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/67":{"id":"$fn_icmclusterlb/0/67","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKQueries_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumCRIs_WhereQueryAppeared desc\r\n    ;\r\n    topk\r\n    | project LatestQuery, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId), LatestIncidentId, NumCRIs_WhereQueryAppeared, KustoClusterName, KustoDatabaseName, KustoTableName, OwningTenantName, OwningTeamName\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKQueries_V3","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/68":{"id":"$fn_icmclusterlb/0/68","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKQueries_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumCRIs_WhereQueryAppeared desc\r\n    ;\r\n    topk\r\n    | project LatestQuery, KustoClusterName, KustoDatabaseName, KustoTableName, LatestIncidentId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKQueries_V4","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/69":{"id":"$fn_icmclusterlb/0/69","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKStackTraces_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumIncidents_WhereStackTraceAppeared desc\r\n    ;\r\n    topk\r\n    | project ExceptionName, CleanedStackTrace, LatestStackTrace, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId), LatestIncidentId, OwningTenantName, OwningTeamName\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKStackTraces_V2","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/70":{"id":"$fn_icmclusterlb/0/70","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKStackTraces_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumIncidents_WhereStackTraceAppeared desc\r\n    ;\r\n    topk\r\n    | project ExceptionName, LatestStackTrace, LatestIncidentId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKStackTraces_V3","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/71":{"id":"$fn_icmclusterlb/0/71","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKWorkItems_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumIncidents_WhereWorkItemAppeared desc\r\n    ;\r\n    topk\r\n    | project Title, ExtractedURL, OrganizationName, LatestIncidentId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKWorkItems_V1","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/72":{"id":"$fn_icmclusterlb/0/72","entityType":"Function","body":"{ \r\n    let res = GetIncidentTeamAliasPairs(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CUSTOMER_REPORTED = CRI);\r\n    let res2 =\r\n        res\r\n        | join kind = leftouter cluster(CLUSTER).database(\"Icmanalytics\").IcMinerAll_V7 on IncidentId\r\n        | where isnotempty(Query)\r\n        | project IncidentId = tolong(IncidentId), Value = todynamic(Query), TeamId, Alias, OwningTenantName, OwningTeamName, Title, MonitorId\r\n        | mv-expand Value to typeof(string)\r\n            // If IcMMiner has removed the table name, then don't by mistake extract the database name as the table name\r\n        | extend KustoTableName = iif(indexof_regex(Value, \"https://[a-zA-Z\\\\._0-9]*/[a-zA-Z0-9]\\\\s*|\") != -1 , \"\", extract(\"$?\\\\.?([a-zA-Z_0-9]*)\\\\s*\\\\|\", 1, Value))\r\n            // Lower-case the cluster since it's case-insensitive -- will improve match rate\r\n            , KustoClusterName = tolower(coalesce(extract(\"$?cluster\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"https://([a-zA-Z\\\\._0-9]*)/\", 1, Value)))\r\n            , KustoDatabaseName = coalesce(extract(\"database\\\\([\\\"|']([a-zA-Z\\\\._0-9]*)[\\\"|']\\\\)\", 1, Value), extract(\"kusto.windows.net/([a-zA-Z\\\\._0-9]*)\", 1, Value))\r\n            // Add kusto.windows.net to cluster names which don't have it to standardize it.\r\n        | extend KustoClusterName = iif(KustoClusterName !endswith \".kusto.windows.net\" and isnotempty(KustoClusterName), strcat(KustoClusterName, \".kusto.windows.net\"), KustoClusterName)\r\n    ;\r\n    let TotalCRIsByTeam =\r\n        res\r\n        | summarize NumCRIs = dcount(IncidentId) by TeamId\r\n    ;\r\n    res2\r\n    | sort by IncidentId desc\r\n    | summarize \r\n        NumCRIs_WhereQueryAppeared = dcount(IncidentId), \r\n        NumberOfUniqueOwners = dcount(Alias), \r\n        CRIsWhereQueryAppeared = make_set(IncidentId), \r\n        make_set(Alias), \r\n        (LatestIncidentId, LatestQuery, LatestIncidentTitle, LatestIncidentMonitorId) = arg_max(IncidentId, Value, Title, MonitorId)\r\n        by KustoClusterName, KustoDatabaseName, KustoTableName, TeamId, OwningTenantName, OwningTeamName\r\n    | where isnotempty(LatestQuery)\r\n    | extend LatestQuery=replace(\"\\\\|\", \"\\n|\", LatestQuery)\r\n    | join kind = inner TotalCRIsByTeam on TeamId\r\n    | project-away TeamId1\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"IngestTopKQueries_V2","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"true"}]},"$fn_icmclusterlb/0/73":{"id":"$fn_icmclusterlb/0/73","entityType":"Function","body":"{ \r\n    let res = GetIncidentTeamAliasPairs(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CUSTOMER_REPORTED = CRI);\r\n    let res2 =\r\n        res\r\n        | join kind = leftouter cluster(CLUSTER).database(\"Icmanalytics\").IcMinerAll_V7 on IncidentId\r\n        | project IncidentId = tolong(IncidentId), StackTrace = todynamic(StackTrace), OwningTenantName, OwningTeamName, TeamId, Alias, Title, MonitorId\r\n        | mv-expand StackTrace to typeof(string) // Convert json string array to individual rows\r\n        | where isnotempty(StackTrace)\r\n        | extend StackTrace = split(StackTrace, \"-->\") // Split stack traces if multiple\r\n        | mv-expand StackTrace to typeof(string)\r\n        | extend StackTrace = trim(@\"^([^a-zA-Z\\d]*)|([^a-zA-Z\\d]*)$\", StackTrace)//, // Remove trailing / Leading whitespaces or misc characters\r\n            // CleanedStackTrace = tolower(StackTrace) // Force lowercase to begin clean\r\n        | extend CleanedStackTrace = extract(@\":\\s{0,1}(.*)\", 1, // Extract cleaned stack trace message after cleaning\r\n            replace(@\"[https:]*\\/(.*)\\/[\\w-]*\", @\"[ROUTE]\", \r\n            replace(@\"[[:xdigit:]]{8}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{4}-[[:xdigit:]]{12}\", @\"GUID\", StackTrace))), // Clean GUID and any resource routes if existing\r\n            ExceptionName = strcat(extract(@\"^(.*?)(?i)(exception):\", 1, StackTrace), \"Exception\") // Extract the exception name\r\n        | project IncidentId, TeamId, Alias, StackTrace, CleanedStackTrace, ExceptionName, OwningTenantName, OwningTeamName, Title, MonitorId\r\n    ;\r\n    let reduction =\r\n        res2\r\n        | reduce by CleanedStackTrace with threshold=0.5\r\n        | where Pattern != \"others\"\r\n    ;\r\n    let TotalIncidentsByTeam =\r\n        res\r\n        | summarize NumIncidents = dcount(IncidentId) by TeamId\r\n    ;\r\n    let res3 = \r\n        reduction\r\n        | project-rename CleanedStackTrace = Representative\r\n        | join kind = inner res2 on CleanedStackTrace\r\n        | project-away CleanedStackTrace1\r\n        | order by Count\r\n    ;\r\n    res3\r\n    | sort by IncidentId desc\r\n    | summarize \r\n        NumberOfUniqueOwners = dcount(Alias), \r\n        IncidentsWhereStackTraceAppeared = make_set(IncidentId), \r\n        NumIncidents_WhereStackTraceAppeared = dcount(IncidentId),\r\n        make_set(Alias), \r\n        (LatestIncidentId, LatestStackTrace, LatestIncidentTitle, LatestIncidentMonitorId) = arg_max(IncidentId, StackTrace, Title, MonitorId)\r\n        by ExceptionName, Count, CleanedStackTrace, TeamId, OwningTeamName, OwningTenantName\r\n    | project-rename NumTotalOccurrances = Count\r\n    | where isnotempty(LatestStackTrace)\r\n    | where ExceptionName !~ \"Exception\" and ExceptionName !~ \"System.AggregateException\"\r\n    | join kind = inner TotalIncidentsByTeam on TeamId\r\n    | project-away TeamId1\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"IngestTopKStackTraces_V2","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/0/74":{"id":"$fn_icmclusterlb/0/74","entityType":"Function","body":"{\r\n    GetTopKWorkItems_V2(OWNINGTEAMNAME, K)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetTopKWorkItems","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/75":{"id":"$fn_icmclusterlb/0/75","entityType":"Function","body":"{\r\n    strcat(\"https://portal.microsofticm.com/imp/v3/incidents/details/\", IncidentId, \"/home\")\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"GetUrlFromIncidentId","outputColumns":[],"inputParameters":[{"name":"IncidentId","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/0/76":{"id":"$fn_icmclusterlb/0/76","entityType":"Function","body":"{ \r\n    IngestTopKWorkItems_V1(CLUSTER = CLUSTER, OWNINGTEAMNAME = OWNINGTEAMNAME, DAYS = DAYS, CRI = CRI)\r\n}","folder":"DriHealth/AutoEnrichment","functionKind":"UnknownFunction","name":"IngestTopKWorkItems","outputColumns":[],"inputParameters":[{"name":"CLUSTER","cslType":"string","type":"System.String"},{"name":"OWNINGTEAMNAME","cslType":"dynamic","type":"System.Object"},{"name":"DAYS","cslType":"timespan","type":"System.TimeSpan"},{"name":"CRI","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/0/77":{"id":"$fn_icmclusterlb/0/77","entityType":"Function","body":"{\r\nDRIHealthSurvey_Processed_V3\r\n| where SurveyTime > datetime(2020-08-07 18:46:34.1410000) // this is the datetime that testing was going on.\r\n}","docstring":"This function gets the scores required for NSAT for the DRI Health Survey, and raw verbatims","folder":"DriHealth/DriHealthSurvey/Versions","functionKind":"UnknownFunction","name":"Get_DRIHealthSurvey_V2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/0/78":{"id":"$fn_icmclusterlb/0/78","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKQueries_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumCRIs_WhereQueryAppeared desc\r\n    ;\r\n    topk\r\n    | project LatestQuery, KustoClusterName, KustoDatabaseName, KustoTableName, LatestIncidentId, LatestIncidentMonitorId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId), LatestIncidentTitle = substring(LatestIncidentTitle, 0, 200)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKQueries_V5","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/79":{"id":"$fn_icmclusterlb/0/79","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKStackTraces_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumIncidents_WhereStackTraceAppeared desc\r\n    ;\r\n    topk\r\n    | project ExceptionName, LatestStackTrace, LatestIncidentId, LatestIncidentMonitorId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId), LatestIncidentTitle = substring(LatestIncidentTitle, 0, 200)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKStackTraces_V4","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/80":{"id":"$fn_icmclusterlb/0/80","entityType":"Function","body":"{\r\n    let topk = AutoEnrichment_TopKWorkItems_V2\r\n    | where OwningTeamName =~ OWNINGTEAMNAME\r\n    | top K by NumIncidents_WhereWorkItemAppeared desc\r\n    ;\r\n    topk\r\n    | project LatestWorkItemTitle, ExtractedURL, OrganizationName, LatestIncidentId, LatestIncidentMonitorId, LatestIncidentLink=GetUrlFromIncidentId(LatestIncidentId), LatestIncidentTitle = substring(LatestIncidentTitle, 0, 200)\r\n}","folder":"DriHealth/AutoEnrichment/Versions","functionKind":"UnknownFunction","name":"GetTopKWorkItems_V2","outputColumns":[],"inputParameters":[{"name":"OWNINGTEAMNAME","cslType":"string","type":"System.String"},{"name":"K","cslType":"int","type":"System.Int32","cslDefaultValue":"5"}]},"$fn_icmclusterlb/0/81":{"id":"$fn_icmclusterlb/0/81","entityType":"Function","body":"{\nlet enabledTenants = cluster('icmclusterbackup').database(\"IcmDataWarehouse\").Tenants\n| summarize arg_max(Lens_IngestionTime, *) by TenantId\n| where (IsCorrelationRuleAutoTuneEnabled == true and IsTombstoned == false) or TenantId in (10144, 22667, 20692, 10044);\ncluster('icmclusterbackup').database('Icmanalytics').VolumeInsights_CreationDateWindow\n| where IsRecommendationFound == true\n| join kind =inner enabledTenants on $left.OwningTenantId == $right.TenantId\n| summarize arg_max(ComputeTime,*) by CorrelationRuleId\n| project CorrelationRuleId, OldCreationDateWindow, NewCreationDateWindow, OwningTeamId, OwningTenantId, FrontEndCategoryId, ComputeTime, IsCorrelationRuleAutoTuneEnabled, IsRecommendationFound\n}","docstring":"CorrelationWindow Auto-Tune Workflow Function","folder":"AutoTuneWorkflow","functionKind":"UnknownFunction","name":"GetCorrelationWindowAutoTuneList","outputColumns":[],"inputParameters":[]}},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":86,"majorVersion":88722},"icmclusterlb/IcMDataWarehouse":{"id":"icmclusterlb/IcMDataWarehouse","name":"IcMDataWarehouse","prettyName":"IcmDataWarehouse","fetchState":"done","fetchStateError":"","tables":{"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step1":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step1","entityType":"Table","name":"temp_backfill_82924b_step1","columns":{"icmclusterlb/1/0/0":{"id":"icmclusterlb/1/0/0","name":"InternalId","entityType":"Column","type":"long"},"icmclusterlb/1/0/1":{"id":"icmclusterlb/1/0/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/0/2":{"id":"icmclusterlb/1/0/2","name":"Version","entityType":"Column","type":"long"},"icmclusterlb/1/0/3":{"id":"icmclusterlb/1/0/3","name":"EventTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/0/4":{"id":"icmclusterlb/1/0/4","name":"SchemaVersion","entityType":"Column","type":"long"},"icmclusterlb/1/0/5":{"id":"icmclusterlb/1/0/5","name":"Revision","entityType":"Column","type":"long"},"icmclusterlb/1/0/6":{"id":"icmclusterlb/1/0/6","name":"Originator","entityType":"Column","type":"string"},"icmclusterlb/1/0/7":{"id":"icmclusterlb/1/0/7","name":"PayloadType","entityType":"Column","type":"string"},"icmclusterlb/1/0/8":{"id":"icmclusterlb/1/0/8","name":"Payload","entityType":"Column","type":"dynamic"},"icmclusterlb/1/0/9":{"id":"icmclusterlb/1/0/9","name":"ETag","entityType":"Column","type":"string"},"icmclusterlb/1/0/10":{"id":"icmclusterlb/1/0/10","name":"TimeStamp","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/IncidentDescriptions":{"id":"icmclusterlb/IcMDataWarehouse/IncidentDescriptions","entityType":"Table","name":"IncidentDescriptions","columns":{"icmclusterlb/1/1/0":{"id":"icmclusterlb/1/1/0","name":"DescriptionId","entityType":"Column","type":"long"},"icmclusterlb/1/1/1":{"id":"icmclusterlb/1/1/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/1/2":{"id":"icmclusterlb/1/1/2","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/1/3":{"id":"icmclusterlb/1/1/3","name":"Date","entityType":"Column","type":"datetime"},"icmclusterlb/1/1/4":{"id":"icmclusterlb/1/1/4","name":"ChangedBy","entityType":"Column","type":"string"},"icmclusterlb/1/1/5":{"id":"icmclusterlb/1/1/5","name":"Text","entityType":"Column","type":"string"},"icmclusterlb/1/1/6":{"id":"icmclusterlb/1/1/6","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/1/7":{"id":"icmclusterlb/1/1/7","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/1/8":{"id":"icmclusterlb/1/1/8","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/1/9":{"id":"icmclusterlb/1/1/9","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/1/10":{"id":"icmclusterlb/1/1/10","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/1/11":{"id":"icmclusterlb/1/1/11","name":"IsHtml","entityType":"Column","type":"bool"},"icmclusterlb/1/1/12":{"id":"icmclusterlb/1/1/12","name":"IsFromConnector","entityType":"Column","type":"bool"},"icmclusterlb/1/1/13":{"id":"icmclusterlb/1/1/13","name":"Cause","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PublicPirRequests":{"id":"icmclusterlb/IcMDataWarehouse/PublicPirRequests","entityType":"Table","name":"PublicPirRequests","columns":{"icmclusterlb/1/2/0":{"id":"icmclusterlb/1/2/0","name":"RequestId","entityType":"Column","type":"dynamic"},"icmclusterlb/1/2/1":{"id":"icmclusterlb/1/2/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/2/2":{"id":"icmclusterlb/1/2/2","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/2/3":{"id":"icmclusterlb/1/2/3","name":"RequesterEmailAddress","entityType":"Column","type":"string"},"icmclusterlb/1/2/4":{"id":"icmclusterlb/1/2/4","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/2/5":{"id":"icmclusterlb/1/2/5","name":"RequestSendDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/2/6":{"id":"icmclusterlb/1/2/6","name":"LastPublishDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/2/7":{"id":"icmclusterlb/1/2/7","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/2/8":{"id":"icmclusterlb/1/2/8","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/2/9":{"id":"icmclusterlb/1/2/9","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/2/10":{"id":"icmclusterlb/1/2/10","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/2/11":{"id":"icmclusterlb/1/2/11","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/2/12":{"id":"icmclusterlb/1/2/12","name":"RequestIdNew","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/TeamSiloRotationMap":{"id":"icmclusterlb/IcMDataWarehouse/TeamSiloRotationMap","entityType":"Table","name":"TeamSiloRotationMap","columns":{"icmclusterlb/1/3/0":{"id":"icmclusterlb/1/3/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/3/1":{"id":"icmclusterlb/1/3/1","name":"SourceTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/3/2":{"id":"icmclusterlb/1/3/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/3/3":{"id":"icmclusterlb/1/3/3","name":"TargetTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/3/4":{"id":"icmclusterlb/1/3/4","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/3/5":{"id":"icmclusterlb/1/3/5","name":"OwningServiceId","entityType":"Column","type":"long"},"icmclusterlb/1/3/6":{"id":"icmclusterlb/1/3/6","name":"IsTombStoned","entityType":"Column","type":"bool"},"icmclusterlb/1/3/7":{"id":"icmclusterlb/1/3/7","name":"CreateTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/3/8":{"id":"icmclusterlb/1/3/8","name":"ModifiedTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/3/9":{"id":"icmclusterlb/1/3/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/3/10":{"id":"icmclusterlb/1/3/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/3/11":{"id":"icmclusterlb/1/3/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/3/12":{"id":"icmclusterlb/1/3/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/3/13":{"id":"icmclusterlb/1/3/13","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamLevelAutoBridgeRules":{"id":"icmclusterlb/IcMDataWarehouse/TeamLevelAutoBridgeRules","entityType":"Table","name":"TeamLevelAutoBridgeRules","columns":{"icmclusterlb/1/4/0":{"id":"icmclusterlb/1/4/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/4/1":{"id":"icmclusterlb/1/4/1","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/4/2":{"id":"icmclusterlb/1/4/2","name":"AutoBridgeSetting","entityType":"Column","type":"string"},"icmclusterlb/1/4/3":{"id":"icmclusterlb/1/4/3","name":"AutoBridgeRules","entityType":"Column","type":"string"},"icmclusterlb/1/4/4":{"id":"icmclusterlb/1/4/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/4/5":{"id":"icmclusterlb/1/4/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/4/6":{"id":"icmclusterlb/1/4/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/4/7":{"id":"icmclusterlb/1/4/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/4/8":{"id":"icmclusterlb/1/4/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/4/9":{"id":"icmclusterlb/1/4/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/4/10":{"id":"icmclusterlb/1/4/10","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/TenantsSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/TenantsSnapshot_V1_Backup","entityType":"Table","name":"TenantsSnapshot_V1_Backup","columns":{"icmclusterlb/1/5/0":{"id":"icmclusterlb/1/5/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/5/1":{"id":"icmclusterlb/1/5/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/5/2":{"id":"icmclusterlb/1/5/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/5/3":{"id":"icmclusterlb/1/5/3","name":"PublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/5/4":{"id":"icmclusterlb/1/5/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/5/5":{"id":"icmclusterlb/1/5/5","name":"Silo","entityType":"Column","type":"string"},"icmclusterlb/1/5/6":{"id":"icmclusterlb/1/5/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/5/7":{"id":"icmclusterlb/1/5/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/5/8":{"id":"icmclusterlb/1/5/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/5/9":{"id":"icmclusterlb/1/5/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/5/10":{"id":"icmclusterlb/1/5/10","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/5/11":{"id":"icmclusterlb/1/5/11","name":"SupportedSilos","entityType":"Column","type":"string"},"icmclusterlb/1/5/12":{"id":"icmclusterlb/1/5/12","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/5/13":{"id":"icmclusterlb/1/5/13","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/5/14":{"id":"icmclusterlb/1/5/14","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/5/15":{"id":"icmclusterlb/1/5/15","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/5/16":{"id":"icmclusterlb/1/5/16","name":"IncidentAccessSettings","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/RoutingRules":{"id":"icmclusterlb/IcMDataWarehouse/RoutingRules","entityType":"Table","name":"RoutingRules","columns":{"icmclusterlb/1/6/0":{"id":"icmclusterlb/1/6/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/6/1":{"id":"icmclusterlb/1/6/1","name":"RoutingRules","entityType":"Column","type":"string"},"icmclusterlb/1/6/2":{"id":"icmclusterlb/1/6/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/6/3":{"id":"icmclusterlb/1/6/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/6/4":{"id":"icmclusterlb/1/6/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/6/5":{"id":"icmclusterlb/1/6/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/6/6":{"id":"icmclusterlb/1/6/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/6/7":{"id":"icmclusterlb/1/6/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/6/8":{"id":"icmclusterlb/1/6/8","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/PurgedIncidentsWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/PurgedIncidentsWithoutIngestionTime","entityType":"Table","name":"PurgedIncidentsWithoutIngestionTime","columns":{"icmclusterlb/1/7/0":{"id":"icmclusterlb/1/7/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/7/1":{"id":"icmclusterlb/1/7/1","name":"IncidentId1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Connectors":{"id":"icmclusterlb/IcMDataWarehouse/Connectors","entityType":"Table","name":"Connectors","columns":{"icmclusterlb/1/8/0":{"id":"icmclusterlb/1/8/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/8/1":{"id":"icmclusterlb/1/8/1","name":"ConnectorId","entityType":"Column","type":"guid"},"icmclusterlb/1/8/2":{"id":"icmclusterlb/1/8/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/8/3":{"id":"icmclusterlb/1/8/3","name":"IsEnabled","entityType":"Column","type":"bool"},"icmclusterlb/1/8/4":{"id":"icmclusterlb/1/8/4","name":"AlertSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/8/5":{"id":"icmclusterlb/1/8/5","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/8/6":{"id":"icmclusterlb/1/8/6","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/8/7":{"id":"icmclusterlb/1/8/7","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/8/8":{"id":"icmclusterlb/1/8/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/8/9":{"id":"icmclusterlb/1/8/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/8/10":{"id":"icmclusterlb/1/8/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/8/11":{"id":"icmclusterlb/1/8/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/8/12":{"id":"icmclusterlb/1/8/12","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/8/13":{"id":"icmclusterlb/1/8/13","name":"AlertSourceInstance","entityType":"Column","type":"string"},"icmclusterlb/1/8/14":{"id":"icmclusterlb/1/8/14","name":"HasSAN","entityType":"Column","type":"bool"},"icmclusterlb/1/8/15":{"id":"icmclusterlb/1/8/15","name":"AdditionalProperties","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PublicPIRs":{"id":"icmclusterlb/IcMDataWarehouse/PublicPIRs","entityType":"Table","name":"PublicPIRs","columns":{"icmclusterlb/1/9/0":{"id":"icmclusterlb/1/9/0","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/9/1":{"id":"icmclusterlb/1/9/1","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/9/2":{"id":"icmclusterlb/1/9/2","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/9/3":{"id":"icmclusterlb/1/9/3","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/9/4":{"id":"icmclusterlb/1/9/4","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/9/5":{"id":"icmclusterlb/1/9/5","name":"OwnerContactName","entityType":"Column","type":"string"},"icmclusterlb/1/9/6":{"id":"icmclusterlb/1/9/6","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/9/7":{"id":"icmclusterlb/1/9/7","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/9/8":{"id":"icmclusterlb/1/9/8","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/9/9":{"id":"icmclusterlb/1/9/9","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/9/10":{"id":"icmclusterlb/1/9/10","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/9/11":{"id":"icmclusterlb/1/9/11","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/9/12":{"id":"icmclusterlb/1/9/12","name":"ServicesImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/9/13":{"id":"icmclusterlb/1/9/13","name":"IncidentStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/14":{"id":"icmclusterlb/1/9/14","name":"ServiceRestoredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/15":{"id":"icmclusterlb/1/9/15","name":"CustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/9/16":{"id":"icmclusterlb/1/9/16","name":"Workaround","entityType":"Column","type":"string"},"icmclusterlb/1/9/17":{"id":"icmclusterlb/1/9/17","name":"AffectedSubRegions","entityType":"Column","type":"string"},"icmclusterlb/1/9/18":{"id":"icmclusterlb/1/9/18","name":"RootCauseDescription","entityType":"Column","type":"string"},"icmclusterlb/1/9/19":{"id":"icmclusterlb/1/9/19","name":"NextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/9/20":{"id":"icmclusterlb/1/9/20","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/21":{"id":"icmclusterlb/1/9/21","name":"LastModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/9/22":{"id":"icmclusterlb/1/9/22","name":"AdditionalTimeFields","entityType":"Column","type":"string"},"icmclusterlb/1/9/23":{"id":"icmclusterlb/1/9/23","name":"SendPublishNotification","entityType":"Column","type":"bool"},"icmclusterlb/1/9/24":{"id":"icmclusterlb/1/9/24","name":"LastPublishedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/25":{"id":"icmclusterlb/1/9/25","name":"LastRequestApprovalDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/26":{"id":"icmclusterlb/1/9/26","name":"LastApprovedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/27":{"id":"icmclusterlb/1/9/27","name":"LastRejectDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/28":{"id":"icmclusterlb/1/9/28","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/29":{"id":"icmclusterlb/1/9/29","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/9/30":{"id":"icmclusterlb/1/9/30","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/9/31":{"id":"icmclusterlb/1/9/31","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/9/32":{"id":"icmclusterlb/1/9/32","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/9/33":{"id":"icmclusterlb/1/9/33","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PirHistory":{"id":"icmclusterlb/IcMDataWarehouse/PirHistory","entityType":"Table","name":"PirHistory","columns":{"icmclusterlb/1/10/0":{"id":"icmclusterlb/1/10/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/10/1":{"id":"icmclusterlb/1/10/1","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/10/2":{"id":"icmclusterlb/1/10/2","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/10/3":{"id":"icmclusterlb/1/10/3","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/10/4":{"id":"icmclusterlb/1/10/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/5":{"id":"icmclusterlb/1/10/5","name":"ReportCreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/6":{"id":"icmclusterlb/1/10/6","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/7":{"id":"icmclusterlb/1/10/7","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/8":{"id":"icmclusterlb/1/10/8","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/9":{"id":"icmclusterlb/1/10/9","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/10":{"id":"icmclusterlb/1/10/10","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/11":{"id":"icmclusterlb/1/10/11","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/12":{"id":"icmclusterlb/1/10/12","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/13":{"id":"icmclusterlb/1/10/13","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/14":{"id":"icmclusterlb/1/10/14","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/15":{"id":"icmclusterlb/1/10/15","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/16":{"id":"icmclusterlb/1/10/16","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/17":{"id":"icmclusterlb/1/10/17","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/18":{"id":"icmclusterlb/1/10/18","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/19":{"id":"icmclusterlb/1/10/19","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/20":{"id":"icmclusterlb/1/10/20","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/10/21":{"id":"icmclusterlb/1/10/21","name":"PirId","entityType":"Column","type":"long"},"icmclusterlb/1/10/22":{"id":"icmclusterlb/1/10/22","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/10/23":{"id":"icmclusterlb/1/10/23","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/10/24":{"id":"icmclusterlb/1/10/24","name":"ReportOwnerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/10/25":{"id":"icmclusterlb/1/10/25","name":"IncidentManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/10/26":{"id":"icmclusterlb/1/10/26","name":"CommunicationsManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/10/27":{"id":"icmclusterlb/1/10/27","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/10/28":{"id":"icmclusterlb/1/10/28","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/10/29":{"id":"icmclusterlb/1/10/29","name":"SreOrSeContactId","entityType":"Column","type":"long"},"icmclusterlb/1/10/30":{"id":"icmclusterlb/1/10/30","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/10/31":{"id":"icmclusterlb/1/10/31","name":"ReportStatus","entityType":"Column","type":"string"},"icmclusterlb/1/10/32":{"id":"icmclusterlb/1/10/32","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/10/33":{"id":"icmclusterlb/1/10/33","name":"CustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/10/34":{"id":"icmclusterlb/1/10/34","name":"ReportTitle","entityType":"Column","type":"string"},"icmclusterlb/1/10/35":{"id":"icmclusterlb/1/10/35","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/10/36":{"id":"icmclusterlb/1/10/36","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/10/37":{"id":"icmclusterlb/1/10/37","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/10/38":{"id":"icmclusterlb/1/10/38","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/10/39":{"id":"icmclusterlb/1/10/39","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/10/40":{"id":"icmclusterlb/1/10/40","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/10/41":{"id":"icmclusterlb/1/10/41","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/42":{"id":"icmclusterlb/1/10/42","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/43":{"id":"icmclusterlb/1/10/43","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/44":{"id":"icmclusterlb/1/10/44","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/45":{"id":"icmclusterlb/1/10/45","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/10/46":{"id":"icmclusterlb/1/10/46","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/10/47":{"id":"icmclusterlb/1/10/47","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/10/48":{"id":"icmclusterlb/1/10/48","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/10/49":{"id":"icmclusterlb/1/10/49","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/50":{"id":"icmclusterlb/1/10/50","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/51":{"id":"icmclusterlb/1/10/51","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/52":{"id":"icmclusterlb/1/10/52","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/53":{"id":"icmclusterlb/1/10/53","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/54":{"id":"icmclusterlb/1/10/54","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/10/55":{"id":"icmclusterlb/1/10/55","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/10/56":{"id":"icmclusterlb/1/10/56","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/10/57":{"id":"icmclusterlb/1/10/57","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/10/58":{"id":"icmclusterlb/1/10/58","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/10/59":{"id":"icmclusterlb/1/10/59","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/60":{"id":"icmclusterlb/1/10/60","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/61":{"id":"icmclusterlb/1/10/61","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/10/62":{"id":"icmclusterlb/1/10/62","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/10/63":{"id":"icmclusterlb/1/10/63","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/10/64":{"id":"icmclusterlb/1/10/64","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/10/65":{"id":"icmclusterlb/1/10/65","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/10/66":{"id":"icmclusterlb/1/10/66","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/10/67":{"id":"icmclusterlb/1/10/67","name":"AssignedDevId","entityType":"Column","type":"long"},"icmclusterlb/1/10/68":{"id":"icmclusterlb/1/10/68","name":"AssignedPMId","entityType":"Column","type":"long"},"icmclusterlb/1/10/69":{"id":"icmclusterlb/1/10/69","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/70":{"id":"icmclusterlb/1/10/70","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/10/71":{"id":"icmclusterlb/1/10/71","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/10/72":{"id":"icmclusterlb/1/10/72","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/10/73":{"id":"icmclusterlb/1/10/73","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/10/74":{"id":"icmclusterlb/1/10/74","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/10/75":{"id":"icmclusterlb/1/10/75","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/10/76":{"id":"icmclusterlb/1/10/76","name":"ExecutiveIncidentManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/10/77":{"id":"icmclusterlb/1/10/77","name":"AirOImpact","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentCustomFieldEntriesSnapshotStat":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentCustomFieldEntriesSnapshotStat","entityType":"Table","name":"Temp_CosmosIncidentCustomFieldEntriesSnapshotStat","columns":{"icmclusterlb/1/11/0":{"id":"icmclusterlb/1/11/0","name":"Count","entityType":"Column","type":"long"},"icmclusterlb/1/11/1":{"id":"icmclusterlb/1/11/1","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/11/2":{"id":"icmclusterlb/1/11/2","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}},"docstring":"Created based on Temp_CosmosIncidentCustomFieldEntriesSnapshotStat"},"icmclusterlb/IcMDataWarehouse/TeamsWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/TeamsWithoutIngestionTime","entityType":"Table","name":"TeamsWithoutIngestionTime","columns":{"icmclusterlb/1/12/0":{"id":"icmclusterlb/1/12/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/12/1":{"id":"icmclusterlb/1/12/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/12/2":{"id":"icmclusterlb/1/12/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/12/3":{"id":"icmclusterlb/1/12/3","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/12/4":{"id":"icmclusterlb/1/12/4","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/12/5":{"id":"icmclusterlb/1/12/5","name":"PublicTeamId","entityType":"Column","type":"string"},"icmclusterlb/1/12/6":{"id":"icmclusterlb/1/12/6","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/12/7":{"id":"icmclusterlb/1/12/7","name":"CreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/12/8":{"id":"icmclusterlb/1/12/8","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/12/9":{"id":"icmclusterlb/1/12/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/12/10":{"id":"icmclusterlb/1/12/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/12/11":{"id":"icmclusterlb/1/12/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/12/12":{"id":"icmclusterlb/1/12/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/12/13":{"id":"icmclusterlb/1/12/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/12/14":{"id":"icmclusterlb/1/12/14","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/12/15":{"id":"icmclusterlb/1/12/15","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/1/12/16":{"id":"icmclusterlb/1/12/16","name":"AliasDomain","entityType":"Column","type":"string"},"icmclusterlb/1/12/17":{"id":"icmclusterlb/1/12/17","name":"ReferencedTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/12/18":{"id":"icmclusterlb/1/12/18","name":"AllowIncidentAssignment","entityType":"Column","type":"bool"},"icmclusterlb/1/12/19":{"id":"icmclusterlb/1/12/19","name":"AllowRequestAssistance","entityType":"Column","type":"bool"},"icmclusterlb/1/12/20":{"id":"icmclusterlb/1/12/20","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/12/21":{"id":"icmclusterlb/1/12/21","name":"PhoneCallDayTimeRestrictions","entityType":"Column","type":"string"},"icmclusterlb/1/12/22":{"id":"icmclusterlb/1/12/22","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/12/23":{"id":"icmclusterlb/1/12/23","name":"EligibleAsIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/12/24":{"id":"icmclusterlb/1/12/24","name":"EligibleAsExecutiveIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/12/25":{"id":"icmclusterlb/1/12/25","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/12/26":{"id":"icmclusterlb/1/12/26","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/12/27":{"id":"icmclusterlb/1/12/27","name":"RequestAssistanceSetting","entityType":"Column","type":"string"},"icmclusterlb/1/12/28":{"id":"icmclusterlb/1/12/28","name":"IsPrivate","entityType":"Column","type":"bool"},"icmclusterlb/1/12/29":{"id":"icmclusterlb/1/12/29","name":"AutoCorrelationConfigOverrideService","entityType":"Column","type":"bool"},"icmclusterlb/1/12/30":{"id":"icmclusterlb/1/12/30","name":"IncidentAccessSettings","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TenantSilos":{"id":"icmclusterlb/IcMDataWarehouse/TenantSilos","entityType":"Table","name":"TenantSilos","columns":{"icmclusterlb/1/13/0":{"id":"icmclusterlb/1/13/0","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/13/1":{"id":"icmclusterlb/1/13/1","name":"Name","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamMemberships":{"id":"icmclusterlb/IcMDataWarehouse/TeamMemberships","entityType":"Table","name":"TeamMemberships","columns":{"icmclusterlb/1/14/0":{"id":"icmclusterlb/1/14/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/14/1":{"id":"icmclusterlb/1/14/1","name":"ContactId","entityType":"Column","type":"long"},"icmclusterlb/1/14/2":{"id":"icmclusterlb/1/14/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/14/3":{"id":"icmclusterlb/1/14/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/14/4":{"id":"icmclusterlb/1/14/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/14/5":{"id":"icmclusterlb/1/14/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/14/6":{"id":"icmclusterlb/1/14/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/14/7":{"id":"icmclusterlb/1/14/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamMembership":{"id":"icmclusterlb/IcMDataWarehouse/TeamMembership","entityType":"Table","name":"TeamMembership","columns":{"icmclusterlb/1/15/0":{"id":"icmclusterlb/1/15/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/15/1":{"id":"icmclusterlb/1/15/1","name":"Members","entityType":"Column","type":"string"},"icmclusterlb/1/15/2":{"id":"icmclusterlb/1/15/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/15/3":{"id":"icmclusterlb/1/15/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/15/4":{"id":"icmclusterlb/1/15/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/15/5":{"id":"icmclusterlb/1/15/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/15/6":{"id":"icmclusterlb/1/15/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/15/7":{"id":"icmclusterlb/1/15/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentsSnapshotStat":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentsSnapshotStat","entityType":"Table","name":"Temp_CosmosIncidentsSnapshotStat","columns":{"icmclusterlb/1/16/0":{"id":"icmclusterlb/1/16/0","name":"Count","entityType":"Column","type":"long"},"icmclusterlb/1/16/1":{"id":"icmclusterlb/1/16/1","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/16/2":{"id":"icmclusterlb/1/16/2","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/16/3":{"id":"icmclusterlb/1/16/3","name":"IsPurged","entityType":"Column","type":"bool"}},"docstring":"Created based on Temp_CosmosIncidentsSnapshotStat"},"icmclusterlb/IcMDataWarehouse/PostIncidentReportsSnapshot_V1_Current":{"id":"icmclusterlb/IcMDataWarehouse/PostIncidentReportsSnapshot_V1_Current","entityType":"Table","name":"PostIncidentReportsSnapshot_V1_Current","columns":{"icmclusterlb/1/17/0":{"id":"icmclusterlb/1/17/0","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/17/1":{"id":"icmclusterlb/1/17/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/2":{"id":"icmclusterlb/1/17/2","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/17/3":{"id":"icmclusterlb/1/17/3","name":"CreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/4":{"id":"icmclusterlb/1/17/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/5":{"id":"icmclusterlb/1/17/5","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/17/6":{"id":"icmclusterlb/1/17/6","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/17/7":{"id":"icmclusterlb/1/17/7","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/17/8":{"id":"icmclusterlb/1/17/8","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/17/9":{"id":"icmclusterlb/1/17/9","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/17/10":{"id":"icmclusterlb/1/17/10","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/17/11":{"id":"icmclusterlb/1/17/11","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/17/12":{"id":"icmclusterlb/1/17/12","name":"FeatureTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/17/13":{"id":"icmclusterlb/1/17/13","name":"ReportOwnerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/17/14":{"id":"icmclusterlb/1/17/14","name":"SreOrSeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/17/15":{"id":"icmclusterlb/1/17/15","name":"IncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/17/16":{"id":"icmclusterlb/1/17/16","name":"CommunicationsManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/17/17":{"id":"icmclusterlb/1/17/17","name":"LiveSiteIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/17/18":{"id":"icmclusterlb/1/17/18","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/17/19":{"id":"icmclusterlb/1/17/19","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/17/20":{"id":"icmclusterlb/1/17/20","name":"IncidentRaisedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/21":{"id":"icmclusterlb/1/17/21","name":"CreationIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/17/22":{"id":"icmclusterlb/1/17/22","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/17/23":{"id":"icmclusterlb/1/17/23","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/17/24":{"id":"icmclusterlb/1/17/24","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/17/25":{"id":"icmclusterlb/1/17/25","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/17/26":{"id":"icmclusterlb/1/17/26","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/17/27":{"id":"icmclusterlb/1/17/27","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/17/28":{"id":"icmclusterlb/1/17/28","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/17/29":{"id":"icmclusterlb/1/17/29","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/17/30":{"id":"icmclusterlb/1/17/30","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/17/31":{"id":"icmclusterlb/1/17/31","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/17/32":{"id":"icmclusterlb/1/17/32","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/17/33":{"id":"icmclusterlb/1/17/33","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/17/34":{"id":"icmclusterlb/1/17/34","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/17/35":{"id":"icmclusterlb/1/17/35","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/36":{"id":"icmclusterlb/1/17/36","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/37":{"id":"icmclusterlb/1/17/37","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/38":{"id":"icmclusterlb/1/17/38","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/39":{"id":"icmclusterlb/1/17/39","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/40":{"id":"icmclusterlb/1/17/40","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/41":{"id":"icmclusterlb/1/17/41","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/42":{"id":"icmclusterlb/1/17/42","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/43":{"id":"icmclusterlb/1/17/43","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/44":{"id":"icmclusterlb/1/17/44","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/45":{"id":"icmclusterlb/1/17/45","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/46":{"id":"icmclusterlb/1/17/46","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/47":{"id":"icmclusterlb/1/17/47","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/48":{"id":"icmclusterlb/1/17/48","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/49":{"id":"icmclusterlb/1/17/49","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/50":{"id":"icmclusterlb/1/17/50","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/51":{"id":"icmclusterlb/1/17/51","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/52":{"id":"icmclusterlb/1/17/52","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/53":{"id":"icmclusterlb/1/17/53","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/54":{"id":"icmclusterlb/1/17/54","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/55":{"id":"icmclusterlb/1/17/55","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/56":{"id":"icmclusterlb/1/17/56","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/57":{"id":"icmclusterlb/1/17/57","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/58":{"id":"icmclusterlb/1/17/58","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/17/59":{"id":"icmclusterlb/1/17/59","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/60":{"id":"icmclusterlb/1/17/60","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/17/61":{"id":"icmclusterlb/1/17/61","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/62":{"id":"icmclusterlb/1/17/62","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/17/63":{"id":"icmclusterlb/1/17/63","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/17/64":{"id":"icmclusterlb/1/17/64","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/17/65":{"id":"icmclusterlb/1/17/65","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/17/66":{"id":"icmclusterlb/1/17/66","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/17/67":{"id":"icmclusterlb/1/17/67","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/17/68":{"id":"icmclusterlb/1/17/68","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/17/69":{"id":"icmclusterlb/1/17/69","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/17/70":{"id":"icmclusterlb/1/17/70","name":"Version","entityType":"Column","type":"int"},"icmclusterlb/1/17/71":{"id":"icmclusterlb/1/17/71","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/17/72":{"id":"icmclusterlb/1/17/72","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/17/73":{"id":"icmclusterlb/1/17/73","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/17/74":{"id":"icmclusterlb/1/17/74","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/17/75":{"id":"icmclusterlb/1/17/75","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/17/76":{"id":"icmclusterlb/1/17/76","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/17/77":{"id":"icmclusterlb/1/17/77","name":"ExecutiveIncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/17/78":{"id":"icmclusterlb/1/17/78","name":"AirOImpact","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/NotificationActions":{"id":"icmclusterlb/IcMDataWarehouse/NotificationActions","entityType":"Table","name":"NotificationActions","columns":{"icmclusterlb/1/18/0":{"id":"icmclusterlb/1/18/0","name":"NotificationActionId","entityType":"Column","type":"long"},"icmclusterlb/1/18/1":{"id":"icmclusterlb/1/18/1","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/1/18/2":{"id":"icmclusterlb/1/18/2","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/18/3":{"id":"icmclusterlb/1/18/3","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/18/4":{"id":"icmclusterlb/1/18/4","name":"ServiceType","entityType":"Column","type":"string"},"icmclusterlb/1/18/5":{"id":"icmclusterlb/1/18/5","name":"ServiceName","entityType":"Column","type":"string"},"icmclusterlb/1/18/6":{"id":"icmclusterlb/1/18/6","name":"SendDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/18/7":{"id":"icmclusterlb/1/18/7","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/18/8":{"id":"icmclusterlb/1/18/8","name":"NotificationTargets","entityType":"Column","type":"string"},"icmclusterlb/1/18/9":{"id":"icmclusterlb/1/18/9","name":"NotificationResponses","entityType":"Column","type":"string"},"icmclusterlb/1/18/10":{"id":"icmclusterlb/1/18/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/18/11":{"id":"icmclusterlb/1/18/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/18/12":{"id":"icmclusterlb/1/18/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/18/13":{"id":"icmclusterlb/1/18/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/18/14":{"id":"icmclusterlb/1/18/14","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentSecondaryPIRMappings":{"id":"icmclusterlb/IcMDataWarehouse/IncidentSecondaryPIRMappings","entityType":"Table","name":"IncidentSecondaryPIRMappings","columns":{"icmclusterlb/1/19/0":{"id":"icmclusterlb/1/19/0","name":"IncidentPIRMappingId","entityType":"Column","type":"long"},"icmclusterlb/1/19/1":{"id":"icmclusterlb/1/19/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/19/2":{"id":"icmclusterlb/1/19/2","name":"PIRId","entityType":"Column","type":"long"},"icmclusterlb/1/19/3":{"id":"icmclusterlb/1/19/3","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/19/4":{"id":"icmclusterlb/1/19/4","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/19/5":{"id":"icmclusterlb/1/19/5","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/19/6":{"id":"icmclusterlb/1/19/6","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/19/7":{"id":"icmclusterlb/1/19/7","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/19/8":{"id":"icmclusterlb/1/19/8","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/19/9":{"id":"icmclusterlb/1/19/9","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/19/10":{"id":"icmclusterlb/1/19/10","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/19/11":{"id":"icmclusterlb/1/19/11","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PIRCustomFieldEntries2":{"id":"icmclusterlb/IcMDataWarehouse/PIRCustomFieldEntries2","entityType":"Table","name":"PIRCustomFieldEntries2","columns":{"icmclusterlb/1/20/0":{"id":"icmclusterlb/1/20/0","name":"PIRCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/20/1":{"id":"icmclusterlb/1/20/1","name":"PIRId","entityType":"Column","type":"long"},"icmclusterlb/1/20/2":{"id":"icmclusterlb/1/20/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/20/3":{"id":"icmclusterlb/1/20/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/20/4":{"id":"icmclusterlb/1/20/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/20/5":{"id":"icmclusterlb/1/20/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/20/6":{"id":"icmclusterlb/1/20/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/20/7":{"id":"icmclusterlb/1/20/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/20/8":{"id":"icmclusterlb/1/20/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/20/9":{"id":"icmclusterlb/1/20/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/20/10":{"id":"icmclusterlb/1/20/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/20/11":{"id":"icmclusterlb/1/20/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/20/12":{"id":"icmclusterlb/1/20/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/20/13":{"id":"icmclusterlb/1/20/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/20/14":{"id":"icmclusterlb/1/20/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/20/15":{"id":"icmclusterlb/1/20/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/20/16":{"id":"icmclusterlb/1/20/16","name":"AdditionalData","entityType":"Column","type":"string"},"icmclusterlb/1/20/17":{"id":"icmclusterlb/1/20/17","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/20/18":{"id":"icmclusterlb/1/20/18","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/20/19":{"id":"icmclusterlb/1/20/19","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/20/20":{"id":"icmclusterlb/1/20/20","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/RootCauses":{"id":"icmclusterlb/IcMDataWarehouse/RootCauses","entityType":"Table","name":"RootCauses","columns":{"icmclusterlb/1/21/0":{"id":"icmclusterlb/1/21/0","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/21/1":{"id":"icmclusterlb/1/21/1","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/21/2":{"id":"icmclusterlb/1/21/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/21/3":{"id":"icmclusterlb/1/21/3","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/21/4":{"id":"icmclusterlb/1/21/4","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/21/5":{"id":"icmclusterlb/1/21/5","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/21/6":{"id":"icmclusterlb/1/21/6","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/21/7":{"id":"icmclusterlb/1/21/7","name":"Category","entityType":"Column","type":"string"},"icmclusterlb/1/21/8":{"id":"icmclusterlb/1/21/8","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/21/9":{"id":"icmclusterlb/1/21/9","name":"Fix","entityType":"Column","type":"string"},"icmclusterlb/1/21/10":{"id":"icmclusterlb/1/21/10","name":"Bugs","entityType":"Column","type":"string"},"icmclusterlb/1/21/11":{"id":"icmclusterlb/1/21/11","name":"IsCausedByChange","entityType":"Column","type":"bool"},"icmclusterlb/1/21/12":{"id":"icmclusterlb/1/21/12","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/21/13":{"id":"icmclusterlb/1/21/13","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/21/14":{"id":"icmclusterlb/1/21/14","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/21/15":{"id":"icmclusterlb/1/21/15","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/21/16":{"id":"icmclusterlb/1/21/16","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/21/17":{"id":"icmclusterlb/1/21/17","name":"SubCategory","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosNonPurgedIncidentsSnapshot_Merge":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosNonPurgedIncidentsSnapshot_Merge","entityType":"Table","name":"Temp_CosmosNonPurgedIncidentsSnapshot_Merge","columns":{"icmclusterlb/1/22/0":{"id":"icmclusterlb/1/22/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/22/1":{"id":"icmclusterlb/1/22/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/22/2":{"id":"icmclusterlb/1/22/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/22/3":{"id":"icmclusterlb/1/22/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/22/4":{"id":"icmclusterlb/1/22/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/5":{"id":"icmclusterlb/1/22/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/22/6":{"id":"icmclusterlb/1/22/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/22/7":{"id":"icmclusterlb/1/22/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/8":{"id":"icmclusterlb/1/22/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/9":{"id":"icmclusterlb/1/22/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/10":{"id":"icmclusterlb/1/22/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/22/11":{"id":"icmclusterlb/1/22/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/22/12":{"id":"icmclusterlb/1/22/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/22/13":{"id":"icmclusterlb/1/22/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/22/14":{"id":"icmclusterlb/1/22/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/22/15":{"id":"icmclusterlb/1/22/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/22/16":{"id":"icmclusterlb/1/22/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/22/17":{"id":"icmclusterlb/1/22/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/22/18":{"id":"icmclusterlb/1/22/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/22/19":{"id":"icmclusterlb/1/22/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/22/20":{"id":"icmclusterlb/1/22/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/22/21":{"id":"icmclusterlb/1/22/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/22/22":{"id":"icmclusterlb/1/22/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/22/23":{"id":"icmclusterlb/1/22/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/22/24":{"id":"icmclusterlb/1/22/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/22/25":{"id":"icmclusterlb/1/22/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/22/26":{"id":"icmclusterlb/1/22/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/22/27":{"id":"icmclusterlb/1/22/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/22/28":{"id":"icmclusterlb/1/22/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/22/29":{"id":"icmclusterlb/1/22/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/22/30":{"id":"icmclusterlb/1/22/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/22/31":{"id":"icmclusterlb/1/22/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/22/32":{"id":"icmclusterlb/1/22/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/22/33":{"id":"icmclusterlb/1/22/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/22/34":{"id":"icmclusterlb/1/22/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/22/35":{"id":"icmclusterlb/1/22/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/22/36":{"id":"icmclusterlb/1/22/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/22/37":{"id":"icmclusterlb/1/22/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/38":{"id":"icmclusterlb/1/22/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/39":{"id":"icmclusterlb/1/22/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/22/40":{"id":"icmclusterlb/1/22/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/22/41":{"id":"icmclusterlb/1/22/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/42":{"id":"icmclusterlb/1/22/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/22/43":{"id":"icmclusterlb/1/22/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/22/44":{"id":"icmclusterlb/1/22/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/22/45":{"id":"icmclusterlb/1/22/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/46":{"id":"icmclusterlb/1/22/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/22/47":{"id":"icmclusterlb/1/22/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/22/48":{"id":"icmclusterlb/1/22/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/49":{"id":"icmclusterlb/1/22/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/22/50":{"id":"icmclusterlb/1/22/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/51":{"id":"icmclusterlb/1/22/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/52":{"id":"icmclusterlb/1/22/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/22/53":{"id":"icmclusterlb/1/22/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/22/54":{"id":"icmclusterlb/1/22/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/22/55":{"id":"icmclusterlb/1/22/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/22/56":{"id":"icmclusterlb/1/22/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/22/57":{"id":"icmclusterlb/1/22/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/22/58":{"id":"icmclusterlb/1/22/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/22/59":{"id":"icmclusterlb/1/22/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/22/60":{"id":"icmclusterlb/1/22/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/22/61":{"id":"icmclusterlb/1/22/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/22/62":{"id":"icmclusterlb/1/22/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/22/63":{"id":"icmclusterlb/1/22/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/22/64":{"id":"icmclusterlb/1/22/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/22/65":{"id":"icmclusterlb/1/22/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/22/66":{"id":"icmclusterlb/1/22/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/67":{"id":"icmclusterlb/1/22/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/22/68":{"id":"icmclusterlb/1/22/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/22/69":{"id":"icmclusterlb/1/22/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/22/70":{"id":"icmclusterlb/1/22/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/22/71":{"id":"icmclusterlb/1/22/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/22/72":{"id":"icmclusterlb/1/22/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/22/73":{"id":"icmclusterlb/1/22/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/22/74":{"id":"icmclusterlb/1/22/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/22/75":{"id":"icmclusterlb/1/22/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/22/76":{"id":"icmclusterlb/1/22/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/22/77":{"id":"icmclusterlb/1/22/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/22/78":{"id":"icmclusterlb/1/22/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/22/79":{"id":"icmclusterlb/1/22/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/22/80":{"id":"icmclusterlb/1/22/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/81":{"id":"icmclusterlb/1/22/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/22/82":{"id":"icmclusterlb/1/22/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/22/83":{"id":"icmclusterlb/1/22/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/84":{"id":"icmclusterlb/1/22/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/22/85":{"id":"icmclusterlb/1/22/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/22/86":{"id":"icmclusterlb/1/22/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/22/87":{"id":"icmclusterlb/1/22/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/22/88":{"id":"icmclusterlb/1/22/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/22/89":{"id":"icmclusterlb/1/22/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentExternalLinks":{"id":"icmclusterlb/IcMDataWarehouse/IncidentExternalLinks","entityType":"Table","name":"IncidentExternalLinks","columns":{"icmclusterlb/1/23/0":{"id":"icmclusterlb/1/23/0","name":"ExternalLinkId","entityType":"Column","type":"long"},"icmclusterlb/1/23/1":{"id":"icmclusterlb/1/23/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/23/2":{"id":"icmclusterlb/1/23/2","name":"TargetEntityType","entityType":"Column","type":"string"},"icmclusterlb/1/23/3":{"id":"icmclusterlb/1/23/3","name":"TargetEntityId","entityType":"Column","type":"long"},"icmclusterlb/1/23/4":{"id":"icmclusterlb/1/23/4","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/23/5":{"id":"icmclusterlb/1/23/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/23/6":{"id":"icmclusterlb/1/23/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/23/7":{"id":"icmclusterlb/1/23/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/23/8":{"id":"icmclusterlb/1/23/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/23/9":{"id":"icmclusterlb/1/23/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldHistory":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldHistory","entityType":"Table","name":"IncidentCustomFieldHistory","columns":{"icmclusterlb/1/24/0":{"id":"icmclusterlb/1/24/0","name":"CustomFieldHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/24/1":{"id":"icmclusterlb/1/24/1","name":"IncidentHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/24/2":{"id":"icmclusterlb/1/24/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/24/3":{"id":"icmclusterlb/1/24/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/24/4":{"id":"icmclusterlb/1/24/4","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/24/5":{"id":"icmclusterlb/1/24/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/24/6":{"id":"icmclusterlb/1/24/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/24/7":{"id":"icmclusterlb/1/24/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/24/8":{"id":"icmclusterlb/1/24/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/24/9":{"id":"icmclusterlb/1/24/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/24/10":{"id":"icmclusterlb/1/24/10","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/24/11":{"id":"icmclusterlb/1/24/11","name":"CustomFieldId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenants":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenants","entityType":"Table","name":"IncidentImpactedTenants","columns":{"icmclusterlb/1/25/0":{"id":"icmclusterlb/1/25/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/25/1":{"id":"icmclusterlb/1/25/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/25/2":{"id":"icmclusterlb/1/25/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/25/3":{"id":"icmclusterlb/1/25/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/25/4":{"id":"icmclusterlb/1/25/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/25/5":{"id":"icmclusterlb/1/25/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/25/6":{"id":"icmclusterlb/1/25/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/25/7":{"id":"icmclusterlb/1/25/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesSnapshot_V1_Current":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesSnapshot_V1_Current","entityType":"Table","name":"IncidentCustomFieldEntriesSnapshot_V1_Current","columns":{"icmclusterlb/1/26/0":{"id":"icmclusterlb/1/26/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/26/1":{"id":"icmclusterlb/1/26/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/26/2":{"id":"icmclusterlb/1/26/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/26/3":{"id":"icmclusterlb/1/26/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/26/4":{"id":"icmclusterlb/1/26/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/26/5":{"id":"icmclusterlb/1/26/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/26/6":{"id":"icmclusterlb/1/26/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/26/7":{"id":"icmclusterlb/1/26/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/26/8":{"id":"icmclusterlb/1/26/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/26/9":{"id":"icmclusterlb/1/26/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/26/10":{"id":"icmclusterlb/1/26/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/26/11":{"id":"icmclusterlb/1/26/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/26/12":{"id":"icmclusterlb/1/26/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/26/13":{"id":"icmclusterlb/1/26/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/26/14":{"id":"icmclusterlb/1/26/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/26/15":{"id":"icmclusterlb/1/26/15","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/26/16":{"id":"icmclusterlb/1/26/16","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/26/17":{"id":"icmclusterlb/1/26/17","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/IncidentRetentionPolicy":{"id":"icmclusterlb/IcMDataWarehouse/IncidentRetentionPolicy","entityType":"Table","name":"IncidentRetentionPolicy","columns":{"icmclusterlb/1/27/0":{"id":"icmclusterlb/1/27/0","name":"RetentionPolicyId","entityType":"Column","type":"dynamic"},"icmclusterlb/1/27/1":{"id":"icmclusterlb/1/27/1","name":"EntityType","entityType":"Column","type":"string"},"icmclusterlb/1/27/2":{"id":"icmclusterlb/1/27/2","name":"EntityId","entityType":"Column","type":"dynamic"},"icmclusterlb/1/27/3":{"id":"icmclusterlb/1/27/3","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/27/4":{"id":"icmclusterlb/1/27/4","name":"IncidentState","entityType":"Column","type":"string"},"icmclusterlb/1/27/5":{"id":"icmclusterlb/1/27/5","name":"RetentionInDays","entityType":"Column","type":"int"},"icmclusterlb/1/27/6":{"id":"icmclusterlb/1/27/6","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/27/7":{"id":"icmclusterlb/1/27/7","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/27/8":{"id":"icmclusterlb/1/27/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/27/9":{"id":"icmclusterlb/1/27/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/27/10":{"id":"icmclusterlb/1/27/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/27/11":{"id":"icmclusterlb/1/27/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/27/12":{"id":"icmclusterlb/1/27/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/ServiceTreeEmergencyBroadcastTeams":{"id":"icmclusterlb/IcMDataWarehouse/ServiceTreeEmergencyBroadcastTeams","entityType":"Table","name":"ServiceTreeEmergencyBroadcastTeams","columns":{"icmclusterlb/1/28/0":{"id":"icmclusterlb/1/28/0","name":"ServiceTreeEmergencyBroadcastTeamMappingId","entityType":"Column","type":"dynamic"},"icmclusterlb/1/28/1":{"id":"icmclusterlb/1/28/1","name":"ServiceTreeEntityType","entityType":"Column","type":"string"},"icmclusterlb/1/28/2":{"id":"icmclusterlb/1/28/2","name":"ServiceTreeEntityId","entityType":"Column","type":"guid"},"icmclusterlb/1/28/3":{"id":"icmclusterlb/1/28/3","name":"Cen","entityType":"Column","type":"string"},"icmclusterlb/1/28/4":{"id":"icmclusterlb/1/28/4","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/28/5":{"id":"icmclusterlb/1/28/5","name":"ServiceTreeEmergencyBroadcastTeams","entityType":"Column","type":"string"},"icmclusterlb/1/28/6":{"id":"icmclusterlb/1/28/6","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/28/7":{"id":"icmclusterlb/1/28/7","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/28/8":{"id":"icmclusterlb/1/28/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/28/9":{"id":"icmclusterlb/1/28/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/28/10":{"id":"icmclusterlb/1/28/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/28/11":{"id":"icmclusterlb/1/28/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/28/12":{"id":"icmclusterlb/1/28/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Tenants":{"id":"icmclusterlb/IcMDataWarehouse/Tenants","entityType":"Table","name":"Tenants","columns":{"icmclusterlb/1/29/0":{"id":"icmclusterlb/1/29/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/29/1":{"id":"icmclusterlb/1/29/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/29/2":{"id":"icmclusterlb/1/29/2","name":"PublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/29/3":{"id":"icmclusterlb/1/29/3","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/29/4":{"id":"icmclusterlb/1/29/4","name":"Silo","entityType":"Column","type":"string"},"icmclusterlb/1/29/5":{"id":"icmclusterlb/1/29/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/29/6":{"id":"icmclusterlb/1/29/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/29/7":{"id":"icmclusterlb/1/29/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/29/8":{"id":"icmclusterlb/1/29/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/29/9":{"id":"icmclusterlb/1/29/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/29/10":{"id":"icmclusterlb/1/29/10","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/29/11":{"id":"icmclusterlb/1/29/11","name":"SupportedSilos","entityType":"Column","type":"string"},"icmclusterlb/1/29/12":{"id":"icmclusterlb/1/29/12","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/29/13":{"id":"icmclusterlb/1/29/13","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/29/14":{"id":"icmclusterlb/1/29/14","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/29/15":{"id":"icmclusterlb/1/29/15","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/29/16":{"id":"icmclusterlb/1/29/16","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/29/17":{"id":"icmclusterlb/1/29/17","name":"IsCorrelationRuleAutoTuneEnabled","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/DriChecklistQuestions":{"id":"icmclusterlb/IcMDataWarehouse/DriChecklistQuestions","entityType":"Table","name":"DriChecklistQuestions","columns":{"icmclusterlb/1/30/0":{"id":"icmclusterlb/1/30/0","name":"DriChecklistId","entityType":"Column","type":"long"},"icmclusterlb/1/30/1":{"id":"icmclusterlb/1/30/1","name":"SourceId","entityType":"Column","type":"long"},"icmclusterlb/1/30/2":{"id":"icmclusterlb/1/30/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/30/3":{"id":"icmclusterlb/1/30/3","name":"Category","entityType":"Column","type":"string"},"icmclusterlb/1/30/4":{"id":"icmclusterlb/1/30/4","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/30/5":{"id":"icmclusterlb/1/30/5","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/30/6":{"id":"icmclusterlb/1/30/6","name":"Order","entityType":"Column","type":"int"},"icmclusterlb/1/30/7":{"id":"icmclusterlb/1/30/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/30/8":{"id":"icmclusterlb/1/30/8","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/30/9":{"id":"icmclusterlb/1/30/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/30/10":{"id":"icmclusterlb/1/30/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/30/11":{"id":"icmclusterlb/1/30/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/30/12":{"id":"icmclusterlb/1/30/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/30/13":{"id":"icmclusterlb/1/30/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/30/14":{"id":"icmclusterlb/1/30/14","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/ServiceCategories":{"id":"icmclusterlb/IcMDataWarehouse/ServiceCategories","entityType":"Table","name":"ServiceCategories","columns":{"icmclusterlb/1/31/0":{"id":"icmclusterlb/1/31/0","name":"ServiceCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/31/1":{"id":"icmclusterlb/1/31/1","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/31/2":{"id":"icmclusterlb/1/31/2","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/31/3":{"id":"icmclusterlb/1/31/3","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/31/4":{"id":"icmclusterlb/1/31/4","name":"PublicId","entityType":"Column","type":"string"},"icmclusterlb/1/31/5":{"id":"icmclusterlb/1/31/5","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/31/6":{"id":"icmclusterlb/1/31/6","name":"VoiceSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/31/7":{"id":"icmclusterlb/1/31/7","name":"VoiceSeverityThresholdState","entityType":"Column","type":"int"},"icmclusterlb/1/31/8":{"id":"icmclusterlb/1/31/8","name":"EmailSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/31/9":{"id":"icmclusterlb/1/31/9","name":"EmailSeverityThresholdState","entityType":"Column","type":"int"},"icmclusterlb/1/31/10":{"id":"icmclusterlb/1/31/10","name":"TimeToDetectSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/11":{"id":"icmclusterlb/1/31/11","name":"TimeToEngageSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/12":{"id":"icmclusterlb/1/31/12","name":"TimeToNotifySla","entityType":"Column","type":"string"},"icmclusterlb/1/31/13":{"id":"icmclusterlb/1/31/13","name":"TimeToMitigateSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/14":{"id":"icmclusterlb/1/31/14","name":"RepairItemSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/15":{"id":"icmclusterlb/1/31/15","name":"InternalPostMortemSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/16":{"id":"icmclusterlb/1/31/16","name":"ExternalPostMortemSla","entityType":"Column","type":"string"},"icmclusterlb/1/31/17":{"id":"icmclusterlb/1/31/17","name":"EnableOnCallReminderNotification","entityType":"Column","type":"bool"},"icmclusterlb/1/31/18":{"id":"icmclusterlb/1/31/18","name":"OnCallReminderNotificationConfig","entityType":"Column","type":"string"},"icmclusterlb/1/31/19":{"id":"icmclusterlb/1/31/19","name":"MaxContactWaitTimeInSeconds","entityType":"Column","type":"int"},"icmclusterlb/1/31/20":{"id":"icmclusterlb/1/31/20","name":"MaxContactWaitTimeState","entityType":"Column","type":"int"},"icmclusterlb/1/31/21":{"id":"icmclusterlb/1/31/21","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/31/22":{"id":"icmclusterlb/1/31/22","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/31/23":{"id":"icmclusterlb/1/31/23","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/31/24":{"id":"icmclusterlb/1/31/24","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/31/25":{"id":"icmclusterlb/1/31/25","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentCustomFieldEntriesSnapshot":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentCustomFieldEntriesSnapshot","entityType":"Table","name":"Temp_CosmosIncidentCustomFieldEntriesSnapshot","columns":{"icmclusterlb/1/32/0":{"id":"icmclusterlb/1/32/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/32/1":{"id":"icmclusterlb/1/32/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/32/2":{"id":"icmclusterlb/1/32/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/32/3":{"id":"icmclusterlb/1/32/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/32/4":{"id":"icmclusterlb/1/32/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/32/5":{"id":"icmclusterlb/1/32/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/32/6":{"id":"icmclusterlb/1/32/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/32/7":{"id":"icmclusterlb/1/32/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/32/8":{"id":"icmclusterlb/1/32/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/32/9":{"id":"icmclusterlb/1/32/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/32/10":{"id":"icmclusterlb/1/32/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/32/11":{"id":"icmclusterlb/1/32/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/32/12":{"id":"icmclusterlb/1/32/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/32/13":{"id":"icmclusterlb/1/32/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/32/14":{"id":"icmclusterlb/1/32/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/32/15":{"id":"icmclusterlb/1/32/15","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/32/16":{"id":"icmclusterlb/1/32/16","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/32/17":{"id":"icmclusterlb/1/32/17","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}},"docstring":"Created based on Temp_CosmosIncidentCustomFieldEntriesSnapshot"},"icmclusterlb/IcMDataWarehouse/IncidentBugs":{"id":"icmclusterlb/IcMDataWarehouse/IncidentBugs","entityType":"Table","name":"IncidentBugs","columns":{"icmclusterlb/1/33/0":{"id":"icmclusterlb/1/33/0","name":"IncidentBugMappingId","entityType":"Column","type":"long"},"icmclusterlb/1/33/1":{"id":"icmclusterlb/1/33/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/33/2":{"id":"icmclusterlb/1/33/2","name":"BugId","entityType":"Column","type":"long"},"icmclusterlb/1/33/3":{"id":"icmclusterlb/1/33/3","name":"Type","entityType":"Column","type":"string"},"icmclusterlb/1/33/4":{"id":"icmclusterlb/1/33/4","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/33/5":{"id":"icmclusterlb/1/33/5","name":"ExternalId","entityType":"Column","type":"string"},"icmclusterlb/1/33/6":{"id":"icmclusterlb/1/33/6","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/1/33/7":{"id":"icmclusterlb/1/33/7","name":"Delivery","entityType":"Column","type":"string"},"icmclusterlb/1/33/8":{"id":"icmclusterlb/1/33/8","name":"Source","entityType":"Column","type":"string"},"icmclusterlb/1/33/9":{"id":"icmclusterlb/1/33/9","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/33/10":{"id":"icmclusterlb/1/33/10","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/33/11":{"id":"icmclusterlb/1/33/11","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/33/12":{"id":"icmclusterlb/1/33/12","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/33/13":{"id":"icmclusterlb/1/33/13","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/33/14":{"id":"icmclusterlb/1/33/14","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/33/15":{"id":"icmclusterlb/1/33/15","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/33/16":{"id":"icmclusterlb/1/33/16","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/33/17":{"id":"icmclusterlb/1/33/17","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/33/18":{"id":"icmclusterlb/1/33/18","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/33/19":{"id":"icmclusterlb/1/33/19","name":"AdditionalData","entityType":"Column","type":"string"},"icmclusterlb/1/33/20":{"id":"icmclusterlb/1/33/20","name":"UnSyncableReason","entityType":"Column","type":"string"},"icmclusterlb/1/33/21":{"id":"icmclusterlb/1/33/21","name":"UnSyncableFromTfs","entityType":"Column","type":"bool"},"icmclusterlb/1/33/22":{"id":"icmclusterlb/1/33/22","name":"DeletedFromTfs","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/CustomFieldDefinitions":{"id":"icmclusterlb/IcMDataWarehouse/CustomFieldDefinitions","entityType":"Table","name":"CustomFieldDefinitions","columns":{"icmclusterlb/1/34/0":{"id":"icmclusterlb/1/34/0","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/34/1":{"id":"icmclusterlb/1/34/1","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/34/2":{"id":"icmclusterlb/1/34/2","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/34/3":{"id":"icmclusterlb/1/34/3","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/34/4":{"id":"icmclusterlb/1/34/4","name":"CustomFieldDataType","entityType":"Column","type":"string"},"icmclusterlb/1/34/5":{"id":"icmclusterlb/1/34/5","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/34/6":{"id":"icmclusterlb/1/34/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/34/7":{"id":"icmclusterlb/1/34/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/34/8":{"id":"icmclusterlb/1/34/8","name":"EnumTypeId","entityType":"Column","type":"long"},"icmclusterlb/1/34/9":{"id":"icmclusterlb/1/34/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/34/10":{"id":"icmclusterlb/1/34/10","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/34/11":{"id":"icmclusterlb/1/34/11","name":"ApplicableOnIncident","entityType":"Column","type":"bool"},"icmclusterlb/1/34/12":{"id":"icmclusterlb/1/34/12","name":"ApplicableOnPir","entityType":"Column","type":"bool"},"icmclusterlb/1/34/13":{"id":"icmclusterlb/1/34/13","name":"IsMandatoryForIncident","entityType":"Column","type":"bool"},"icmclusterlb/1/34/14":{"id":"icmclusterlb/1/34/14","name":"IsMandatoryForPir","entityType":"Column","type":"bool"},"icmclusterlb/1/34/15":{"id":"icmclusterlb/1/34/15","name":"IsMandatoryForMitigate","entityType":"Column","type":"bool"},"icmclusterlb/1/34/16":{"id":"icmclusterlb/1/34/16","name":"IsMandatoryForResolve","entityType":"Column","type":"bool"},"icmclusterlb/1/34/17":{"id":"icmclusterlb/1/34/17","name":"AdditionalData","entityType":"Column","type":"string"},"icmclusterlb/1/34/18":{"id":"icmclusterlb/1/34/18","name":"ApplicableSection","entityType":"Column","type":"string"},"icmclusterlb/1/34/19":{"id":"icmclusterlb/1/34/19","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/34/20":{"id":"icmclusterlb/1/34/20","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/34/21":{"id":"icmclusterlb/1/34/21","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/34/22":{"id":"icmclusterlb/1/34/22","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/34/23":{"id":"icmclusterlb/1/34/23","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/34/24":{"id":"icmclusterlb/1/34/24","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/34/25":{"id":"icmclusterlb/1/34/25","name":"HelpMessageHtml","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedEntities":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedEntities","entityType":"Table","name":"IncidentImpactedEntities","columns":{"icmclusterlb/1/35/0":{"id":"icmclusterlb/1/35/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/35/1":{"id":"icmclusterlb/1/35/1","name":"EntityType","entityType":"Column","type":"string"},"icmclusterlb/1/35/2":{"id":"icmclusterlb/1/35/2","name":"EntityId","entityType":"Column","type":"string"},"icmclusterlb/1/35/3":{"id":"icmclusterlb/1/35/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/35/4":{"id":"icmclusterlb/1/35/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/35/5":{"id":"icmclusterlb/1/35/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/35/6":{"id":"icmclusterlb/1/35/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/35/7":{"id":"icmclusterlb/1/35/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/35/8":{"id":"icmclusterlb/1/35/8","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsSnapshot_V1_Backup","entityType":"Table","name":"IncidentImpactedTenantsSnapshot_V1_Backup","columns":{"icmclusterlb/1/36/0":{"id":"icmclusterlb/1/36/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/36/1":{"id":"icmclusterlb/1/36/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/36/2":{"id":"icmclusterlb/1/36/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/36/3":{"id":"icmclusterlb/1/36/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/36/4":{"id":"icmclusterlb/1/36/4","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/36/5":{"id":"icmclusterlb/1/36/5","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/PirCustomFieldEntries":{"id":"icmclusterlb/IcMDataWarehouse/PirCustomFieldEntries","entityType":"Table","name":"PirCustomFieldEntries","columns":{"icmclusterlb/1/37/0":{"id":"icmclusterlb/1/37/0","name":"PirCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/37/1":{"id":"icmclusterlb/1/37/1","name":"DateTimeValue","entityType":"Column","type":"datetime"},"icmclusterlb/1/37/2":{"id":"icmclusterlb/1/37/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/37/3":{"id":"icmclusterlb/1/37/3","name":"PirId","entityType":"Column","type":"long"},"icmclusterlb/1/37/4":{"id":"icmclusterlb/1/37/4","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/37/5":{"id":"icmclusterlb/1/37/5","name":"IntegerValue","entityType":"Column","type":"long"},"icmclusterlb/1/37/6":{"id":"icmclusterlb/1/37/6","name":"CustomFieldEnumValueId","entityType":"Column","type":"long"},"icmclusterlb/1/37/7":{"id":"icmclusterlb/1/37/7","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/37/8":{"id":"icmclusterlb/1/37/8","name":"StringValue","entityType":"Column","type":"string"},"icmclusterlb/1/37/9":{"id":"icmclusterlb/1/37/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/37/10":{"id":"icmclusterlb/1/37/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/37/11":{"id":"icmclusterlb/1/37/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/37/12":{"id":"icmclusterlb/1/37/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/37/13":{"id":"icmclusterlb/1/37/13","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/37/14":{"id":"icmclusterlb/1/37/14","name":"BooleanValue","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/DriHealth_OnCallSurvey_KRStudio_V1":{"id":"icmclusterlb/IcMDataWarehouse/DriHealth_OnCallSurvey_KRStudio_V1","entityType":"Table","name":"DriHealth_OnCallSurvey_KRStudio_V1","columns":{"icmclusterlb/1/38/0":{"id":"icmclusterlb/1/38/0","name":"ManagerAlias","entityType":"Column","type":"string"},"icmclusterlb/1/38/1":{"id":"icmclusterlb/1/38/1","name":"EmployeeLevel02","entityType":"Column","type":"string"},"icmclusterlb/1/38/2":{"id":"icmclusterlb/1/38/2","name":"EmployeeLevel03","entityType":"Column","type":"string"},"icmclusterlb/1/38/3":{"id":"icmclusterlb/1/38/3","name":"EmployeeLevel04","entityType":"Column","type":"string"},"icmclusterlb/1/38/4":{"id":"icmclusterlb/1/38/4","name":"EmployeeLevel05","entityType":"Column","type":"string"},"icmclusterlb/1/38/5":{"id":"icmclusterlb/1/38/5","name":"EmployeeLevel06","entityType":"Column","type":"string"},"icmclusterlb/1/38/6":{"id":"icmclusterlb/1/38/6","name":"EmployeeLevel07","entityType":"Column","type":"string"},"icmclusterlb/1/38/7":{"id":"icmclusterlb/1/38/7","name":"EmployeeLevel08","entityType":"Column","type":"string"},"icmclusterlb/1/38/8":{"id":"icmclusterlb/1/38/8","name":"EmployeeLevel09","entityType":"Column","type":"string"},"icmclusterlb/1/38/9":{"id":"icmclusterlb/1/38/9","name":"EmployeeLevel10","entityType":"Column","type":"string"},"icmclusterlb/1/38/10":{"id":"icmclusterlb/1/38/10","name":"StartOfMonth","entityType":"Column","type":"datetime"},"icmclusterlb/1/38/11":{"id":"icmclusterlb/1/38/11","name":"NumberOfSurveysSent","entityType":"Column","type":"long"},"icmclusterlb/1/38/12":{"id":"icmclusterlb/1/38/12","name":"NumberOfRespondents","entityType":"Column","type":"long"},"icmclusterlb/1/38/13":{"id":"icmclusterlb/1/38/13","name":"ResponseRate","entityType":"Column","type":"real"}}},"icmclusterlb/IcMDataWarehouse/Temp_test_prod_incidentssnapshot_nonpurged":{"id":"icmclusterlb/IcMDataWarehouse/Temp_test_prod_incidentssnapshot_nonpurged","entityType":"Table","name":"Temp_test_prod_incidentssnapshot_nonpurged","columns":{"icmclusterlb/1/39/0":{"id":"icmclusterlb/1/39/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/39/1":{"id":"icmclusterlb/1/39/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/39/2":{"id":"icmclusterlb/1/39/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/39/3":{"id":"icmclusterlb/1/39/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/39/4":{"id":"icmclusterlb/1/39/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/5":{"id":"icmclusterlb/1/39/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/39/6":{"id":"icmclusterlb/1/39/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/39/7":{"id":"icmclusterlb/1/39/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/8":{"id":"icmclusterlb/1/39/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/9":{"id":"icmclusterlb/1/39/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/10":{"id":"icmclusterlb/1/39/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/39/11":{"id":"icmclusterlb/1/39/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/39/12":{"id":"icmclusterlb/1/39/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/39/13":{"id":"icmclusterlb/1/39/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/39/14":{"id":"icmclusterlb/1/39/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/39/15":{"id":"icmclusterlb/1/39/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/39/16":{"id":"icmclusterlb/1/39/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/39/17":{"id":"icmclusterlb/1/39/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/39/18":{"id":"icmclusterlb/1/39/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/39/19":{"id":"icmclusterlb/1/39/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/39/20":{"id":"icmclusterlb/1/39/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/39/21":{"id":"icmclusterlb/1/39/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/39/22":{"id":"icmclusterlb/1/39/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/39/23":{"id":"icmclusterlb/1/39/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/39/24":{"id":"icmclusterlb/1/39/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/39/25":{"id":"icmclusterlb/1/39/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/39/26":{"id":"icmclusterlb/1/39/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/39/27":{"id":"icmclusterlb/1/39/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/39/28":{"id":"icmclusterlb/1/39/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/39/29":{"id":"icmclusterlb/1/39/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/39/30":{"id":"icmclusterlb/1/39/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/39/31":{"id":"icmclusterlb/1/39/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/39/32":{"id":"icmclusterlb/1/39/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/39/33":{"id":"icmclusterlb/1/39/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/39/34":{"id":"icmclusterlb/1/39/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/39/35":{"id":"icmclusterlb/1/39/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/39/36":{"id":"icmclusterlb/1/39/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/39/37":{"id":"icmclusterlb/1/39/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/38":{"id":"icmclusterlb/1/39/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/39":{"id":"icmclusterlb/1/39/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/39/40":{"id":"icmclusterlb/1/39/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/39/41":{"id":"icmclusterlb/1/39/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/42":{"id":"icmclusterlb/1/39/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/39/43":{"id":"icmclusterlb/1/39/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/39/44":{"id":"icmclusterlb/1/39/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/39/45":{"id":"icmclusterlb/1/39/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/46":{"id":"icmclusterlb/1/39/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/39/47":{"id":"icmclusterlb/1/39/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/39/48":{"id":"icmclusterlb/1/39/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/49":{"id":"icmclusterlb/1/39/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/39/50":{"id":"icmclusterlb/1/39/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/51":{"id":"icmclusterlb/1/39/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/52":{"id":"icmclusterlb/1/39/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/39/53":{"id":"icmclusterlb/1/39/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/39/54":{"id":"icmclusterlb/1/39/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/39/55":{"id":"icmclusterlb/1/39/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/39/56":{"id":"icmclusterlb/1/39/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/39/57":{"id":"icmclusterlb/1/39/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/39/58":{"id":"icmclusterlb/1/39/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/39/59":{"id":"icmclusterlb/1/39/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/39/60":{"id":"icmclusterlb/1/39/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/39/61":{"id":"icmclusterlb/1/39/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/39/62":{"id":"icmclusterlb/1/39/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/39/63":{"id":"icmclusterlb/1/39/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/39/64":{"id":"icmclusterlb/1/39/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/39/65":{"id":"icmclusterlb/1/39/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/39/66":{"id":"icmclusterlb/1/39/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/67":{"id":"icmclusterlb/1/39/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/39/68":{"id":"icmclusterlb/1/39/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/39/69":{"id":"icmclusterlb/1/39/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/39/70":{"id":"icmclusterlb/1/39/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/39/71":{"id":"icmclusterlb/1/39/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/39/72":{"id":"icmclusterlb/1/39/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/39/73":{"id":"icmclusterlb/1/39/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/39/74":{"id":"icmclusterlb/1/39/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/39/75":{"id":"icmclusterlb/1/39/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/39/76":{"id":"icmclusterlb/1/39/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/39/77":{"id":"icmclusterlb/1/39/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/39/78":{"id":"icmclusterlb/1/39/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/39/79":{"id":"icmclusterlb/1/39/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/39/80":{"id":"icmclusterlb/1/39/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/81":{"id":"icmclusterlb/1/39/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/39/82":{"id":"icmclusterlb/1/39/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/39/83":{"id":"icmclusterlb/1/39/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/84":{"id":"icmclusterlb/1/39/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/39/85":{"id":"icmclusterlb/1/39/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/39/86":{"id":"icmclusterlb/1/39/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/39/87":{"id":"icmclusterlb/1/39/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/39/88":{"id":"icmclusterlb/1/39/88","name":"OutageImpactLevel","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PostIncidentReportsSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/PostIncidentReportsSnapshot_V1_Backup","entityType":"Table","name":"PostIncidentReportsSnapshot_V1_Backup","columns":{"icmclusterlb/1/40/0":{"id":"icmclusterlb/1/40/0","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/40/1":{"id":"icmclusterlb/1/40/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/2":{"id":"icmclusterlb/1/40/2","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/40/3":{"id":"icmclusterlb/1/40/3","name":"CreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/4":{"id":"icmclusterlb/1/40/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/5":{"id":"icmclusterlb/1/40/5","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/40/6":{"id":"icmclusterlb/1/40/6","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/40/7":{"id":"icmclusterlb/1/40/7","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/40/8":{"id":"icmclusterlb/1/40/8","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/40/9":{"id":"icmclusterlb/1/40/9","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/40/10":{"id":"icmclusterlb/1/40/10","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/40/11":{"id":"icmclusterlb/1/40/11","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/40/12":{"id":"icmclusterlb/1/40/12","name":"FeatureTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/40/13":{"id":"icmclusterlb/1/40/13","name":"ReportOwnerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/40/14":{"id":"icmclusterlb/1/40/14","name":"SreOrSeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/40/15":{"id":"icmclusterlb/1/40/15","name":"IncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/40/16":{"id":"icmclusterlb/1/40/16","name":"CommunicationsManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/40/17":{"id":"icmclusterlb/1/40/17","name":"LiveSiteIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/40/18":{"id":"icmclusterlb/1/40/18","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/40/19":{"id":"icmclusterlb/1/40/19","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/40/20":{"id":"icmclusterlb/1/40/20","name":"IncidentRaisedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/21":{"id":"icmclusterlb/1/40/21","name":"CreationIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/40/22":{"id":"icmclusterlb/1/40/22","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/40/23":{"id":"icmclusterlb/1/40/23","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/40/24":{"id":"icmclusterlb/1/40/24","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/40/25":{"id":"icmclusterlb/1/40/25","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/40/26":{"id":"icmclusterlb/1/40/26","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/40/27":{"id":"icmclusterlb/1/40/27","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/40/28":{"id":"icmclusterlb/1/40/28","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/40/29":{"id":"icmclusterlb/1/40/29","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/40/30":{"id":"icmclusterlb/1/40/30","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/40/31":{"id":"icmclusterlb/1/40/31","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/40/32":{"id":"icmclusterlb/1/40/32","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/40/33":{"id":"icmclusterlb/1/40/33","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/40/34":{"id":"icmclusterlb/1/40/34","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/40/35":{"id":"icmclusterlb/1/40/35","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/36":{"id":"icmclusterlb/1/40/36","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/37":{"id":"icmclusterlb/1/40/37","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/38":{"id":"icmclusterlb/1/40/38","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/39":{"id":"icmclusterlb/1/40/39","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/40":{"id":"icmclusterlb/1/40/40","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/41":{"id":"icmclusterlb/1/40/41","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/42":{"id":"icmclusterlb/1/40/42","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/43":{"id":"icmclusterlb/1/40/43","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/44":{"id":"icmclusterlb/1/40/44","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/45":{"id":"icmclusterlb/1/40/45","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/46":{"id":"icmclusterlb/1/40/46","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/47":{"id":"icmclusterlb/1/40/47","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/48":{"id":"icmclusterlb/1/40/48","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/49":{"id":"icmclusterlb/1/40/49","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/50":{"id":"icmclusterlb/1/40/50","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/51":{"id":"icmclusterlb/1/40/51","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/52":{"id":"icmclusterlb/1/40/52","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/53":{"id":"icmclusterlb/1/40/53","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/54":{"id":"icmclusterlb/1/40/54","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/55":{"id":"icmclusterlb/1/40/55","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/56":{"id":"icmclusterlb/1/40/56","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/57":{"id":"icmclusterlb/1/40/57","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/58":{"id":"icmclusterlb/1/40/58","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/40/59":{"id":"icmclusterlb/1/40/59","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/60":{"id":"icmclusterlb/1/40/60","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/40/61":{"id":"icmclusterlb/1/40/61","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/62":{"id":"icmclusterlb/1/40/62","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/40/63":{"id":"icmclusterlb/1/40/63","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/40/64":{"id":"icmclusterlb/1/40/64","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/40/65":{"id":"icmclusterlb/1/40/65","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/40/66":{"id":"icmclusterlb/1/40/66","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/40/67":{"id":"icmclusterlb/1/40/67","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/40/68":{"id":"icmclusterlb/1/40/68","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/40/69":{"id":"icmclusterlb/1/40/69","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/40/70":{"id":"icmclusterlb/1/40/70","name":"Version","entityType":"Column","type":"int"},"icmclusterlb/1/40/71":{"id":"icmclusterlb/1/40/71","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/40/72":{"id":"icmclusterlb/1/40/72","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/40/73":{"id":"icmclusterlb/1/40/73","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/40/74":{"id":"icmclusterlb/1/40/74","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/40/75":{"id":"icmclusterlb/1/40/75","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/40/76":{"id":"icmclusterlb/1/40/76","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/40/77":{"id":"icmclusterlb/1/40/77","name":"ExecutiveIncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/40/78":{"id":"icmclusterlb/1/40/78","name":"AirOImpact","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TenantFieldValues":{"id":"icmclusterlb/IcMDataWarehouse/TenantFieldValues","entityType":"Table","name":"TenantFieldValues","columns":{"icmclusterlb/1/41/0":{"id":"icmclusterlb/1/41/0","name":"FieldValueId","entityType":"Column","type":"long"},"icmclusterlb/1/41/1":{"id":"icmclusterlb/1/41/1","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/41/2":{"id":"icmclusterlb/1/41/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/41/3":{"id":"icmclusterlb/1/41/3","name":"FieldName","entityType":"Column","type":"string"},"icmclusterlb/1/41/4":{"id":"icmclusterlb/1/41/4","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/41/5":{"id":"icmclusterlb/1/41/5","name":"DisplayText","entityType":"Column","type":"string"},"icmclusterlb/1/41/6":{"id":"icmclusterlb/1/41/6","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/41/7":{"id":"icmclusterlb/1/41/7","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/41/8":{"id":"icmclusterlb/1/41/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/41/9":{"id":"icmclusterlb/1/41/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/41/10":{"id":"icmclusterlb/1/41/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/41/11":{"id":"icmclusterlb/1/41/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/41/12":{"id":"icmclusterlb/1/41/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesWithoutIngestionTime","entityType":"Table","name":"IncidentCustomFieldEntriesWithoutIngestionTime","columns":{"icmclusterlb/1/42/0":{"id":"icmclusterlb/1/42/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/42/1":{"id":"icmclusterlb/1/42/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/42/2":{"id":"icmclusterlb/1/42/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/42/3":{"id":"icmclusterlb/1/42/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/42/4":{"id":"icmclusterlb/1/42/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/42/5":{"id":"icmclusterlb/1/42/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/42/6":{"id":"icmclusterlb/1/42/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/42/7":{"id":"icmclusterlb/1/42/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/42/8":{"id":"icmclusterlb/1/42/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/42/9":{"id":"icmclusterlb/1/42/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/42/10":{"id":"icmclusterlb/1/42/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/42/11":{"id":"icmclusterlb/1/42/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/42/12":{"id":"icmclusterlb/1/42/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/42/13":{"id":"icmclusterlb/1/42/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/42/14":{"id":"icmclusterlb/1/42/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/42/15":{"id":"icmclusterlb/1/42/15","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_Current_delete":{"id":"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_Current_delete","entityType":"Table","name":"Temp_IncidentsSnapshot_V1_Current_delete","columns":{"icmclusterlb/1/43/0":{"id":"icmclusterlb/1/43/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/43/1":{"id":"icmclusterlb/1/43/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/43/2":{"id":"icmclusterlb/1/43/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/43/3":{"id":"icmclusterlb/1/43/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/43/4":{"id":"icmclusterlb/1/43/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/5":{"id":"icmclusterlb/1/43/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/43/6":{"id":"icmclusterlb/1/43/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/43/7":{"id":"icmclusterlb/1/43/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/8":{"id":"icmclusterlb/1/43/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/9":{"id":"icmclusterlb/1/43/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/10":{"id":"icmclusterlb/1/43/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/43/11":{"id":"icmclusterlb/1/43/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/43/12":{"id":"icmclusterlb/1/43/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/43/13":{"id":"icmclusterlb/1/43/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/43/14":{"id":"icmclusterlb/1/43/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/43/15":{"id":"icmclusterlb/1/43/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/43/16":{"id":"icmclusterlb/1/43/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/43/17":{"id":"icmclusterlb/1/43/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/43/18":{"id":"icmclusterlb/1/43/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/43/19":{"id":"icmclusterlb/1/43/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/43/20":{"id":"icmclusterlb/1/43/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/43/21":{"id":"icmclusterlb/1/43/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/43/22":{"id":"icmclusterlb/1/43/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/43/23":{"id":"icmclusterlb/1/43/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/43/24":{"id":"icmclusterlb/1/43/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/43/25":{"id":"icmclusterlb/1/43/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/43/26":{"id":"icmclusterlb/1/43/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/43/27":{"id":"icmclusterlb/1/43/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/43/28":{"id":"icmclusterlb/1/43/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/43/29":{"id":"icmclusterlb/1/43/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/43/30":{"id":"icmclusterlb/1/43/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/43/31":{"id":"icmclusterlb/1/43/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/43/32":{"id":"icmclusterlb/1/43/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/43/33":{"id":"icmclusterlb/1/43/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/43/34":{"id":"icmclusterlb/1/43/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/43/35":{"id":"icmclusterlb/1/43/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/43/36":{"id":"icmclusterlb/1/43/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/43/37":{"id":"icmclusterlb/1/43/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/38":{"id":"icmclusterlb/1/43/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/39":{"id":"icmclusterlb/1/43/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/43/40":{"id":"icmclusterlb/1/43/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/43/41":{"id":"icmclusterlb/1/43/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/42":{"id":"icmclusterlb/1/43/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/43/43":{"id":"icmclusterlb/1/43/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/43/44":{"id":"icmclusterlb/1/43/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/43/45":{"id":"icmclusterlb/1/43/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/46":{"id":"icmclusterlb/1/43/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/43/47":{"id":"icmclusterlb/1/43/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/43/48":{"id":"icmclusterlb/1/43/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/49":{"id":"icmclusterlb/1/43/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/43/50":{"id":"icmclusterlb/1/43/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/51":{"id":"icmclusterlb/1/43/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/52":{"id":"icmclusterlb/1/43/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/43/53":{"id":"icmclusterlb/1/43/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/43/54":{"id":"icmclusterlb/1/43/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/43/55":{"id":"icmclusterlb/1/43/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/43/56":{"id":"icmclusterlb/1/43/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/43/57":{"id":"icmclusterlb/1/43/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/43/58":{"id":"icmclusterlb/1/43/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/43/59":{"id":"icmclusterlb/1/43/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/43/60":{"id":"icmclusterlb/1/43/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/43/61":{"id":"icmclusterlb/1/43/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/43/62":{"id":"icmclusterlb/1/43/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/43/63":{"id":"icmclusterlb/1/43/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/43/64":{"id":"icmclusterlb/1/43/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/43/65":{"id":"icmclusterlb/1/43/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/43/66":{"id":"icmclusterlb/1/43/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/67":{"id":"icmclusterlb/1/43/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/43/68":{"id":"icmclusterlb/1/43/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/43/69":{"id":"icmclusterlb/1/43/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/43/70":{"id":"icmclusterlb/1/43/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/43/71":{"id":"icmclusterlb/1/43/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/43/72":{"id":"icmclusterlb/1/43/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/43/73":{"id":"icmclusterlb/1/43/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/43/74":{"id":"icmclusterlb/1/43/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/43/75":{"id":"icmclusterlb/1/43/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/43/76":{"id":"icmclusterlb/1/43/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/43/77":{"id":"icmclusterlb/1/43/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/43/78":{"id":"icmclusterlb/1/43/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/43/79":{"id":"icmclusterlb/1/43/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/43/80":{"id":"icmclusterlb/1/43/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/81":{"id":"icmclusterlb/1/43/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/43/82":{"id":"icmclusterlb/1/43/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/43/83":{"id":"icmclusterlb/1/43/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/84":{"id":"icmclusterlb/1/43/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/43/85":{"id":"icmclusterlb/1/43/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/43/86":{"id":"icmclusterlb/1/43/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/43/87":{"id":"icmclusterlb/1/43/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/43/88":{"id":"icmclusterlb/1/43/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/43/89":{"id":"icmclusterlb/1/43/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PirCustomFieldAuditHistory":{"id":"icmclusterlb/IcMDataWarehouse/PirCustomFieldAuditHistory","entityType":"Table","name":"PirCustomFieldAuditHistory","columns":{"icmclusterlb/1/44/0":{"id":"icmclusterlb/1/44/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/44/1":{"id":"icmclusterlb/1/44/1","name":"HistoryId","entityType":"Column","type":"int"},"icmclusterlb/1/44/2":{"id":"icmclusterlb/1/44/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/44/3":{"id":"icmclusterlb/1/44/3","name":"PirId","entityType":"Column","type":"long"},"icmclusterlb/1/44/4":{"id":"icmclusterlb/1/44/4","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/44/5":{"id":"icmclusterlb/1/44/5","name":"OldValueHash","entityType":"Column","type":"long"},"icmclusterlb/1/44/6":{"id":"icmclusterlb/1/44/6","name":"NewValueHash","entityType":"Column","type":"long"},"icmclusterlb/1/44/7":{"id":"icmclusterlb/1/44/7","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/44/8":{"id":"icmclusterlb/1/44/8","name":"EntityName","entityType":"Column","type":"string"},"icmclusterlb/1/44/9":{"id":"icmclusterlb/1/44/9","name":"Key","entityType":"Column","type":"string"},"icmclusterlb/1/44/10":{"id":"icmclusterlb/1/44/10","name":"OldValue","entityType":"Column","type":"string"},"icmclusterlb/1/44/11":{"id":"icmclusterlb/1/44/11","name":"NewValue","entityType":"Column","type":"string"},"icmclusterlb/1/44/12":{"id":"icmclusterlb/1/44/12","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/44/13":{"id":"icmclusterlb/1/44/13","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/44/14":{"id":"icmclusterlb/1/44/14","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/44/15":{"id":"icmclusterlb/1/44/15","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/44/16":{"id":"icmclusterlb/1/44/16","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/ARTSInfo":{"id":"icmclusterlb/IcMDataWarehouse/ARTSInfo","entityType":"Table","name":"ARTSInfo","columns":{"icmclusterlb/1/45/0":{"id":"icmclusterlb/1/45/0","name":"TagName","entityType":"Column","type":"string"},"icmclusterlb/1/45/1":{"id":"icmclusterlb/1/45/1","name":"TagPartner","entityType":"Column","type":"string"},"icmclusterlb/1/45/2":{"id":"icmclusterlb/1/45/2","name":"TagDef","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TenantLevelAutoBridgeRules":{"id":"icmclusterlb/IcMDataWarehouse/TenantLevelAutoBridgeRules","entityType":"Table","name":"TenantLevelAutoBridgeRules","columns":{"icmclusterlb/1/46/0":{"id":"icmclusterlb/1/46/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/46/1":{"id":"icmclusterlb/1/46/1","name":"AutoBridgeRules","entityType":"Column","type":"string"},"icmclusterlb/1/46/2":{"id":"icmclusterlb/1/46/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/46/3":{"id":"icmclusterlb/1/46/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/46/4":{"id":"icmclusterlb/1/46/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/46/5":{"id":"icmclusterlb/1/46/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/46/6":{"id":"icmclusterlb/1/46/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/46/7":{"id":"icmclusterlb/1/46/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/46/8":{"id":"icmclusterlb/1/46/8","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/PIRWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/PIRWithoutIngestionTime","entityType":"Table","name":"PIRWithoutIngestionTime","columns":{"icmclusterlb/1/47/0":{"id":"icmclusterlb/1/47/0","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/47/1":{"id":"icmclusterlb/1/47/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/2":{"id":"icmclusterlb/1/47/2","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/47/3":{"id":"icmclusterlb/1/47/3","name":"CreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/4":{"id":"icmclusterlb/1/47/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/5":{"id":"icmclusterlb/1/47/5","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/47/6":{"id":"icmclusterlb/1/47/6","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/47/7":{"id":"icmclusterlb/1/47/7","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/47/8":{"id":"icmclusterlb/1/47/8","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/47/9":{"id":"icmclusterlb/1/47/9","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/47/10":{"id":"icmclusterlb/1/47/10","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/47/11":{"id":"icmclusterlb/1/47/11","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/47/12":{"id":"icmclusterlb/1/47/12","name":"FeatureTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/47/13":{"id":"icmclusterlb/1/47/13","name":"ReportOwnerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/47/14":{"id":"icmclusterlb/1/47/14","name":"SreOrSeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/47/15":{"id":"icmclusterlb/1/47/15","name":"IncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/47/16":{"id":"icmclusterlb/1/47/16","name":"CommunicationsManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/47/17":{"id":"icmclusterlb/1/47/17","name":"LiveSiteIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/47/18":{"id":"icmclusterlb/1/47/18","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/47/19":{"id":"icmclusterlb/1/47/19","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/47/20":{"id":"icmclusterlb/1/47/20","name":"IncidentRaisedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/21":{"id":"icmclusterlb/1/47/21","name":"CreationIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/47/22":{"id":"icmclusterlb/1/47/22","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/47/23":{"id":"icmclusterlb/1/47/23","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/47/24":{"id":"icmclusterlb/1/47/24","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/47/25":{"id":"icmclusterlb/1/47/25","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/47/26":{"id":"icmclusterlb/1/47/26","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/47/27":{"id":"icmclusterlb/1/47/27","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/47/28":{"id":"icmclusterlb/1/47/28","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/47/29":{"id":"icmclusterlb/1/47/29","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/47/30":{"id":"icmclusterlb/1/47/30","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/47/31":{"id":"icmclusterlb/1/47/31","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/47/32":{"id":"icmclusterlb/1/47/32","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/47/33":{"id":"icmclusterlb/1/47/33","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/47/34":{"id":"icmclusterlb/1/47/34","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/47/35":{"id":"icmclusterlb/1/47/35","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/36":{"id":"icmclusterlb/1/47/36","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/37":{"id":"icmclusterlb/1/47/37","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/38":{"id":"icmclusterlb/1/47/38","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/39":{"id":"icmclusterlb/1/47/39","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/40":{"id":"icmclusterlb/1/47/40","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/41":{"id":"icmclusterlb/1/47/41","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/42":{"id":"icmclusterlb/1/47/42","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/43":{"id":"icmclusterlb/1/47/43","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/44":{"id":"icmclusterlb/1/47/44","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/45":{"id":"icmclusterlb/1/47/45","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/46":{"id":"icmclusterlb/1/47/46","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/47":{"id":"icmclusterlb/1/47/47","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/48":{"id":"icmclusterlb/1/47/48","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/49":{"id":"icmclusterlb/1/47/49","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/50":{"id":"icmclusterlb/1/47/50","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/51":{"id":"icmclusterlb/1/47/51","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/52":{"id":"icmclusterlb/1/47/52","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/53":{"id":"icmclusterlb/1/47/53","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/54":{"id":"icmclusterlb/1/47/54","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/55":{"id":"icmclusterlb/1/47/55","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/56":{"id":"icmclusterlb/1/47/56","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/57":{"id":"icmclusterlb/1/47/57","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/58":{"id":"icmclusterlb/1/47/58","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/47/59":{"id":"icmclusterlb/1/47/59","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/60":{"id":"icmclusterlb/1/47/60","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/47/61":{"id":"icmclusterlb/1/47/61","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/62":{"id":"icmclusterlb/1/47/62","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/47/63":{"id":"icmclusterlb/1/47/63","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/47/64":{"id":"icmclusterlb/1/47/64","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/47/65":{"id":"icmclusterlb/1/47/65","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/47/66":{"id":"icmclusterlb/1/47/66","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/47/67":{"id":"icmclusterlb/1/47/67","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/47/68":{"id":"icmclusterlb/1/47/68","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/47/69":{"id":"icmclusterlb/1/47/69","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/47/70":{"id":"icmclusterlb/1/47/70","name":"Version","entityType":"Column","type":"int"},"icmclusterlb/1/47/71":{"id":"icmclusterlb/1/47/71","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/47/72":{"id":"icmclusterlb/1/47/72","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/47/73":{"id":"icmclusterlb/1/47/73","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/47/74":{"id":"icmclusterlb/1/47/74","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/47/75":{"id":"icmclusterlb/1/47/75","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/47/76":{"id":"icmclusterlb/1/47/76","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/47/77":{"id":"icmclusterlb/1/47/77","name":"ExecutiveIncidentManagerContactAlias","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PirResourcesHistory":{"id":"icmclusterlb/IcMDataWarehouse/PirResourcesHistory","entityType":"Table","name":"PirResourcesHistory","columns":{"icmclusterlb/1/48/0":{"id":"icmclusterlb/1/48/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/48/1":{"id":"icmclusterlb/1/48/1","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/48/2":{"id":"icmclusterlb/1/48/2","name":"PirId","entityType":"Column","type":"long"},"icmclusterlb/1/48/3":{"id":"icmclusterlb/1/48/3","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/48/4":{"id":"icmclusterlb/1/48/4","name":"ResourceData","entityType":"Column","type":"string"},"icmclusterlb/1/48/5":{"id":"icmclusterlb/1/48/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/48/6":{"id":"icmclusterlb/1/48/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/48/7":{"id":"icmclusterlb/1/48/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/48/8":{"id":"icmclusterlb/1/48/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/48/9":{"id":"icmclusterlb/1/48/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step2":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step2","entityType":"Table","name":"temp_backfill_82924b_step2","columns":{"icmclusterlb/1/49/0":{"id":"icmclusterlb/1/49/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/49/1":{"id":"icmclusterlb/1/49/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/49/2":{"id":"icmclusterlb/1/49/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/49/3":{"id":"icmclusterlb/1/49/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/49/4":{"id":"icmclusterlb/1/49/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/49/5":{"id":"icmclusterlb/1/49/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/49/6":{"id":"icmclusterlb/1/49/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/49/7":{"id":"icmclusterlb/1/49/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/49/8":{"id":"icmclusterlb/1/49/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/49/9":{"id":"icmclusterlb/1/49/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/49/10":{"id":"icmclusterlb/1/49/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/49/11":{"id":"icmclusterlb/1/49/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/49/12":{"id":"icmclusterlb/1/49/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/49/13":{"id":"icmclusterlb/1/49/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/49/14":{"id":"icmclusterlb/1/49/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/49/15":{"id":"icmclusterlb/1/49/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/49/16":{"id":"icmclusterlb/1/49/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/49/17":{"id":"icmclusterlb/1/49/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/49/18":{"id":"icmclusterlb/1/49/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/49/19":{"id":"icmclusterlb/1/49/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentTrackingTeams":{"id":"icmclusterlb/IcMDataWarehouse/IncidentTrackingTeams","entityType":"Table","name":"IncidentTrackingTeams","columns":{"icmclusterlb/1/50/0":{"id":"icmclusterlb/1/50/0","name":"IncidentTeamSubscriptionId","entityType":"Column","type":"long"},"icmclusterlb/1/50/1":{"id":"icmclusterlb/1/50/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/50/2":{"id":"icmclusterlb/1/50/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/50/3":{"id":"icmclusterlb/1/50/3","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/50/4":{"id":"icmclusterlb/1/50/4","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/50/5":{"id":"icmclusterlb/1/50/5","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/50/6":{"id":"icmclusterlb/1/50/6","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/50/7":{"id":"icmclusterlb/1/50/7","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/50/8":{"id":"icmclusterlb/1/50/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/50/9":{"id":"icmclusterlb/1/50/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/50/10":{"id":"icmclusterlb/1/50/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/50/11":{"id":"icmclusterlb/1/50/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/50/12":{"id":"icmclusterlb/1/50/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PurgedIncidentHistory":{"id":"icmclusterlb/IcMDataWarehouse/PurgedIncidentHistory","entityType":"Table","name":"PurgedIncidentHistory","columns":{"icmclusterlb/1/51/0":{"id":"icmclusterlb/1/51/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/51/1":{"id":"icmclusterlb/1/51/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView4Backfill":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView4Backfill","entityType":"Table","name":"IncidentCustomFieldEntriesDedupView4Backfill","columns":{"icmclusterlb/1/52/0":{"id":"icmclusterlb/1/52/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/52/1":{"id":"icmclusterlb/1/52/1","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/52/2":{"id":"icmclusterlb/1/52/2","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/52/3":{"id":"icmclusterlb/1/52/3","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/52/4":{"id":"icmclusterlb/1/52/4","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/52/5":{"id":"icmclusterlb/1/52/5","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/52/6":{"id":"icmclusterlb/1/52/6","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/52/7":{"id":"icmclusterlb/1/52/7","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/52/8":{"id":"icmclusterlb/1/52/8","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/52/9":{"id":"icmclusterlb/1/52/9","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/52/10":{"id":"icmclusterlb/1/52/10","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/52/11":{"id":"icmclusterlb/1/52/11","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/52/12":{"id":"icmclusterlb/1/52/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/52/13":{"id":"icmclusterlb/1/52/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/52/14":{"id":"icmclusterlb/1/52/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/52/15":{"id":"icmclusterlb/1/52/15","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot_temp_2e6d4c6ab3c440ebf9d89697d7618efe":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot_temp_2e6d4c6ab3c440ebf9d89697d7618efe","entityType":"Table","name":"Temp_CosmosPurgedIncidentsSnapshot_temp_2e6d4c6ab3c440ebf9d89697d7618efe","columns":{"icmclusterlb/1/53/0":{"id":"icmclusterlb/1/53/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/53/1":{"id":"icmclusterlb/1/53/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/53/2":{"id":"icmclusterlb/1/53/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/53/3":{"id":"icmclusterlb/1/53/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/53/4":{"id":"icmclusterlb/1/53/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/5":{"id":"icmclusterlb/1/53/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/53/6":{"id":"icmclusterlb/1/53/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/53/7":{"id":"icmclusterlb/1/53/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/8":{"id":"icmclusterlb/1/53/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/9":{"id":"icmclusterlb/1/53/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/10":{"id":"icmclusterlb/1/53/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/53/11":{"id":"icmclusterlb/1/53/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/53/12":{"id":"icmclusterlb/1/53/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/53/13":{"id":"icmclusterlb/1/53/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/53/14":{"id":"icmclusterlb/1/53/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/53/15":{"id":"icmclusterlb/1/53/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/53/16":{"id":"icmclusterlb/1/53/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/53/17":{"id":"icmclusterlb/1/53/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/53/18":{"id":"icmclusterlb/1/53/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/53/19":{"id":"icmclusterlb/1/53/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/53/20":{"id":"icmclusterlb/1/53/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/53/21":{"id":"icmclusterlb/1/53/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/53/22":{"id":"icmclusterlb/1/53/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/53/23":{"id":"icmclusterlb/1/53/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/53/24":{"id":"icmclusterlb/1/53/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/53/25":{"id":"icmclusterlb/1/53/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/53/26":{"id":"icmclusterlb/1/53/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/53/27":{"id":"icmclusterlb/1/53/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/53/28":{"id":"icmclusterlb/1/53/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/53/29":{"id":"icmclusterlb/1/53/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/53/30":{"id":"icmclusterlb/1/53/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/53/31":{"id":"icmclusterlb/1/53/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/53/32":{"id":"icmclusterlb/1/53/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/53/33":{"id":"icmclusterlb/1/53/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/53/34":{"id":"icmclusterlb/1/53/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/53/35":{"id":"icmclusterlb/1/53/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/53/36":{"id":"icmclusterlb/1/53/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/53/37":{"id":"icmclusterlb/1/53/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/38":{"id":"icmclusterlb/1/53/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/39":{"id":"icmclusterlb/1/53/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/53/40":{"id":"icmclusterlb/1/53/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/53/41":{"id":"icmclusterlb/1/53/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/42":{"id":"icmclusterlb/1/53/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/53/43":{"id":"icmclusterlb/1/53/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/53/44":{"id":"icmclusterlb/1/53/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/53/45":{"id":"icmclusterlb/1/53/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/46":{"id":"icmclusterlb/1/53/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/53/47":{"id":"icmclusterlb/1/53/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/53/48":{"id":"icmclusterlb/1/53/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/49":{"id":"icmclusterlb/1/53/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/53/50":{"id":"icmclusterlb/1/53/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/51":{"id":"icmclusterlb/1/53/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/52":{"id":"icmclusterlb/1/53/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/53/53":{"id":"icmclusterlb/1/53/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/53/54":{"id":"icmclusterlb/1/53/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/53/55":{"id":"icmclusterlb/1/53/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/53/56":{"id":"icmclusterlb/1/53/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/53/57":{"id":"icmclusterlb/1/53/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/53/58":{"id":"icmclusterlb/1/53/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/53/59":{"id":"icmclusterlb/1/53/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/53/60":{"id":"icmclusterlb/1/53/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/53/61":{"id":"icmclusterlb/1/53/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/53/62":{"id":"icmclusterlb/1/53/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/53/63":{"id":"icmclusterlb/1/53/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/53/64":{"id":"icmclusterlb/1/53/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/53/65":{"id":"icmclusterlb/1/53/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/53/66":{"id":"icmclusterlb/1/53/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/67":{"id":"icmclusterlb/1/53/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/53/68":{"id":"icmclusterlb/1/53/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/53/69":{"id":"icmclusterlb/1/53/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/53/70":{"id":"icmclusterlb/1/53/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/53/71":{"id":"icmclusterlb/1/53/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/53/72":{"id":"icmclusterlb/1/53/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/53/73":{"id":"icmclusterlb/1/53/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/53/74":{"id":"icmclusterlb/1/53/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/53/75":{"id":"icmclusterlb/1/53/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/53/76":{"id":"icmclusterlb/1/53/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/53/77":{"id":"icmclusterlb/1/53/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/53/78":{"id":"icmclusterlb/1/53/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/53/79":{"id":"icmclusterlb/1/53/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/53/80":{"id":"icmclusterlb/1/53/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/81":{"id":"icmclusterlb/1/53/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/53/82":{"id":"icmclusterlb/1/53/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/53/83":{"id":"icmclusterlb/1/53/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/84":{"id":"icmclusterlb/1/53/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/53/85":{"id":"icmclusterlb/1/53/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/53/86":{"id":"icmclusterlb/1/53/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/53/87":{"id":"icmclusterlb/1/53/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/53/88":{"id":"icmclusterlb/1/53/88","name":"OutageImpactLevel","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/AuthZRoleClaims":{"id":"icmclusterlb/IcMDataWarehouse/AuthZRoleClaims","entityType":"Table","name":"AuthZRoleClaims","columns":{"icmclusterlb/1/54/0":{"id":"icmclusterlb/1/54/0","name":"ClaimId","entityType":"Column","type":"long"},"icmclusterlb/1/54/1":{"id":"icmclusterlb/1/54/1","name":"RoleName","entityType":"Column","type":"string"},"icmclusterlb/1/54/2":{"id":"icmclusterlb/1/54/2","name":"ClaimType","entityType":"Column","type":"string"},"icmclusterlb/1/54/3":{"id":"icmclusterlb/1/54/3","name":"Claim","entityType":"Column","type":"string"},"icmclusterlb/1/54/4":{"id":"icmclusterlb/1/54/4","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/54/5":{"id":"icmclusterlb/1/54/5","name":"ServiceCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/54/6":{"id":"icmclusterlb/1/54/6","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/54/7":{"id":"icmclusterlb/1/54/7","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/54/8":{"id":"icmclusterlb/1/54/8","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/54/9":{"id":"icmclusterlb/1/54/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/54/10":{"id":"icmclusterlb/1/54/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/54/11":{"id":"icmclusterlb/1/54/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/54/12":{"id":"icmclusterlb/1/54/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/54/13":{"id":"icmclusterlb/1/54/13","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesWithoutIngestionTime3":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesWithoutIngestionTime3","entityType":"Table","name":"IncidentCustomFieldEntriesWithoutIngestionTime3","columns":{"icmclusterlb/1/55/0":{"id":"icmclusterlb/1/55/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/55/1":{"id":"icmclusterlb/1/55/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/55/2":{"id":"icmclusterlb/1/55/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/55/3":{"id":"icmclusterlb/1/55/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/55/4":{"id":"icmclusterlb/1/55/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/55/5":{"id":"icmclusterlb/1/55/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/55/6":{"id":"icmclusterlb/1/55/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/55/7":{"id":"icmclusterlb/1/55/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/55/8":{"id":"icmclusterlb/1/55/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/55/9":{"id":"icmclusterlb/1/55/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/55/10":{"id":"icmclusterlb/1/55/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/55/11":{"id":"icmclusterlb/1/55/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/55/12":{"id":"icmclusterlb/1/55/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/55/13":{"id":"icmclusterlb/1/55/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/55/14":{"id":"icmclusterlb/1/55/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/55/15":{"id":"icmclusterlb/1/55/15","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentsSnapshotStat_Merge":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentsSnapshotStat_Merge","entityType":"Table","name":"Temp_CosmosIncidentsSnapshotStat_Merge","columns":{"icmclusterlb/1/56/0":{"id":"icmclusterlb/1/56/0","name":"Count","entityType":"Column","type":"long"},"icmclusterlb/1/56/1":{"id":"icmclusterlb/1/56/1","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/56/2":{"id":"icmclusterlb/1/56/2","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/56/3":{"id":"icmclusterlb/1/56/3","name":"IsPurged","entityType":"Column","type":"bool"}},"folder":"Temp"},"icmclusterlb/IcMDataWarehouse/TeamFavorites":{"id":"icmclusterlb/IcMDataWarehouse/TeamFavorites","entityType":"Table","name":"TeamFavorites","columns":{"icmclusterlb/1/57/0":{"id":"icmclusterlb/1/57/0","name":"SourceId","entityType":"Column","type":"long"},"icmclusterlb/1/57/1":{"id":"icmclusterlb/1/57/1","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/57/2":{"id":"icmclusterlb/1/57/2","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/57/3":{"id":"icmclusterlb/1/57/3","name":"Notes","entityType":"Column","type":"string"},"icmclusterlb/1/57/4":{"id":"icmclusterlb/1/57/4","name":"IngestTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/57/5":{"id":"icmclusterlb/1/57/5","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/57/6":{"id":"icmclusterlb/1/57/6","name":"ModifiedTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/57/7":{"id":"icmclusterlb/1/57/7","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/57/8":{"id":"icmclusterlb/1/57/8","name":"Status","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/SuppressionRules":{"id":"icmclusterlb/IcMDataWarehouse/SuppressionRules","entityType":"Table","name":"SuppressionRules","columns":{"icmclusterlb/1/58/0":{"id":"icmclusterlb/1/58/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/58/1":{"id":"icmclusterlb/1/58/1","name":"SuppressionRules","entityType":"Column","type":"string"},"icmclusterlb/1/58/2":{"id":"icmclusterlb/1/58/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/58/3":{"id":"icmclusterlb/1/58/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/58/4":{"id":"icmclusterlb/1/58/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/58/5":{"id":"icmclusterlb/1/58/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/58/6":{"id":"icmclusterlb/1/58/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/58/7":{"id":"icmclusterlb/1/58/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/58/8":{"id":"icmclusterlb/1/58/8","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Old":{"id":"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Old","entityType":"Table","name":"IncidentsSnapshot_V1_Old","columns":{"icmclusterlb/1/59/0":{"id":"icmclusterlb/1/59/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/59/1":{"id":"icmclusterlb/1/59/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/59/2":{"id":"icmclusterlb/1/59/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/59/3":{"id":"icmclusterlb/1/59/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/59/4":{"id":"icmclusterlb/1/59/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/5":{"id":"icmclusterlb/1/59/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/59/6":{"id":"icmclusterlb/1/59/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/59/7":{"id":"icmclusterlb/1/59/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/8":{"id":"icmclusterlb/1/59/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/9":{"id":"icmclusterlb/1/59/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/10":{"id":"icmclusterlb/1/59/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/59/11":{"id":"icmclusterlb/1/59/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/59/12":{"id":"icmclusterlb/1/59/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/59/13":{"id":"icmclusterlb/1/59/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/59/14":{"id":"icmclusterlb/1/59/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/59/15":{"id":"icmclusterlb/1/59/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/59/16":{"id":"icmclusterlb/1/59/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/59/17":{"id":"icmclusterlb/1/59/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/59/18":{"id":"icmclusterlb/1/59/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/59/19":{"id":"icmclusterlb/1/59/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/59/20":{"id":"icmclusterlb/1/59/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/59/21":{"id":"icmclusterlb/1/59/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/59/22":{"id":"icmclusterlb/1/59/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/59/23":{"id":"icmclusterlb/1/59/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/59/24":{"id":"icmclusterlb/1/59/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/59/25":{"id":"icmclusterlb/1/59/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/59/26":{"id":"icmclusterlb/1/59/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/59/27":{"id":"icmclusterlb/1/59/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/59/28":{"id":"icmclusterlb/1/59/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/59/29":{"id":"icmclusterlb/1/59/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/59/30":{"id":"icmclusterlb/1/59/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/59/31":{"id":"icmclusterlb/1/59/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/59/32":{"id":"icmclusterlb/1/59/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/59/33":{"id":"icmclusterlb/1/59/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/59/34":{"id":"icmclusterlb/1/59/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/59/35":{"id":"icmclusterlb/1/59/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/59/36":{"id":"icmclusterlb/1/59/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/59/37":{"id":"icmclusterlb/1/59/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/38":{"id":"icmclusterlb/1/59/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/39":{"id":"icmclusterlb/1/59/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/59/40":{"id":"icmclusterlb/1/59/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/59/41":{"id":"icmclusterlb/1/59/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/42":{"id":"icmclusterlb/1/59/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/59/43":{"id":"icmclusterlb/1/59/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/59/44":{"id":"icmclusterlb/1/59/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/59/45":{"id":"icmclusterlb/1/59/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/46":{"id":"icmclusterlb/1/59/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/59/47":{"id":"icmclusterlb/1/59/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/59/48":{"id":"icmclusterlb/1/59/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/49":{"id":"icmclusterlb/1/59/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/59/50":{"id":"icmclusterlb/1/59/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/51":{"id":"icmclusterlb/1/59/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/52":{"id":"icmclusterlb/1/59/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/59/53":{"id":"icmclusterlb/1/59/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/59/54":{"id":"icmclusterlb/1/59/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/59/55":{"id":"icmclusterlb/1/59/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/59/56":{"id":"icmclusterlb/1/59/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/59/57":{"id":"icmclusterlb/1/59/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/59/58":{"id":"icmclusterlb/1/59/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/59/59":{"id":"icmclusterlb/1/59/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/59/60":{"id":"icmclusterlb/1/59/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/59/61":{"id":"icmclusterlb/1/59/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/59/62":{"id":"icmclusterlb/1/59/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/59/63":{"id":"icmclusterlb/1/59/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/59/64":{"id":"icmclusterlb/1/59/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/59/65":{"id":"icmclusterlb/1/59/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/59/66":{"id":"icmclusterlb/1/59/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/67":{"id":"icmclusterlb/1/59/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/59/68":{"id":"icmclusterlb/1/59/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/59/69":{"id":"icmclusterlb/1/59/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/59/70":{"id":"icmclusterlb/1/59/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/59/71":{"id":"icmclusterlb/1/59/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/59/72":{"id":"icmclusterlb/1/59/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/59/73":{"id":"icmclusterlb/1/59/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/59/74":{"id":"icmclusterlb/1/59/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/59/75":{"id":"icmclusterlb/1/59/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/59/76":{"id":"icmclusterlb/1/59/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/59/77":{"id":"icmclusterlb/1/59/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/59/78":{"id":"icmclusterlb/1/59/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/59/79":{"id":"icmclusterlb/1/59/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/59/80":{"id":"icmclusterlb/1/59/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/81":{"id":"icmclusterlb/1/59/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/59/82":{"id":"icmclusterlb/1/59/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/59/83":{"id":"icmclusterlb/1/59/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/84":{"id":"icmclusterlb/1/59/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/59/85":{"id":"icmclusterlb/1/59/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/59/86":{"id":"icmclusterlb/1/59/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/59/87":{"id":"icmclusterlb/1/59/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/59/88":{"id":"icmclusterlb/1/59/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/59/89":{"id":"icmclusterlb/1/59/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentMetaDataDetails":{"id":"icmclusterlb/IcMDataWarehouse/IncidentMetaDataDetails","entityType":"Table","name":"IncidentMetaDataDetails","columns":{"icmclusterlb/1/60/0":{"id":"icmclusterlb/1/60/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/60/1":{"id":"icmclusterlb/1/60/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/60/2":{"id":"icmclusterlb/1/60/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/60/3":{"id":"icmclusterlb/1/60/3","name":"ComponentName","entityType":"Column","type":"string"},"icmclusterlb/1/60/4":{"id":"icmclusterlb/1/60/4","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/60/5":{"id":"icmclusterlb/1/60/5","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/60/6":{"id":"icmclusterlb/1/60/6","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/60/7":{"id":"icmclusterlb/1/60/7","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/60/8":{"id":"icmclusterlb/1/60/8","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PurgedIncidentDescriptions":{"id":"icmclusterlb/IcMDataWarehouse/PurgedIncidentDescriptions","entityType":"Table","name":"PurgedIncidentDescriptions","columns":{"icmclusterlb/1/61/0":{"id":"icmclusterlb/1/61/0","name":"DescriptionId","entityType":"Column","type":"long"},"icmclusterlb/1/61/1":{"id":"icmclusterlb/1/61/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/61/2":{"id":"icmclusterlb/1/61/2","name":"IncidentId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/PublicPIRHistory":{"id":"icmclusterlb/IcMDataWarehouse/PublicPIRHistory","entityType":"Table","name":"PublicPIRHistory","columns":{"icmclusterlb/1/62/0":{"id":"icmclusterlb/1/62/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/62/1":{"id":"icmclusterlb/1/62/1","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/2":{"id":"icmclusterlb/1/62/2","name":"IncidentStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/3":{"id":"icmclusterlb/1/62/3","name":"ServiceRestoredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/4":{"id":"icmclusterlb/1/62/4","name":"LastPublishedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/5":{"id":"icmclusterlb/1/62/5","name":"LastRequestApprovalDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/6":{"id":"icmclusterlb/1/62/6","name":"LastApprovedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/7":{"id":"icmclusterlb/1/62/7","name":"LastRejectDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/8":{"id":"icmclusterlb/1/62/8","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/9":{"id":"icmclusterlb/1/62/9","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/62/10":{"id":"icmclusterlb/1/62/10","name":"OwnerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/62/11":{"id":"icmclusterlb/1/62/11","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/62/12":{"id":"icmclusterlb/1/62/12","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/62/13":{"id":"icmclusterlb/1/62/13","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/62/14":{"id":"icmclusterlb/1/62/14","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/62/15":{"id":"icmclusterlb/1/62/15","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/62/16":{"id":"icmclusterlb/1/62/16","name":"ServicesImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/62/17":{"id":"icmclusterlb/1/62/17","name":"CustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/62/18":{"id":"icmclusterlb/1/62/18","name":"Workaround","entityType":"Column","type":"string"},"icmclusterlb/1/62/19":{"id":"icmclusterlb/1/62/19","name":"AffectedSubRegions","entityType":"Column","type":"string"},"icmclusterlb/1/62/20":{"id":"icmclusterlb/1/62/20","name":"RootCauseDescription","entityType":"Column","type":"string"},"icmclusterlb/1/62/21":{"id":"icmclusterlb/1/62/21","name":"NextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/62/22":{"id":"icmclusterlb/1/62/22","name":"AdditionalTimeFields","entityType":"Column","type":"string"},"icmclusterlb/1/62/23":{"id":"icmclusterlb/1/62/23","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/62/24":{"id":"icmclusterlb/1/62/24","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/62/25":{"id":"icmclusterlb/1/62/25","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/62/26":{"id":"icmclusterlb/1/62/26","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/62/27":{"id":"icmclusterlb/1/62/27","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/62/28":{"id":"icmclusterlb/1/62/28","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/DriChecklistResults":{"id":"icmclusterlb/IcMDataWarehouse/DriChecklistResults","entityType":"Table","name":"DriChecklistResults","columns":{"icmclusterlb/1/63/0":{"id":"icmclusterlb/1/63/0","name":"DriChecklistResultEntryId","entityType":"Column","type":"long"},"icmclusterlb/1/63/1":{"id":"icmclusterlb/1/63/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/63/2":{"id":"icmclusterlb/1/63/2","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/63/3":{"id":"icmclusterlb/1/63/3","name":"Category","entityType":"Column","type":"string"},"icmclusterlb/1/63/4":{"id":"icmclusterlb/1/63/4","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/63/5":{"id":"icmclusterlb/1/63/5","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/63/6":{"id":"icmclusterlb/1/63/6","name":"Order","entityType":"Column","type":"int"},"icmclusterlb/1/63/7":{"id":"icmclusterlb/1/63/7","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/63/8":{"id":"icmclusterlb/1/63/8","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/63/9":{"id":"icmclusterlb/1/63/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/63/10":{"id":"icmclusterlb/1/63/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/63/11":{"id":"icmclusterlb/1/63/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/63/12":{"id":"icmclusterlb/1/63/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/63/13":{"id":"icmclusterlb/1/63/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/63/14":{"id":"icmclusterlb/1/63/14","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsWithoutIngestionTime","entityType":"Table","name":"IncidentImpactedTenantsWithoutIngestionTime","columns":{"icmclusterlb/1/64/0":{"id":"icmclusterlb/1/64/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/64/1":{"id":"icmclusterlb/1/64/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/64/2":{"id":"icmclusterlb/1/64/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/64/3":{"id":"icmclusterlb/1/64/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/IncidentRelationships":{"id":"icmclusterlb/IcMDataWarehouse/IncidentRelationships","entityType":"Table","name":"IncidentRelationships","columns":{"icmclusterlb/1/65/0":{"id":"icmclusterlb/1/65/0","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/65/1":{"id":"icmclusterlb/1/65/1","name":"ChildIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/65/2":{"id":"icmclusterlb/1/65/2","name":"RelationshipId","entityType":"Column","type":"long"},"icmclusterlb/1/65/3":{"id":"icmclusterlb/1/65/3","name":"RelationshipType","entityType":"Column","type":"string"},"icmclusterlb/1/65/4":{"id":"icmclusterlb/1/65/4","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/65/5":{"id":"icmclusterlb/1/65/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/65/6":{"id":"icmclusterlb/1/65/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/65/7":{"id":"icmclusterlb/1/65/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/65/8":{"id":"icmclusterlb/1/65/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/65/9":{"id":"icmclusterlb/1/65/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamLevelAutoInviteRules":{"id":"icmclusterlb/IcMDataWarehouse/TeamLevelAutoInviteRules","entityType":"Table","name":"TeamLevelAutoInviteRules","columns":{"icmclusterlb/1/66/0":{"id":"icmclusterlb/1/66/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/66/1":{"id":"icmclusterlb/1/66/1","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/66/2":{"id":"icmclusterlb/1/66/2","name":"AutoInviteSetting","entityType":"Column","type":"string"},"icmclusterlb/1/66/3":{"id":"icmclusterlb/1/66/3","name":"AutoInviteRules","entityType":"Column","type":"string"},"icmclusterlb/1/66/4":{"id":"icmclusterlb/1/66/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/66/5":{"id":"icmclusterlb/1/66/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/66/6":{"id":"icmclusterlb/1/66/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/66/7":{"id":"icmclusterlb/1/66/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/66/8":{"id":"icmclusterlb/1/66/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/66/9":{"id":"icmclusterlb/1/66/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/BulkPurgeRecord_Dynamics":{"id":"icmclusterlb/IcMDataWarehouse/BulkPurgeRecord_Dynamics","entityType":"Table","name":"BulkPurgeRecord_Dynamics","columns":{"icmclusterlb/1/67/0":{"id":"icmclusterlb/1/67/0","name":"IncidentId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/TenantsWithoutIngestionTime":{"id":"icmclusterlb/IcMDataWarehouse/TenantsWithoutIngestionTime","entityType":"Table","name":"TenantsWithoutIngestionTime","columns":{"icmclusterlb/1/68/0":{"id":"icmclusterlb/1/68/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/68/1":{"id":"icmclusterlb/1/68/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/68/2":{"id":"icmclusterlb/1/68/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/68/3":{"id":"icmclusterlb/1/68/3","name":"PublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/68/4":{"id":"icmclusterlb/1/68/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/68/5":{"id":"icmclusterlb/1/68/5","name":"Silo","entityType":"Column","type":"string"},"icmclusterlb/1/68/6":{"id":"icmclusterlb/1/68/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/68/7":{"id":"icmclusterlb/1/68/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/68/8":{"id":"icmclusterlb/1/68/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/68/9":{"id":"icmclusterlb/1/68/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/68/10":{"id":"icmclusterlb/1/68/10","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/68/11":{"id":"icmclusterlb/1/68/11","name":"SupportedSilos","entityType":"Column","type":"string"},"icmclusterlb/1/68/12":{"id":"icmclusterlb/1/68/12","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/68/13":{"id":"icmclusterlb/1/68/13","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/68/14":{"id":"icmclusterlb/1/68/14","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/68/15":{"id":"icmclusterlb/1/68/15","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/68/16":{"id":"icmclusterlb/1/68/16","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/68/17":{"id":"icmclusterlb/1/68/17","name":"IsCorrelationRuleAutoTuneEnabled","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshotStat":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshotStat","entityType":"Table","name":"Temp_CosmosIncidentImpactedTenantsSnapshotStat","columns":{"icmclusterlb/1/69/0":{"id":"icmclusterlb/1/69/0","name":"Count","entityType":"Column","type":"long"},"icmclusterlb/1/69/1":{"id":"icmclusterlb/1/69/1","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/69/2":{"id":"icmclusterlb/1/69/2","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}},"docstring":"Created based on Temp_CosmosIncidentImpactedTenantsSnapshotStat"},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntries":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntries","entityType":"Table","name":"IncidentCustomFieldEntries","columns":{"icmclusterlb/1/70/0":{"id":"icmclusterlb/1/70/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/70/1":{"id":"icmclusterlb/1/70/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/70/2":{"id":"icmclusterlb/1/70/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/70/3":{"id":"icmclusterlb/1/70/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/70/4":{"id":"icmclusterlb/1/70/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/70/5":{"id":"icmclusterlb/1/70/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/70/6":{"id":"icmclusterlb/1/70/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/70/7":{"id":"icmclusterlb/1/70/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/70/8":{"id":"icmclusterlb/1/70/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/70/9":{"id":"icmclusterlb/1/70/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/70/10":{"id":"icmclusterlb/1/70/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/70/11":{"id":"icmclusterlb/1/70/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/70/12":{"id":"icmclusterlb/1/70/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/70/13":{"id":"icmclusterlb/1/70/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/70/14":{"id":"icmclusterlb/1/70/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/70/15":{"id":"icmclusterlb/1/70/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/70/16":{"id":"icmclusterlb/1/70/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/70/17":{"id":"icmclusterlb/1/70/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/70/18":{"id":"icmclusterlb/1/70/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/70/19":{"id":"icmclusterlb/1/70/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/TenantLevelAutoInviteRules":{"id":"icmclusterlb/IcMDataWarehouse/TenantLevelAutoInviteRules","entityType":"Table","name":"TenantLevelAutoInviteRules","columns":{"icmclusterlb/1/71/0":{"id":"icmclusterlb/1/71/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/71/1":{"id":"icmclusterlb/1/71/1","name":"AutoInviteRules","entityType":"Column","type":"string"},"icmclusterlb/1/71/2":{"id":"icmclusterlb/1/71/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/71/3":{"id":"icmclusterlb/1/71/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/71/4":{"id":"icmclusterlb/1/71/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/71/5":{"id":"icmclusterlb/1/71/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/71/6":{"id":"icmclusterlb/1/71/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/71/7":{"id":"icmclusterlb/1/71/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/origin_IncidentBugs":{"id":"icmclusterlb/IcMDataWarehouse/origin_IncidentBugs","entityType":"Table","name":"origin_IncidentBugs","columns":{"icmclusterlb/1/72/0":{"id":"icmclusterlb/1/72/0","name":"IncidentBugMappingId","entityType":"Column","type":"long"},"icmclusterlb/1/72/1":{"id":"icmclusterlb/1/72/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/72/2":{"id":"icmclusterlb/1/72/2","name":"BugId","entityType":"Column","type":"long"},"icmclusterlb/1/72/3":{"id":"icmclusterlb/1/72/3","name":"Type","entityType":"Column","type":"string"},"icmclusterlb/1/72/4":{"id":"icmclusterlb/1/72/4","name":"Source","entityType":"Column","type":"string"},"icmclusterlb/1/72/5":{"id":"icmclusterlb/1/72/5","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/72/6":{"id":"icmclusterlb/1/72/6","name":"ExternalId","entityType":"Column","type":"string"},"icmclusterlb/1/72/7":{"id":"icmclusterlb/1/72/7","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/1/72/8":{"id":"icmclusterlb/1/72/8","name":"Delivery","entityType":"Column","type":"string"},"icmclusterlb/1/72/9":{"id":"icmclusterlb/1/72/9","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/72/10":{"id":"icmclusterlb/1/72/10","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/72/11":{"id":"icmclusterlb/1/72/11","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/72/12":{"id":"icmclusterlb/1/72/12","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/72/13":{"id":"icmclusterlb/1/72/13","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/72/14":{"id":"icmclusterlb/1/72/14","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/72/15":{"id":"icmclusterlb/1/72/15","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/72/16":{"id":"icmclusterlb/1/72/16","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/72/17":{"id":"icmclusterlb/1/72/17","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_02202020":{"id":"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_02202020","entityType":"Table","name":"Temp_IncidentsSnapshot_V1_02202020","columns":{"icmclusterlb/1/73/0":{"id":"icmclusterlb/1/73/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/73/1":{"id":"icmclusterlb/1/73/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/73/2":{"id":"icmclusterlb/1/73/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/73/3":{"id":"icmclusterlb/1/73/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/73/4":{"id":"icmclusterlb/1/73/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/5":{"id":"icmclusterlb/1/73/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/73/6":{"id":"icmclusterlb/1/73/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/73/7":{"id":"icmclusterlb/1/73/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/8":{"id":"icmclusterlb/1/73/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/9":{"id":"icmclusterlb/1/73/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/10":{"id":"icmclusterlb/1/73/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/73/11":{"id":"icmclusterlb/1/73/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/73/12":{"id":"icmclusterlb/1/73/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/73/13":{"id":"icmclusterlb/1/73/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/73/14":{"id":"icmclusterlb/1/73/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/73/15":{"id":"icmclusterlb/1/73/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/73/16":{"id":"icmclusterlb/1/73/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/73/17":{"id":"icmclusterlb/1/73/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/73/18":{"id":"icmclusterlb/1/73/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/73/19":{"id":"icmclusterlb/1/73/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/73/20":{"id":"icmclusterlb/1/73/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/73/21":{"id":"icmclusterlb/1/73/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/73/22":{"id":"icmclusterlb/1/73/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/73/23":{"id":"icmclusterlb/1/73/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/73/24":{"id":"icmclusterlb/1/73/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/73/25":{"id":"icmclusterlb/1/73/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/73/26":{"id":"icmclusterlb/1/73/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/73/27":{"id":"icmclusterlb/1/73/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/73/28":{"id":"icmclusterlb/1/73/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/73/29":{"id":"icmclusterlb/1/73/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/73/30":{"id":"icmclusterlb/1/73/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/73/31":{"id":"icmclusterlb/1/73/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/73/32":{"id":"icmclusterlb/1/73/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/73/33":{"id":"icmclusterlb/1/73/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/73/34":{"id":"icmclusterlb/1/73/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/73/35":{"id":"icmclusterlb/1/73/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/73/36":{"id":"icmclusterlb/1/73/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/73/37":{"id":"icmclusterlb/1/73/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/38":{"id":"icmclusterlb/1/73/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/39":{"id":"icmclusterlb/1/73/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/73/40":{"id":"icmclusterlb/1/73/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/73/41":{"id":"icmclusterlb/1/73/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/42":{"id":"icmclusterlb/1/73/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/73/43":{"id":"icmclusterlb/1/73/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/73/44":{"id":"icmclusterlb/1/73/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/73/45":{"id":"icmclusterlb/1/73/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/46":{"id":"icmclusterlb/1/73/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/73/47":{"id":"icmclusterlb/1/73/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/73/48":{"id":"icmclusterlb/1/73/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/49":{"id":"icmclusterlb/1/73/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/73/50":{"id":"icmclusterlb/1/73/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/51":{"id":"icmclusterlb/1/73/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/52":{"id":"icmclusterlb/1/73/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/73/53":{"id":"icmclusterlb/1/73/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/73/54":{"id":"icmclusterlb/1/73/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/73/55":{"id":"icmclusterlb/1/73/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/73/56":{"id":"icmclusterlb/1/73/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/73/57":{"id":"icmclusterlb/1/73/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/73/58":{"id":"icmclusterlb/1/73/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/73/59":{"id":"icmclusterlb/1/73/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/73/60":{"id":"icmclusterlb/1/73/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/73/61":{"id":"icmclusterlb/1/73/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/73/62":{"id":"icmclusterlb/1/73/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/73/63":{"id":"icmclusterlb/1/73/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/73/64":{"id":"icmclusterlb/1/73/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/73/65":{"id":"icmclusterlb/1/73/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/73/66":{"id":"icmclusterlb/1/73/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/67":{"id":"icmclusterlb/1/73/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/73/68":{"id":"icmclusterlb/1/73/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/73/69":{"id":"icmclusterlb/1/73/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/73/70":{"id":"icmclusterlb/1/73/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/73/71":{"id":"icmclusterlb/1/73/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/73/72":{"id":"icmclusterlb/1/73/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/73/73":{"id":"icmclusterlb/1/73/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/73/74":{"id":"icmclusterlb/1/73/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/73/75":{"id":"icmclusterlb/1/73/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/73/76":{"id":"icmclusterlb/1/73/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/73/77":{"id":"icmclusterlb/1/73/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/73/78":{"id":"icmclusterlb/1/73/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/73/79":{"id":"icmclusterlb/1/73/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/73/80":{"id":"icmclusterlb/1/73/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/81":{"id":"icmclusterlb/1/73/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/73/82":{"id":"icmclusterlb/1/73/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/73/83":{"id":"icmclusterlb/1/73/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/84":{"id":"icmclusterlb/1/73/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/73/85":{"id":"icmclusterlb/1/73/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/73/86":{"id":"icmclusterlb/1/73/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/73/87":{"id":"icmclusterlb/1/73/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/73/88":{"id":"icmclusterlb/1/73/88","name":"OutageImpactLevel","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamsSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/TeamsSnapshot_V1_Backup","entityType":"Table","name":"TeamsSnapshot_V1_Backup","columns":{"icmclusterlb/1/74/0":{"id":"icmclusterlb/1/74/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/74/1":{"id":"icmclusterlb/1/74/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/74/2":{"id":"icmclusterlb/1/74/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/74/3":{"id":"icmclusterlb/1/74/3","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/74/4":{"id":"icmclusterlb/1/74/4","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/74/5":{"id":"icmclusterlb/1/74/5","name":"PublicTeamId","entityType":"Column","type":"string"},"icmclusterlb/1/74/6":{"id":"icmclusterlb/1/74/6","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/74/7":{"id":"icmclusterlb/1/74/7","name":"CreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/74/8":{"id":"icmclusterlb/1/74/8","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/74/9":{"id":"icmclusterlb/1/74/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/74/10":{"id":"icmclusterlb/1/74/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/74/11":{"id":"icmclusterlb/1/74/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/74/12":{"id":"icmclusterlb/1/74/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/74/13":{"id":"icmclusterlb/1/74/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/74/14":{"id":"icmclusterlb/1/74/14","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/74/15":{"id":"icmclusterlb/1/74/15","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/1/74/16":{"id":"icmclusterlb/1/74/16","name":"AliasDomain","entityType":"Column","type":"string"},"icmclusterlb/1/74/17":{"id":"icmclusterlb/1/74/17","name":"ReferencedTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/74/18":{"id":"icmclusterlb/1/74/18","name":"AllowIncidentAssignment","entityType":"Column","type":"bool"},"icmclusterlb/1/74/19":{"id":"icmclusterlb/1/74/19","name":"AllowRequestAssistance","entityType":"Column","type":"bool"},"icmclusterlb/1/74/20":{"id":"icmclusterlb/1/74/20","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/74/21":{"id":"icmclusterlb/1/74/21","name":"PhoneCallDayTimeRestrictions","entityType":"Column","type":"string"},"icmclusterlb/1/74/22":{"id":"icmclusterlb/1/74/22","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/74/23":{"id":"icmclusterlb/1/74/23","name":"EligibleAsIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/74/24":{"id":"icmclusterlb/1/74/24","name":"EligibleAsExecutiveIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/74/25":{"id":"icmclusterlb/1/74/25","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/74/26":{"id":"icmclusterlb/1/74/26","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/74/27":{"id":"icmclusterlb/1/74/27","name":"RequestAssistanceSetting","entityType":"Column","type":"string"},"icmclusterlb/1/74/28":{"id":"icmclusterlb/1/74/28","name":"IsPrivate","entityType":"Column","type":"bool"},"icmclusterlb/1/74/29":{"id":"icmclusterlb/1/74/29","name":"AutoCorrelationConfigOverrideService","entityType":"Column","type":"bool"},"icmclusterlb/1/74/30":{"id":"icmclusterlb/1/74/30","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/74/31":{"id":"icmclusterlb/1/74/31","name":"FavoriteTeamSetting","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/UpdateEmailHistory":{"id":"icmclusterlb/IcMDataWarehouse/UpdateEmailHistory","entityType":"Table","name":"UpdateEmailHistory","columns":{"icmclusterlb/1/75/0":{"id":"icmclusterlb/1/75/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/75/1":{"id":"icmclusterlb/1/75/1","name":"TimeSent","entityType":"Column","type":"datetime"},"icmclusterlb/1/75/2":{"id":"icmclusterlb/1/75/2","name":"SentBy","entityType":"Column","type":"string"},"icmclusterlb/1/75/3":{"id":"icmclusterlb/1/75/3","name":"Context","entityType":"Column","type":"string"},"icmclusterlb/1/75/4":{"id":"icmclusterlb/1/75/4","name":"TemplateName","entityType":"Column","type":"string"},"icmclusterlb/1/75/5":{"id":"icmclusterlb/1/75/5","name":"To","entityType":"Column","type":"string"},"icmclusterlb/1/75/6":{"id":"icmclusterlb/1/75/6","name":"Cc","entityType":"Column","type":"string"},"icmclusterlb/1/75/7":{"id":"icmclusterlb/1/75/7","name":"Bcc","entityType":"Column","type":"string"},"icmclusterlb/1/75/8":{"id":"icmclusterlb/1/75/8","name":"Subject","entityType":"Column","type":"string"},"icmclusterlb/1/75/9":{"id":"icmclusterlb/1/75/9","name":"Body","entityType":"Column","type":"string"},"icmclusterlb/1/75/10":{"id":"icmclusterlb/1/75/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/75/11":{"id":"icmclusterlb/1/75/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/75/12":{"id":"icmclusterlb/1/75/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/75/13":{"id":"icmclusterlb/1/75/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/75/14":{"id":"icmclusterlb/1/75/14","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_RootCauses_all":{"id":"icmclusterlb/IcMDataWarehouse/Temp_RootCauses_all","entityType":"Table","name":"Temp_RootCauses_all","columns":{"icmclusterlb/1/76/0":{"id":"icmclusterlb/1/76/0","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/76/1":{"id":"icmclusterlb/1/76/1","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/76/2":{"id":"icmclusterlb/1/76/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/76/3":{"id":"icmclusterlb/1/76/3","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/76/4":{"id":"icmclusterlb/1/76/4","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/76/5":{"id":"icmclusterlb/1/76/5","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/76/6":{"id":"icmclusterlb/1/76/6","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/76/7":{"id":"icmclusterlb/1/76/7","name":"Category","entityType":"Column","type":"string"},"icmclusterlb/1/76/8":{"id":"icmclusterlb/1/76/8","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/76/9":{"id":"icmclusterlb/1/76/9","name":"Fix","entityType":"Column","type":"string"},"icmclusterlb/1/76/10":{"id":"icmclusterlb/1/76/10","name":"Bugs","entityType":"Column","type":"string"},"icmclusterlb/1/76/11":{"id":"icmclusterlb/1/76/11","name":"IsCausedByChange","entityType":"Column","type":"bool"},"icmclusterlb/1/76/12":{"id":"icmclusterlb/1/76/12","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/76/13":{"id":"icmclusterlb/1/76/13","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/76/14":{"id":"icmclusterlb/1/76/14","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/76/15":{"id":"icmclusterlb/1/76/15","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/76/16":{"id":"icmclusterlb/1/76/16","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/76/17":{"id":"icmclusterlb/1/76/17","name":"SubCategory","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot","entityType":"Table","name":"Temp_CosmosPurgedIncidentsSnapshot","columns":{"icmclusterlb/1/77/0":{"id":"icmclusterlb/1/77/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/77/1":{"id":"icmclusterlb/1/77/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/77/2":{"id":"icmclusterlb/1/77/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/77/3":{"id":"icmclusterlb/1/77/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/77/4":{"id":"icmclusterlb/1/77/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/5":{"id":"icmclusterlb/1/77/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/77/6":{"id":"icmclusterlb/1/77/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/77/7":{"id":"icmclusterlb/1/77/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/8":{"id":"icmclusterlb/1/77/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/9":{"id":"icmclusterlb/1/77/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/10":{"id":"icmclusterlb/1/77/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/77/11":{"id":"icmclusterlb/1/77/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/77/12":{"id":"icmclusterlb/1/77/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/77/13":{"id":"icmclusterlb/1/77/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/77/14":{"id":"icmclusterlb/1/77/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/77/15":{"id":"icmclusterlb/1/77/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/77/16":{"id":"icmclusterlb/1/77/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/77/17":{"id":"icmclusterlb/1/77/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/77/18":{"id":"icmclusterlb/1/77/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/77/19":{"id":"icmclusterlb/1/77/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/77/20":{"id":"icmclusterlb/1/77/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/77/21":{"id":"icmclusterlb/1/77/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/77/22":{"id":"icmclusterlb/1/77/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/77/23":{"id":"icmclusterlb/1/77/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/77/24":{"id":"icmclusterlb/1/77/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/77/25":{"id":"icmclusterlb/1/77/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/77/26":{"id":"icmclusterlb/1/77/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/77/27":{"id":"icmclusterlb/1/77/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/77/28":{"id":"icmclusterlb/1/77/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/77/29":{"id":"icmclusterlb/1/77/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/77/30":{"id":"icmclusterlb/1/77/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/77/31":{"id":"icmclusterlb/1/77/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/77/32":{"id":"icmclusterlb/1/77/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/77/33":{"id":"icmclusterlb/1/77/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/77/34":{"id":"icmclusterlb/1/77/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/77/35":{"id":"icmclusterlb/1/77/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/77/36":{"id":"icmclusterlb/1/77/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/77/37":{"id":"icmclusterlb/1/77/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/38":{"id":"icmclusterlb/1/77/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/39":{"id":"icmclusterlb/1/77/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/77/40":{"id":"icmclusterlb/1/77/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/77/41":{"id":"icmclusterlb/1/77/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/42":{"id":"icmclusterlb/1/77/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/77/43":{"id":"icmclusterlb/1/77/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/77/44":{"id":"icmclusterlb/1/77/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/77/45":{"id":"icmclusterlb/1/77/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/46":{"id":"icmclusterlb/1/77/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/77/47":{"id":"icmclusterlb/1/77/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/77/48":{"id":"icmclusterlb/1/77/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/49":{"id":"icmclusterlb/1/77/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/77/50":{"id":"icmclusterlb/1/77/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/51":{"id":"icmclusterlb/1/77/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/52":{"id":"icmclusterlb/1/77/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/77/53":{"id":"icmclusterlb/1/77/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/77/54":{"id":"icmclusterlb/1/77/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/77/55":{"id":"icmclusterlb/1/77/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/77/56":{"id":"icmclusterlb/1/77/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/77/57":{"id":"icmclusterlb/1/77/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/77/58":{"id":"icmclusterlb/1/77/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/77/59":{"id":"icmclusterlb/1/77/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/77/60":{"id":"icmclusterlb/1/77/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/77/61":{"id":"icmclusterlb/1/77/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/77/62":{"id":"icmclusterlb/1/77/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/77/63":{"id":"icmclusterlb/1/77/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/77/64":{"id":"icmclusterlb/1/77/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/77/65":{"id":"icmclusterlb/1/77/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/77/66":{"id":"icmclusterlb/1/77/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/67":{"id":"icmclusterlb/1/77/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/77/68":{"id":"icmclusterlb/1/77/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/77/69":{"id":"icmclusterlb/1/77/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/77/70":{"id":"icmclusterlb/1/77/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/77/71":{"id":"icmclusterlb/1/77/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/77/72":{"id":"icmclusterlb/1/77/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/77/73":{"id":"icmclusterlb/1/77/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/77/74":{"id":"icmclusterlb/1/77/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/77/75":{"id":"icmclusterlb/1/77/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/77/76":{"id":"icmclusterlb/1/77/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/77/77":{"id":"icmclusterlb/1/77/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/77/78":{"id":"icmclusterlb/1/77/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/77/79":{"id":"icmclusterlb/1/77/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/77/80":{"id":"icmclusterlb/1/77/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/81":{"id":"icmclusterlb/1/77/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/77/82":{"id":"icmclusterlb/1/77/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/77/83":{"id":"icmclusterlb/1/77/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/84":{"id":"icmclusterlb/1/77/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/77/85":{"id":"icmclusterlb/1/77/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/77/86":{"id":"icmclusterlb/1/77/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/77/87":{"id":"icmclusterlb/1/77/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/77/88":{"id":"icmclusterlb/1/77/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/77/89":{"id":"icmclusterlb/1/77/89","name":"Tags","entityType":"Column","type":"string"}},"docstring":"Created based on Temp_CosmosPurgedIncidentsSnapshot"},"icmclusterlb/IcMDataWarehouse/CorrelationRules":{"id":"icmclusterlb/IcMDataWarehouse/CorrelationRules","entityType":"Table","name":"CorrelationRules","columns":{"icmclusterlb/1/78/0":{"id":"icmclusterlb/1/78/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/78/1":{"id":"icmclusterlb/1/78/1","name":"CorrelationRules","entityType":"Column","type":"string"},"icmclusterlb/1/78/2":{"id":"icmclusterlb/1/78/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/78/3":{"id":"icmclusterlb/1/78/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/78/4":{"id":"icmclusterlb/1/78/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/78/5":{"id":"icmclusterlb/1/78/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/78/6":{"id":"icmclusterlb/1/78/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/78/7":{"id":"icmclusterlb/1/78/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/78/8":{"id":"icmclusterlb/1/78/8","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot_Merge":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosPurgedIncidentsSnapshot_Merge","entityType":"Table","name":"Temp_CosmosPurgedIncidentsSnapshot_Merge","columns":{"icmclusterlb/1/79/0":{"id":"icmclusterlb/1/79/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/79/1":{"id":"icmclusterlb/1/79/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/79/2":{"id":"icmclusterlb/1/79/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/79/3":{"id":"icmclusterlb/1/79/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/79/4":{"id":"icmclusterlb/1/79/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/5":{"id":"icmclusterlb/1/79/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/79/6":{"id":"icmclusterlb/1/79/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/79/7":{"id":"icmclusterlb/1/79/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/8":{"id":"icmclusterlb/1/79/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/9":{"id":"icmclusterlb/1/79/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/10":{"id":"icmclusterlb/1/79/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/79/11":{"id":"icmclusterlb/1/79/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/79/12":{"id":"icmclusterlb/1/79/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/79/13":{"id":"icmclusterlb/1/79/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/79/14":{"id":"icmclusterlb/1/79/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/79/15":{"id":"icmclusterlb/1/79/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/79/16":{"id":"icmclusterlb/1/79/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/79/17":{"id":"icmclusterlb/1/79/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/79/18":{"id":"icmclusterlb/1/79/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/79/19":{"id":"icmclusterlb/1/79/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/79/20":{"id":"icmclusterlb/1/79/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/79/21":{"id":"icmclusterlb/1/79/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/79/22":{"id":"icmclusterlb/1/79/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/79/23":{"id":"icmclusterlb/1/79/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/79/24":{"id":"icmclusterlb/1/79/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/79/25":{"id":"icmclusterlb/1/79/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/79/26":{"id":"icmclusterlb/1/79/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/79/27":{"id":"icmclusterlb/1/79/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/79/28":{"id":"icmclusterlb/1/79/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/79/29":{"id":"icmclusterlb/1/79/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/79/30":{"id":"icmclusterlb/1/79/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/79/31":{"id":"icmclusterlb/1/79/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/79/32":{"id":"icmclusterlb/1/79/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/79/33":{"id":"icmclusterlb/1/79/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/79/34":{"id":"icmclusterlb/1/79/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/79/35":{"id":"icmclusterlb/1/79/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/79/36":{"id":"icmclusterlb/1/79/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/79/37":{"id":"icmclusterlb/1/79/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/38":{"id":"icmclusterlb/1/79/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/39":{"id":"icmclusterlb/1/79/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/79/40":{"id":"icmclusterlb/1/79/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/79/41":{"id":"icmclusterlb/1/79/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/42":{"id":"icmclusterlb/1/79/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/79/43":{"id":"icmclusterlb/1/79/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/79/44":{"id":"icmclusterlb/1/79/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/79/45":{"id":"icmclusterlb/1/79/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/46":{"id":"icmclusterlb/1/79/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/79/47":{"id":"icmclusterlb/1/79/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/79/48":{"id":"icmclusterlb/1/79/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/49":{"id":"icmclusterlb/1/79/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/79/50":{"id":"icmclusterlb/1/79/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/51":{"id":"icmclusterlb/1/79/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/52":{"id":"icmclusterlb/1/79/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/79/53":{"id":"icmclusterlb/1/79/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/79/54":{"id":"icmclusterlb/1/79/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/79/55":{"id":"icmclusterlb/1/79/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/79/56":{"id":"icmclusterlb/1/79/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/79/57":{"id":"icmclusterlb/1/79/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/79/58":{"id":"icmclusterlb/1/79/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/79/59":{"id":"icmclusterlb/1/79/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/79/60":{"id":"icmclusterlb/1/79/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/79/61":{"id":"icmclusterlb/1/79/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/79/62":{"id":"icmclusterlb/1/79/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/79/63":{"id":"icmclusterlb/1/79/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/79/64":{"id":"icmclusterlb/1/79/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/79/65":{"id":"icmclusterlb/1/79/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/79/66":{"id":"icmclusterlb/1/79/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/67":{"id":"icmclusterlb/1/79/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/79/68":{"id":"icmclusterlb/1/79/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/79/69":{"id":"icmclusterlb/1/79/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/79/70":{"id":"icmclusterlb/1/79/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/79/71":{"id":"icmclusterlb/1/79/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/79/72":{"id":"icmclusterlb/1/79/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/79/73":{"id":"icmclusterlb/1/79/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/79/74":{"id":"icmclusterlb/1/79/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/79/75":{"id":"icmclusterlb/1/79/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/79/76":{"id":"icmclusterlb/1/79/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/79/77":{"id":"icmclusterlb/1/79/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/79/78":{"id":"icmclusterlb/1/79/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/79/79":{"id":"icmclusterlb/1/79/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/79/80":{"id":"icmclusterlb/1/79/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/81":{"id":"icmclusterlb/1/79/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/79/82":{"id":"icmclusterlb/1/79/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/79/83":{"id":"icmclusterlb/1/79/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/84":{"id":"icmclusterlb/1/79/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/79/85":{"id":"icmclusterlb/1/79/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/79/86":{"id":"icmclusterlb/1/79/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/79/87":{"id":"icmclusterlb/1/79/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/79/88":{"id":"icmclusterlb/1/79/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/79/89":{"id":"icmclusterlb/1/79/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PostIncidentReportAttachments":{"id":"icmclusterlb/IcMDataWarehouse/PostIncidentReportAttachments","entityType":"Table","name":"PostIncidentReportAttachments","columns":{"icmclusterlb/1/80/0":{"id":"icmclusterlb/1/80/0","name":"Filename","entityType":"Column","type":"string"},"icmclusterlb/1/80/1":{"id":"icmclusterlb/1/80/1","name":"UploadedBy","entityType":"Column","type":"string"},"icmclusterlb/1/80/2":{"id":"icmclusterlb/1/80/2","name":"UploadedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/80/3":{"id":"icmclusterlb/1/80/3","name":"Size","entityType":"Column","type":"long"},"icmclusterlb/1/80/4":{"id":"icmclusterlb/1/80/4","name":"FileUrl","entityType":"Column","type":"string"},"icmclusterlb/1/80/5":{"id":"icmclusterlb/1/80/5","name":"OwnerId","entityType":"Column","type":"long"},"icmclusterlb/1/80/6":{"id":"icmclusterlb/1/80/6","name":"OwnerType","entityType":"Column","type":"string"},"icmclusterlb/1/80/7":{"id":"icmclusterlb/1/80/7","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/80/8":{"id":"icmclusterlb/1/80/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/80/9":{"id":"icmclusterlb/1/80/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/80/10":{"id":"icmclusterlb/1/80/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/80/11":{"id":"icmclusterlb/1/80/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/80/12":{"id":"icmclusterlb/1/80/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsSnapshot_V1_Current":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsSnapshot_V1_Current","entityType":"Table","name":"IncidentImpactedTenantsSnapshot_V1_Current","columns":{"icmclusterlb/1/81/0":{"id":"icmclusterlb/1/81/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/81/1":{"id":"icmclusterlb/1/81/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/81/2":{"id":"icmclusterlb/1/81/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/81/3":{"id":"icmclusterlb/1/81/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/81/4":{"id":"icmclusterlb/1/81/4","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/81/5":{"id":"icmclusterlb/1/81/5","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/Notifications":{"id":"icmclusterlb/IcMDataWarehouse/Notifications","entityType":"Table","name":"Notifications","columns":{"icmclusterlb/1/82/0":{"id":"icmclusterlb/1/82/0","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/1/82/1":{"id":"icmclusterlb/1/82/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/82/2":{"id":"icmclusterlb/1/82/2","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/82/3":{"id":"icmclusterlb/1/82/3","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/82/4":{"id":"icmclusterlb/1/82/4","name":"AcknowledgeDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/82/5":{"id":"icmclusterlb/1/82/5","name":"AcknowledgeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/82/6":{"id":"icmclusterlb/1/82/6","name":"AcknowledgeContactId","entityType":"Column","type":"string"},"icmclusterlb/1/82/7":{"id":"icmclusterlb/1/82/7","name":"RequestType","entityType":"Column","type":"string"},"icmclusterlb/1/82/8":{"id":"icmclusterlb/1/82/8","name":"PrimaryTargetType","entityType":"Column","type":"string"},"icmclusterlb/1/82/9":{"id":"icmclusterlb/1/82/9","name":"PrimaryTarget","entityType":"Column","type":"string"},"icmclusterlb/1/82/10":{"id":"icmclusterlb/1/82/10","name":"SubjectType","entityType":"Column","type":"string"},"icmclusterlb/1/82/11":{"id":"icmclusterlb/1/82/11","name":"SubjectId","entityType":"Column","type":"string"},"icmclusterlb/1/82/12":{"id":"icmclusterlb/1/82/12","name":"Notes","entityType":"Column","type":"string"},"icmclusterlb/1/82/13":{"id":"icmclusterlb/1/82/13","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/82/14":{"id":"icmclusterlb/1/82/14","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/82/15":{"id":"icmclusterlb/1/82/15","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/82/16":{"id":"icmclusterlb/1/82/16","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/82/17":{"id":"icmclusterlb/1/82/17","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Backup","entityType":"Table","name":"IncidentsSnapshot_V1_Backup","columns":{"icmclusterlb/1/83/0":{"id":"icmclusterlb/1/83/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/83/1":{"id":"icmclusterlb/1/83/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/83/2":{"id":"icmclusterlb/1/83/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/83/3":{"id":"icmclusterlb/1/83/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/83/4":{"id":"icmclusterlb/1/83/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/5":{"id":"icmclusterlb/1/83/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/83/6":{"id":"icmclusterlb/1/83/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/83/7":{"id":"icmclusterlb/1/83/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/8":{"id":"icmclusterlb/1/83/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/9":{"id":"icmclusterlb/1/83/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/10":{"id":"icmclusterlb/1/83/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/83/11":{"id":"icmclusterlb/1/83/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/83/12":{"id":"icmclusterlb/1/83/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/83/13":{"id":"icmclusterlb/1/83/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/83/14":{"id":"icmclusterlb/1/83/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/83/15":{"id":"icmclusterlb/1/83/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/83/16":{"id":"icmclusterlb/1/83/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/83/17":{"id":"icmclusterlb/1/83/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/83/18":{"id":"icmclusterlb/1/83/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/83/19":{"id":"icmclusterlb/1/83/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/83/20":{"id":"icmclusterlb/1/83/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/83/21":{"id":"icmclusterlb/1/83/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/83/22":{"id":"icmclusterlb/1/83/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/83/23":{"id":"icmclusterlb/1/83/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/83/24":{"id":"icmclusterlb/1/83/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/83/25":{"id":"icmclusterlb/1/83/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/83/26":{"id":"icmclusterlb/1/83/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/83/27":{"id":"icmclusterlb/1/83/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/83/28":{"id":"icmclusterlb/1/83/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/83/29":{"id":"icmclusterlb/1/83/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/83/30":{"id":"icmclusterlb/1/83/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/83/31":{"id":"icmclusterlb/1/83/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/83/32":{"id":"icmclusterlb/1/83/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/83/33":{"id":"icmclusterlb/1/83/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/83/34":{"id":"icmclusterlb/1/83/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/83/35":{"id":"icmclusterlb/1/83/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/83/36":{"id":"icmclusterlb/1/83/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/83/37":{"id":"icmclusterlb/1/83/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/38":{"id":"icmclusterlb/1/83/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/39":{"id":"icmclusterlb/1/83/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/83/40":{"id":"icmclusterlb/1/83/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/83/41":{"id":"icmclusterlb/1/83/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/42":{"id":"icmclusterlb/1/83/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/83/43":{"id":"icmclusterlb/1/83/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/83/44":{"id":"icmclusterlb/1/83/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/83/45":{"id":"icmclusterlb/1/83/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/46":{"id":"icmclusterlb/1/83/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/83/47":{"id":"icmclusterlb/1/83/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/83/48":{"id":"icmclusterlb/1/83/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/49":{"id":"icmclusterlb/1/83/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/83/50":{"id":"icmclusterlb/1/83/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/51":{"id":"icmclusterlb/1/83/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/52":{"id":"icmclusterlb/1/83/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/83/53":{"id":"icmclusterlb/1/83/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/83/54":{"id":"icmclusterlb/1/83/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/83/55":{"id":"icmclusterlb/1/83/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/83/56":{"id":"icmclusterlb/1/83/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/83/57":{"id":"icmclusterlb/1/83/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/83/58":{"id":"icmclusterlb/1/83/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/83/59":{"id":"icmclusterlb/1/83/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/83/60":{"id":"icmclusterlb/1/83/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/83/61":{"id":"icmclusterlb/1/83/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/83/62":{"id":"icmclusterlb/1/83/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/83/63":{"id":"icmclusterlb/1/83/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/83/64":{"id":"icmclusterlb/1/83/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/83/65":{"id":"icmclusterlb/1/83/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/83/66":{"id":"icmclusterlb/1/83/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/67":{"id":"icmclusterlb/1/83/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/83/68":{"id":"icmclusterlb/1/83/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/83/69":{"id":"icmclusterlb/1/83/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/83/70":{"id":"icmclusterlb/1/83/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/83/71":{"id":"icmclusterlb/1/83/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/83/72":{"id":"icmclusterlb/1/83/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/83/73":{"id":"icmclusterlb/1/83/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/83/74":{"id":"icmclusterlb/1/83/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/83/75":{"id":"icmclusterlb/1/83/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/83/76":{"id":"icmclusterlb/1/83/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/83/77":{"id":"icmclusterlb/1/83/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/83/78":{"id":"icmclusterlb/1/83/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/83/79":{"id":"icmclusterlb/1/83/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/83/80":{"id":"icmclusterlb/1/83/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/81":{"id":"icmclusterlb/1/83/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/83/82":{"id":"icmclusterlb/1/83/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/83/83":{"id":"icmclusterlb/1/83/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/84":{"id":"icmclusterlb/1/83/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/83/85":{"id":"icmclusterlb/1/83/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/83/86":{"id":"icmclusterlb/1/83/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/83/87":{"id":"icmclusterlb/1/83/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/83/88":{"id":"icmclusterlb/1/83/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/83/89":{"id":"icmclusterlb/1/83/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentExternalSources":{"id":"icmclusterlb/IcMDataWarehouse/IncidentExternalSources","entityType":"Table","name":"IncidentExternalSources","columns":{"icmclusterlb/1/84/0":{"id":"icmclusterlb/1/84/0","name":"AlertSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/84/1":{"id":"icmclusterlb/1/84/1","name":"InstanceName","entityType":"Column","type":"string"},"icmclusterlb/1/84/2":{"id":"icmclusterlb/1/84/2","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/84/3":{"id":"icmclusterlb/1/84/3","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/84/4":{"id":"icmclusterlb/1/84/4","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/84/5":{"id":"icmclusterlb/1/84/5","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/84/6":{"id":"icmclusterlb/1/84/6","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/84/7":{"id":"icmclusterlb/1/84/7","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/84/8":{"id":"icmclusterlb/1/84/8","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/84/9":{"id":"icmclusterlb/1/84/9","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/84/10":{"id":"icmclusterlb/1/84/10","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshot":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshot","entityType":"Table","name":"Temp_CosmosIncidentImpactedTenantsSnapshot","columns":{"icmclusterlb/1/85/0":{"id":"icmclusterlb/1/85/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/85/1":{"id":"icmclusterlb/1/85/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/85/2":{"id":"icmclusterlb/1/85/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/85/3":{"id":"icmclusterlb/1/85/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/85/4":{"id":"icmclusterlb/1/85/4","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/85/5":{"id":"icmclusterlb/1/85/5","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}},"docstring":"Created based on Temp_CosmosIncidentImpactedTenantsSnapshot"},"icmclusterlb/IcMDataWarehouse/Temp_CosmosNonPurgedIncidentsSnapshot":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosNonPurgedIncidentsSnapshot","entityType":"Table","name":"Temp_CosmosNonPurgedIncidentsSnapshot","columns":{"icmclusterlb/1/86/0":{"id":"icmclusterlb/1/86/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/86/1":{"id":"icmclusterlb/1/86/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/86/2":{"id":"icmclusterlb/1/86/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/86/3":{"id":"icmclusterlb/1/86/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/86/4":{"id":"icmclusterlb/1/86/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/5":{"id":"icmclusterlb/1/86/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/86/6":{"id":"icmclusterlb/1/86/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/86/7":{"id":"icmclusterlb/1/86/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/8":{"id":"icmclusterlb/1/86/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/9":{"id":"icmclusterlb/1/86/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/10":{"id":"icmclusterlb/1/86/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/86/11":{"id":"icmclusterlb/1/86/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/86/12":{"id":"icmclusterlb/1/86/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/86/13":{"id":"icmclusterlb/1/86/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/86/14":{"id":"icmclusterlb/1/86/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/86/15":{"id":"icmclusterlb/1/86/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/86/16":{"id":"icmclusterlb/1/86/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/86/17":{"id":"icmclusterlb/1/86/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/86/18":{"id":"icmclusterlb/1/86/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/86/19":{"id":"icmclusterlb/1/86/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/86/20":{"id":"icmclusterlb/1/86/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/86/21":{"id":"icmclusterlb/1/86/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/86/22":{"id":"icmclusterlb/1/86/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/86/23":{"id":"icmclusterlb/1/86/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/86/24":{"id":"icmclusterlb/1/86/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/86/25":{"id":"icmclusterlb/1/86/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/86/26":{"id":"icmclusterlb/1/86/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/86/27":{"id":"icmclusterlb/1/86/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/86/28":{"id":"icmclusterlb/1/86/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/86/29":{"id":"icmclusterlb/1/86/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/86/30":{"id":"icmclusterlb/1/86/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/86/31":{"id":"icmclusterlb/1/86/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/86/32":{"id":"icmclusterlb/1/86/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/86/33":{"id":"icmclusterlb/1/86/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/86/34":{"id":"icmclusterlb/1/86/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/86/35":{"id":"icmclusterlb/1/86/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/86/36":{"id":"icmclusterlb/1/86/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/86/37":{"id":"icmclusterlb/1/86/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/38":{"id":"icmclusterlb/1/86/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/39":{"id":"icmclusterlb/1/86/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/86/40":{"id":"icmclusterlb/1/86/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/86/41":{"id":"icmclusterlb/1/86/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/42":{"id":"icmclusterlb/1/86/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/86/43":{"id":"icmclusterlb/1/86/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/86/44":{"id":"icmclusterlb/1/86/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/86/45":{"id":"icmclusterlb/1/86/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/46":{"id":"icmclusterlb/1/86/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/86/47":{"id":"icmclusterlb/1/86/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/86/48":{"id":"icmclusterlb/1/86/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/49":{"id":"icmclusterlb/1/86/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/86/50":{"id":"icmclusterlb/1/86/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/51":{"id":"icmclusterlb/1/86/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/52":{"id":"icmclusterlb/1/86/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/86/53":{"id":"icmclusterlb/1/86/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/86/54":{"id":"icmclusterlb/1/86/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/86/55":{"id":"icmclusterlb/1/86/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/86/56":{"id":"icmclusterlb/1/86/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/86/57":{"id":"icmclusterlb/1/86/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/86/58":{"id":"icmclusterlb/1/86/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/86/59":{"id":"icmclusterlb/1/86/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/86/60":{"id":"icmclusterlb/1/86/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/86/61":{"id":"icmclusterlb/1/86/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/86/62":{"id":"icmclusterlb/1/86/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/86/63":{"id":"icmclusterlb/1/86/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/86/64":{"id":"icmclusterlb/1/86/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/86/65":{"id":"icmclusterlb/1/86/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/86/66":{"id":"icmclusterlb/1/86/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/67":{"id":"icmclusterlb/1/86/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/86/68":{"id":"icmclusterlb/1/86/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/86/69":{"id":"icmclusterlb/1/86/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/86/70":{"id":"icmclusterlb/1/86/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/86/71":{"id":"icmclusterlb/1/86/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/86/72":{"id":"icmclusterlb/1/86/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/86/73":{"id":"icmclusterlb/1/86/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/86/74":{"id":"icmclusterlb/1/86/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/86/75":{"id":"icmclusterlb/1/86/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/86/76":{"id":"icmclusterlb/1/86/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/86/77":{"id":"icmclusterlb/1/86/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/86/78":{"id":"icmclusterlb/1/86/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/86/79":{"id":"icmclusterlb/1/86/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/86/80":{"id":"icmclusterlb/1/86/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/81":{"id":"icmclusterlb/1/86/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/86/82":{"id":"icmclusterlb/1/86/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/86/83":{"id":"icmclusterlb/1/86/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/84":{"id":"icmclusterlb/1/86/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/86/85":{"id":"icmclusterlb/1/86/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/86/86":{"id":"icmclusterlb/1/86/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/86/87":{"id":"icmclusterlb/1/86/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/86/88":{"id":"icmclusterlb/1/86/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/86/89":{"id":"icmclusterlb/1/86/89","name":"Tags","entityType":"Column","type":"string"}},"docstring":"Created based on Temp_CosmosNonPurgedIncidentsSnapshot"},"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step3":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924b_step3","entityType":"Table","name":"temp_backfill_82924b_step3","columns":{"icmclusterlb/1/87/0":{"id":"icmclusterlb/1/87/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/87/1":{"id":"icmclusterlb/1/87/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/87/2":{"id":"icmclusterlb/1/87/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/87/3":{"id":"icmclusterlb/1/87/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/87/4":{"id":"icmclusterlb/1/87/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/87/5":{"id":"icmclusterlb/1/87/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/87/6":{"id":"icmclusterlb/1/87/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/87/7":{"id":"icmclusterlb/1/87/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/87/8":{"id":"icmclusterlb/1/87/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/87/9":{"id":"icmclusterlb/1/87/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/87/10":{"id":"icmclusterlb/1/87/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/87/11":{"id":"icmclusterlb/1/87/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/87/12":{"id":"icmclusterlb/1/87/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/87/13":{"id":"icmclusterlb/1/87/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/87/14":{"id":"icmclusterlb/1/87/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/87/15":{"id":"icmclusterlb/1/87/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/87/16":{"id":"icmclusterlb/1/87/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/87/17":{"id":"icmclusterlb/1/87/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/87/18":{"id":"icmclusterlb/1/87/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/87/19":{"id":"icmclusterlb/1/87/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentAttachments":{"id":"icmclusterlb/IcMDataWarehouse/IncidentAttachments","entityType":"Table","name":"IncidentAttachments","columns":{"icmclusterlb/1/88/0":{"id":"icmclusterlb/1/88/0","name":"Filename","entityType":"Column","type":"string"},"icmclusterlb/1/88/1":{"id":"icmclusterlb/1/88/1","name":"UploadedBy","entityType":"Column","type":"string"},"icmclusterlb/1/88/2":{"id":"icmclusterlb/1/88/2","name":"UploadedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/88/3":{"id":"icmclusterlb/1/88/3","name":"Size","entityType":"Column","type":"long"},"icmclusterlb/1/88/4":{"id":"icmclusterlb/1/88/4","name":"FileUrl","entityType":"Column","type":"string"},"icmclusterlb/1/88/5":{"id":"icmclusterlb/1/88/5","name":"OwnerId","entityType":"Column","type":"long"},"icmclusterlb/1/88/6":{"id":"icmclusterlb/1/88/6","name":"OwnerType","entityType":"Column","type":"string"},"icmclusterlb/1/88/7":{"id":"icmclusterlb/1/88/7","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/88/8":{"id":"icmclusterlb/1/88/8","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/88/9":{"id":"icmclusterlb/1/88/9","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/88/10":{"id":"icmclusterlb/1/88/10","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/88/11":{"id":"icmclusterlb/1/88/11","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/88/12":{"id":"icmclusterlb/1/88/12","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/temp_Notfication_RequestTypeFix":{"id":"icmclusterlb/IcMDataWarehouse/temp_Notfication_RequestTypeFix","entityType":"Table","name":"temp_Notfication_RequestTypeFix","columns":{"icmclusterlb/1/89/0":{"id":"icmclusterlb/1/89/0","name":"NotificationId","entityType":"Column","type":"long"},"icmclusterlb/1/89/1":{"id":"icmclusterlb/1/89/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/89/2":{"id":"icmclusterlb/1/89/2","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/89/3":{"id":"icmclusterlb/1/89/3","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/89/4":{"id":"icmclusterlb/1/89/4","name":"AcknowledgeDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/89/5":{"id":"icmclusterlb/1/89/5","name":"AcknowledgeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/89/6":{"id":"icmclusterlb/1/89/6","name":"AcknowledgeContactId","entityType":"Column","type":"string"},"icmclusterlb/1/89/7":{"id":"icmclusterlb/1/89/7","name":"RequestType","entityType":"Column","type":"string"},"icmclusterlb/1/89/8":{"id":"icmclusterlb/1/89/8","name":"PrimaryTargetType","entityType":"Column","type":"string"},"icmclusterlb/1/89/9":{"id":"icmclusterlb/1/89/9","name":"PrimaryTarget","entityType":"Column","type":"string"},"icmclusterlb/1/89/10":{"id":"icmclusterlb/1/89/10","name":"SubjectType","entityType":"Column","type":"string"},"icmclusterlb/1/89/11":{"id":"icmclusterlb/1/89/11","name":"SubjectId","entityType":"Column","type":"string"},"icmclusterlb/1/89/12":{"id":"icmclusterlb/1/89/12","name":"Notes","entityType":"Column","type":"string"},"icmclusterlb/1/89/13":{"id":"icmclusterlb/1/89/13","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/89/14":{"id":"icmclusterlb/1/89/14","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/89/15":{"id":"icmclusterlb/1/89/15","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/89/16":{"id":"icmclusterlb/1/89/16","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/89/17":{"id":"icmclusterlb/1/89/17","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Teams":{"id":"icmclusterlb/IcMDataWarehouse/Teams","entityType":"Table","name":"Teams","columns":{"icmclusterlb/1/90/0":{"id":"icmclusterlb/1/90/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/90/1":{"id":"icmclusterlb/1/90/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/90/2":{"id":"icmclusterlb/1/90/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/90/3":{"id":"icmclusterlb/1/90/3","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/90/4":{"id":"icmclusterlb/1/90/4","name":"PublicTeamId","entityType":"Column","type":"string"},"icmclusterlb/1/90/5":{"id":"icmclusterlb/1/90/5","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/90/6":{"id":"icmclusterlb/1/90/6","name":"CreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/90/7":{"id":"icmclusterlb/1/90/7","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/90/8":{"id":"icmclusterlb/1/90/8","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/90/9":{"id":"icmclusterlb/1/90/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/90/10":{"id":"icmclusterlb/1/90/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/90/11":{"id":"icmclusterlb/1/90/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/90/12":{"id":"icmclusterlb/1/90/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/90/13":{"id":"icmclusterlb/1/90/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/90/14":{"id":"icmclusterlb/1/90/14","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/90/15":{"id":"icmclusterlb/1/90/15","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/1/90/16":{"id":"icmclusterlb/1/90/16","name":"AliasDomain","entityType":"Column","type":"string"},"icmclusterlb/1/90/17":{"id":"icmclusterlb/1/90/17","name":"ReferencedTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/90/18":{"id":"icmclusterlb/1/90/18","name":"AllowIncidentAssignment","entityType":"Column","type":"bool"},"icmclusterlb/1/90/19":{"id":"icmclusterlb/1/90/19","name":"AllowRequestAssistance","entityType":"Column","type":"bool"},"icmclusterlb/1/90/20":{"id":"icmclusterlb/1/90/20","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/90/21":{"id":"icmclusterlb/1/90/21","name":"PhoneCallDayTimeRestrictions","entityType":"Column","type":"string"},"icmclusterlb/1/90/22":{"id":"icmclusterlb/1/90/22","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/90/23":{"id":"icmclusterlb/1/90/23","name":"EligibleAsIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/90/24":{"id":"icmclusterlb/1/90/24","name":"EligibleAsExecutiveIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/90/25":{"id":"icmclusterlb/1/90/25","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/90/26":{"id":"icmclusterlb/1/90/26","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/90/27":{"id":"icmclusterlb/1/90/27","name":"RequestAssistanceSetting","entityType":"Column","type":"string"},"icmclusterlb/1/90/28":{"id":"icmclusterlb/1/90/28","name":"IsPrivate","entityType":"Column","type":"bool"},"icmclusterlb/1/90/29":{"id":"icmclusterlb/1/90/29","name":"AutoCorrelationConfigOverrideService","entityType":"Column","type":"bool"},"icmclusterlb/1/90/30":{"id":"icmclusterlb/1/90/30","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/90/31":{"id":"icmclusterlb/1/90/31","name":"FavoriteTeamSetting","entityType":"Column","type":"string"},"icmclusterlb/1/90/32":{"id":"icmclusterlb/1/90/32","name":"ArePhoneCallHoursRestricted","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshot_temp_1e784b09a817c0846b34763b11b10f7e":{"id":"icmclusterlb/IcMDataWarehouse/Temp_CosmosIncidentImpactedTenantsSnapshot_temp_1e784b09a817c0846b34763b11b10f7e","entityType":"Table","name":"Temp_CosmosIncidentImpactedTenantsSnapshot_temp_1e784b09a817c0846b34763b11b10f7e","columns":{"icmclusterlb/1/91/0":{"id":"icmclusterlb/1/91/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/91/1":{"id":"icmclusterlb/1/91/1","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/91/2":{"id":"icmclusterlb/1/91/2","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/91/3":{"id":"icmclusterlb/1/91/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/91/4":{"id":"icmclusterlb/1/91/4","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/91/5":{"id":"icmclusterlb/1/91/5","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/Bugs":{"id":"icmclusterlb/IcMDataWarehouse/Bugs","entityType":"Table","name":"Bugs","columns":{"icmclusterlb/1/92/0":{"id":"icmclusterlb/1/92/0","name":"RootCauseBugMappingId","entityType":"Column","type":"long"},"icmclusterlb/1/92/1":{"id":"icmclusterlb/1/92/1","name":"BugId","entityType":"Column","type":"long"},"icmclusterlb/1/92/2":{"id":"icmclusterlb/1/92/2","name":"ExternalBugId","entityType":"Column","type":"string"},"icmclusterlb/1/92/3":{"id":"icmclusterlb/1/92/3","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/92/4":{"id":"icmclusterlb/1/92/4","name":"Type","entityType":"Column","type":"string"},"icmclusterlb/1/92/5":{"id":"icmclusterlb/1/92/5","name":"Source","entityType":"Column","type":"string"},"icmclusterlb/1/92/6":{"id":"icmclusterlb/1/92/6","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/92/7":{"id":"icmclusterlb/1/92/7","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/1/92/8":{"id":"icmclusterlb/1/92/8","name":"Delivery","entityType":"Column","type":"string"},"icmclusterlb/1/92/9":{"id":"icmclusterlb/1/92/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/92/10":{"id":"icmclusterlb/1/92/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/92/11":{"id":"icmclusterlb/1/92/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/92/12":{"id":"icmclusterlb/1/92/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/92/13":{"id":"icmclusterlb/1/92/13","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PowerlossScoutRelatedOutage":{"id":"icmclusterlb/IcMDataWarehouse/PowerlossScoutRelatedOutage","entityType":"Table","name":"PowerlossScoutRelatedOutage","columns":{"icmclusterlb/1/93/0":{"id":"icmclusterlb/1/93/0","name":"ScoutIncident","entityType":"Column","type":"long"},"icmclusterlb/1/93/1":{"id":"icmclusterlb/1/93/1","name":"ImpactedDC","entityType":"Column","type":"string"},"icmclusterlb/1/93/2":{"id":"icmclusterlb/1/93/2","name":"Sev1_Count","entityType":"Column","type":"long"},"icmclusterlb/1/93/3":{"id":"icmclusterlb/1/93/3","name":"Sev2_Count","entityType":"Column","type":"long"},"icmclusterlb/1/93/4":{"id":"icmclusterlb/1/93/4","name":"Sev3_Count","entityType":"Column","type":"long"},"icmclusterlb/1/93/5":{"id":"icmclusterlb/1/93/5","name":"Sev4_Count","entityType":"Column","type":"long"},"icmclusterlb/1/93/6":{"id":"icmclusterlb/1/93/6","name":"OriginatingTenantCount","entityType":"Column","type":"long"},"icmclusterlb/1/93/7":{"id":"icmclusterlb/1/93/7","name":"OriginatingTenantSet","entityType":"Column","type":"dynamic"},"icmclusterlb/1/93/8":{"id":"icmclusterlb/1/93/8","name":"OutageIncident","entityType":"Column","type":"long"},"icmclusterlb/1/93/9":{"id":"icmclusterlb/1/93/9","name":"OutageSeverity","entityType":"Column","type":"int"},"icmclusterlb/1/93/10":{"id":"icmclusterlb/1/93/10","name":"OutageTeam","entityType":"Column","type":"string"},"icmclusterlb/1/93/11":{"id":"icmclusterlb/1/93/11","name":"OutageTenant","entityType":"Column","type":"string"},"icmclusterlb/1/93/12":{"id":"icmclusterlb/1/93/12","name":"OutageDeclaredTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/93/13":{"id":"icmclusterlb/1/93/13","name":"SavedTTD_inMinute","entityType":"Column","type":"long"},"icmclusterlb/1/93/14":{"id":"icmclusterlb/1/93/14","name":"Ingestion_Time","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/ExternalLinks":{"id":"icmclusterlb/IcMDataWarehouse/ExternalLinks","entityType":"Table","name":"ExternalLinks","columns":{"icmclusterlb/1/94/0":{"id":"icmclusterlb/1/94/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/94/1":{"id":"icmclusterlb/1/94/1","name":"ExternalLinkMappingId","entityType":"Column","type":"long"},"icmclusterlb/1/94/2":{"id":"icmclusterlb/1/94/2","name":"ExternalLinkTypeName","entityType":"Column","type":"string"},"icmclusterlb/1/94/3":{"id":"icmclusterlb/1/94/3","name":"ExternalSourceId","entityType":"Column","type":"string"},"icmclusterlb/1/94/4":{"id":"icmclusterlb/1/94/4","name":"IcmEntityTypeName","entityType":"Column","type":"string"},"icmclusterlb/1/94/5":{"id":"icmclusterlb/1/94/5","name":"IcmEntityId","entityType":"Column","type":"string"},"icmclusterlb/1/94/6":{"id":"icmclusterlb/1/94/6","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/94/7":{"id":"icmclusterlb/1/94/7","name":"Owner","entityType":"Column","type":"string"},"icmclusterlb/1/94/8":{"id":"icmclusterlb/1/94/8","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/94/9":{"id":"icmclusterlb/1/94/9","name":"AdditionalData","entityType":"Column","type":"string"},"icmclusterlb/1/94/10":{"id":"icmclusterlb/1/94/10","name":"ExternalLinkConfigId","entityType":"Column","type":"long"},"icmclusterlb/1/94/11":{"id":"icmclusterlb/1/94/11","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/94/12":{"id":"icmclusterlb/1/94/12","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/94/13":{"id":"icmclusterlb/1/94/13","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/94/14":{"id":"icmclusterlb/1/94/14","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/94/15":{"id":"icmclusterlb/1/94/15","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/94/16":{"id":"icmclusterlb/1/94/16","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/94/17":{"id":"icmclusterlb/1/94/17","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/94/18":{"id":"icmclusterlb/1/94/18","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/94/19":{"id":"icmclusterlb/1/94/19","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/DynamicDiagnosisSettings":{"id":"icmclusterlb/IcMDataWarehouse/DynamicDiagnosisSettings","entityType":"Table","name":"DynamicDiagnosisSettings","columns":{"icmclusterlb/1/95/0":{"id":"icmclusterlb/1/95/0","name":"DynamicDiagnosisSettingId","entityType":"Column","type":"string"},"icmclusterlb/1/95/1":{"id":"icmclusterlb/1/95/1","name":"EntityType","entityType":"Column","type":"string"},"icmclusterlb/1/95/2":{"id":"icmclusterlb/1/95/2","name":"EntityId","entityType":"Column","type":"string"},"icmclusterlb/1/95/3":{"id":"icmclusterlb/1/95/3","name":"FieldType","entityType":"Column","type":"string"},"icmclusterlb/1/95/4":{"id":"icmclusterlb/1/95/4","name":"FieldId","entityType":"Column","type":"string"},"icmclusterlb/1/95/5":{"id":"icmclusterlb/1/95/5","name":"DiagnosisSource","entityType":"Column","type":"string"},"icmclusterlb/1/95/6":{"id":"icmclusterlb/1/95/6","name":"Setting","entityType":"Column","type":"string"},"icmclusterlb/1/95/7":{"id":"icmclusterlb/1/95/7","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/95/8":{"id":"icmclusterlb/1/95/8","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/95/9":{"id":"icmclusterlb/1/95/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/95/10":{"id":"icmclusterlb/1/95/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/95/11":{"id":"icmclusterlb/1/95/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/95/12":{"id":"icmclusterlb/1/95/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/95/13":{"id":"icmclusterlb/1/95/13","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamworkChannels":{"id":"icmclusterlb/IcMDataWarehouse/TeamworkChannels","entityType":"Table","name":"TeamworkChannels","columns":{"icmclusterlb/1/96/0":{"id":"icmclusterlb/1/96/0","name":"ChannelId","entityType":"Column","type":"string"},"icmclusterlb/1/96/1":{"id":"icmclusterlb/1/96/1","name":"ChannelAccessId","entityType":"Column","type":"string"},"icmclusterlb/1/96/2":{"id":"icmclusterlb/1/96/2","name":"MsTeamsTeamId","entityType":"Column","type":"string"},"icmclusterlb/1/96/3":{"id":"icmclusterlb/1/96/3","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/96/4":{"id":"icmclusterlb/1/96/4","name":"MsTeamsChannelId","entityType":"Column","type":"string"},"icmclusterlb/1/96/5":{"id":"icmclusterlb/1/96/5","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/96/6":{"id":"icmclusterlb/1/96/6","name":"ChannelLocation","entityType":"Column","type":"string"},"icmclusterlb/1/96/7":{"id":"icmclusterlb/1/96/7","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/96/8":{"id":"icmclusterlb/1/96/8","name":"SoftDeleteDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/96/9":{"id":"icmclusterlb/1/96/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/96/10":{"id":"icmclusterlb/1/96/10","name":"ChannelWebUri","entityType":"Column","type":"string"},"icmclusterlb/1/96/11":{"id":"icmclusterlb/1/96/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/96/12":{"id":"icmclusterlb/1/96/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/96/13":{"id":"icmclusterlb/1/96/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/96/14":{"id":"icmclusterlb/1/96/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/96/15":{"id":"icmclusterlb/1/96/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/96/16":{"id":"icmclusterlb/1/96/16","name":"ChannelId_1","entityType":"Column","type":"long"},"icmclusterlb/1/96/17":{"id":"icmclusterlb/1/96/17","name":"MsTeamsTeamId_1","entityType":"Column","type":"guid"},"icmclusterlb/1/96/18":{"id":"icmclusterlb/1/96/18","name":"SoftDeleteDate_1","entityType":"Column","type":"string"},"icmclusterlb/1/96/19":{"id":"icmclusterlb/1/96/19","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/CustomFieldEnumValues":{"id":"icmclusterlb/IcMDataWarehouse/CustomFieldEnumValues","entityType":"Table","name":"CustomFieldEnumValues","columns":{"icmclusterlb/1/97/0":{"id":"icmclusterlb/1/97/0","name":"CustomFieldEnumValueId","entityType":"Column","type":"long"},"icmclusterlb/1/97/1":{"id":"icmclusterlb/1/97/1","name":"EnumTypeId","entityType":"Column","type":"long"},"icmclusterlb/1/97/2":{"id":"icmclusterlb/1/97/2","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/97/3":{"id":"icmclusterlb/1/97/3","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/97/4":{"id":"icmclusterlb/1/97/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/97/5":{"id":"icmclusterlb/1/97/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/97/6":{"id":"icmclusterlb/1/97/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/97/7":{"id":"icmclusterlb/1/97/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/97/8":{"id":"icmclusterlb/1/97/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/97/9":{"id":"icmclusterlb/1/97/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentHistory":{"id":"icmclusterlb/IcMDataWarehouse/IncidentHistory","entityType":"Table","name":"IncidentHistory","columns":{"icmclusterlb/1/98/0":{"id":"icmclusterlb/1/98/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/98/1":{"id":"icmclusterlb/1/98/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/98/2":{"id":"icmclusterlb/1/98/2","name":"ChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/3":{"id":"icmclusterlb/1/98/3","name":"ChangedBy","entityType":"Column","type":"string"},"icmclusterlb/1/98/4":{"id":"icmclusterlb/1/98/4","name":"ChangeCategories","entityType":"Column","type":"string"},"icmclusterlb/1/98/5":{"id":"icmclusterlb/1/98/5","name":"ChangeDescription","entityType":"Column","type":"string"},"icmclusterlb/1/98/6":{"id":"icmclusterlb/1/98/6","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/98/7":{"id":"icmclusterlb/1/98/7","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/98/8":{"id":"icmclusterlb/1/98/8","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/98/9":{"id":"icmclusterlb/1/98/9","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/98/10":{"id":"icmclusterlb/1/98/10","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/98/11":{"id":"icmclusterlb/1/98/11","name":"OwningContactId","entityType":"Column","type":"string"},"icmclusterlb/1/98/12":{"id":"icmclusterlb/1/98/12","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/98/13":{"id":"icmclusterlb/1/98/13","name":"ClearedContactId","entityType":"Column","type":"bool"},"icmclusterlb/1/98/14":{"id":"icmclusterlb/1/98/14","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/98/15":{"id":"icmclusterlb/1/98/15","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/98/16":{"id":"icmclusterlb/1/98/16","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/98/17":{"id":"icmclusterlb/1/98/17","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/98/18":{"id":"icmclusterlb/1/98/18","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/98/19":{"id":"icmclusterlb/1/98/19","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/98/20":{"id":"icmclusterlb/1/98/20","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/98/21":{"id":"icmclusterlb/1/98/21","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/98/22":{"id":"icmclusterlb/1/98/22","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/98/23":{"id":"icmclusterlb/1/98/23","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/98/24":{"id":"icmclusterlb/1/98/24","name":"ClearedCustomerName","entityType":"Column","type":"bool"},"icmclusterlb/1/98/25":{"id":"icmclusterlb/1/98/25","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/26":{"id":"icmclusterlb/1/98/26","name":"ClearedCommitDate","entityType":"Column","type":"bool"},"icmclusterlb/1/98/27":{"id":"icmclusterlb/1/98/27","name":"NeedsInvestigation","entityType":"Column","type":"bool"},"icmclusterlb/1/98/28":{"id":"icmclusterlb/1/98/28","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/98/29":{"id":"icmclusterlb/1/98/29","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/98/30":{"id":"icmclusterlb/1/98/30","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/98/31":{"id":"icmclusterlb/1/98/31","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/98/32":{"id":"icmclusterlb/1/98/32","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/98/33":{"id":"icmclusterlb/1/98/33","name":"BridgeConfId","entityType":"Column","type":"string"},"icmclusterlb/1/98/34":{"id":"icmclusterlb/1/98/34","name":"BridgePhoneNumber","entityType":"Column","type":"string"},"icmclusterlb/1/98/35":{"id":"icmclusterlb/1/98/35","name":"BridgeUri","entityType":"Column","type":"string"},"icmclusterlb/1/98/36":{"id":"icmclusterlb/1/98/36","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/98/37":{"id":"icmclusterlb/1/98/37","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/98/38":{"id":"icmclusterlb/1/98/38","name":"MitigatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/39":{"id":"icmclusterlb/1/98/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/98/40":{"id":"icmclusterlb/1/98/40","name":"ResolvedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/41":{"id":"icmclusterlb/1/98/41","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/98/42":{"id":"icmclusterlb/1/98/42","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/98/43":{"id":"icmclusterlb/1/98/43","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/44":{"id":"icmclusterlb/1/98/44","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/98/45":{"id":"icmclusterlb/1/98/45","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/98/46":{"id":"icmclusterlb/1/98/46","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/98/47":{"id":"icmclusterlb/1/98/47","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/98/48":{"id":"icmclusterlb/1/98/48","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/98/49":{"id":"icmclusterlb/1/98/49","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/98/50":{"id":"icmclusterlb/1/98/50","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/51":{"id":"icmclusterlb/1/98/51","name":"CommunicationsManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/98/52":{"id":"icmclusterlb/1/98/52","name":"Datacenter","entityType":"Column","type":"string"},"icmclusterlb/1/98/53":{"id":"icmclusterlb/1/98/53","name":"DeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/98/54":{"id":"icmclusterlb/1/98/54","name":"DeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/98/55":{"id":"icmclusterlb/1/98/55","name":"DiagnosticsLink","entityType":"Column","type":"string"},"icmclusterlb/1/98/56":{"id":"icmclusterlb/1/98/56","name":"Environment","entityType":"Column","type":"string"},"icmclusterlb/1/98/57":{"id":"icmclusterlb/1/98/57","name":"ExternalLinkId","entityType":"Column","type":"long"},"icmclusterlb/1/98/58":{"id":"icmclusterlb/1/98/58","name":"ExternalLinkType","entityType":"Column","type":"string"},"icmclusterlb/1/98/59":{"id":"icmclusterlb/1/98/59","name":"HealthResourceId","entityType":"Column","type":"string"},"icmclusterlb/1/98/60":{"id":"icmclusterlb/1/98/60","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/98/61":{"id":"icmclusterlb/1/98/61","name":"ImpactedComponents","entityType":"Column","type":"string"},"icmclusterlb/1/98/62":{"id":"icmclusterlb/1/98/62","name":"ImpactedServices","entityType":"Column","type":"string"},"icmclusterlb/1/98/63":{"id":"icmclusterlb/1/98/63","name":"ImpactedTeams","entityType":"Column","type":"string"},"icmclusterlb/1/98/64":{"id":"icmclusterlb/1/98/64","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/98/65":{"id":"icmclusterlb/1/98/65","name":"IncidentManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/98/66":{"id":"icmclusterlb/1/98/66","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/98/67":{"id":"icmclusterlb/1/98/67","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/98/68":{"id":"icmclusterlb/1/98/68","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/98/69":{"id":"icmclusterlb/1/98/69","name":"RelationshipChildId","entityType":"Column","type":"long"},"icmclusterlb/1/98/70":{"id":"icmclusterlb/1/98/70","name":"RelationshipParentId","entityType":"Column","type":"long"},"icmclusterlb/1/98/71":{"id":"icmclusterlb/1/98/71","name":"RelationshipType","entityType":"Column","type":"string"},"icmclusterlb/1/98/72":{"id":"icmclusterlb/1/98/72","name":"ResolutionStatus","entityType":"Column","type":"string"},"icmclusterlb/1/98/73":{"id":"icmclusterlb/1/98/73","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/98/74":{"id":"icmclusterlb/1/98/74","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/98/75":{"id":"icmclusterlb/1/98/75","name":"RootCauseHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/98/76":{"id":"icmclusterlb/1/98/76","name":"RootCauseNeedsInvestigation","entityType":"Column","type":"bool"},"icmclusterlb/1/98/77":{"id":"icmclusterlb/1/98/77","name":"RuleId","entityType":"Column","type":"long"},"icmclusterlb/1/98/78":{"id":"icmclusterlb/1/98/78","name":"RuleType","entityType":"Column","type":"string"},"icmclusterlb/1/98/79":{"id":"icmclusterlb/1/98/79","name":"ServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/98/80":{"id":"icmclusterlb/1/98/80","name":"SiteReliabilityContactId","entityType":"Column","type":"long"},"icmclusterlb/1/98/81":{"id":"icmclusterlb/1/98/81","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/98/82":{"id":"icmclusterlb/1/98/82","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/98/83":{"id":"icmclusterlb/1/98/83","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/98/84":{"id":"icmclusterlb/1/98/84","name":"SuppressAutoUpdate","entityType":"Column","type":"bool"},"icmclusterlb/1/98/85":{"id":"icmclusterlb/1/98/85","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/98/86":{"id":"icmclusterlb/1/98/86","name":"UseCurrentValueIfNullSpecified","entityType":"Column","type":"long"},"icmclusterlb/1/98/87":{"id":"icmclusterlb/1/98/87","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/98/88":{"id":"icmclusterlb/1/98/88","name":"ExecutiveIncidentManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/98/89":{"id":"icmclusterlb/1/98/89","name":"Tags","entityType":"Column","type":"string"},"icmclusterlb/1/98/90":{"id":"icmclusterlb/1/98/90","name":"ImpactedEntities","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamServiceTreeMapping":{"id":"icmclusterlb/IcMDataWarehouse/TeamServiceTreeMapping","entityType":"Table","name":"TeamServiceTreeMapping","columns":{"icmclusterlb/1/99/0":{"id":"icmclusterlb/1/99/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/99/1":{"id":"icmclusterlb/1/99/1","name":"MappedServiceTreeEntities","entityType":"Column","type":"string"},"icmclusterlb/1/99/2":{"id":"icmclusterlb/1/99/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/99/3":{"id":"icmclusterlb/1/99/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/99/4":{"id":"icmclusterlb/1/99/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/99/5":{"id":"icmclusterlb/1/99/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/99/6":{"id":"icmclusterlb/1/99/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/99/7":{"id":"icmclusterlb/1/99/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/99/8":{"id":"icmclusterlb/1/99/8","name":"TeamPublicId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Current":{"id":"icmclusterlb/IcMDataWarehouse/IncidentsSnapshot_V1_Current","entityType":"Table","name":"IncidentsSnapshot_V1_Current","columns":{"icmclusterlb/1/100/0":{"id":"icmclusterlb/1/100/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/100/1":{"id":"icmclusterlb/1/100/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/100/2":{"id":"icmclusterlb/1/100/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/100/3":{"id":"icmclusterlb/1/100/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/100/4":{"id":"icmclusterlb/1/100/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/5":{"id":"icmclusterlb/1/100/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/100/6":{"id":"icmclusterlb/1/100/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/100/7":{"id":"icmclusterlb/1/100/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/8":{"id":"icmclusterlb/1/100/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/9":{"id":"icmclusterlb/1/100/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/10":{"id":"icmclusterlb/1/100/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/100/11":{"id":"icmclusterlb/1/100/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/100/12":{"id":"icmclusterlb/1/100/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/100/13":{"id":"icmclusterlb/1/100/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/100/14":{"id":"icmclusterlb/1/100/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/100/15":{"id":"icmclusterlb/1/100/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/100/16":{"id":"icmclusterlb/1/100/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/100/17":{"id":"icmclusterlb/1/100/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/100/18":{"id":"icmclusterlb/1/100/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/100/19":{"id":"icmclusterlb/1/100/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/100/20":{"id":"icmclusterlb/1/100/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/100/21":{"id":"icmclusterlb/1/100/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/100/22":{"id":"icmclusterlb/1/100/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/100/23":{"id":"icmclusterlb/1/100/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/100/24":{"id":"icmclusterlb/1/100/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/100/25":{"id":"icmclusterlb/1/100/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/100/26":{"id":"icmclusterlb/1/100/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/100/27":{"id":"icmclusterlb/1/100/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/100/28":{"id":"icmclusterlb/1/100/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/100/29":{"id":"icmclusterlb/1/100/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/100/30":{"id":"icmclusterlb/1/100/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/100/31":{"id":"icmclusterlb/1/100/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/100/32":{"id":"icmclusterlb/1/100/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/100/33":{"id":"icmclusterlb/1/100/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/100/34":{"id":"icmclusterlb/1/100/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/100/35":{"id":"icmclusterlb/1/100/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/100/36":{"id":"icmclusterlb/1/100/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/100/37":{"id":"icmclusterlb/1/100/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/38":{"id":"icmclusterlb/1/100/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/39":{"id":"icmclusterlb/1/100/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/100/40":{"id":"icmclusterlb/1/100/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/100/41":{"id":"icmclusterlb/1/100/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/42":{"id":"icmclusterlb/1/100/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/100/43":{"id":"icmclusterlb/1/100/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/100/44":{"id":"icmclusterlb/1/100/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/100/45":{"id":"icmclusterlb/1/100/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/46":{"id":"icmclusterlb/1/100/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/100/47":{"id":"icmclusterlb/1/100/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/100/48":{"id":"icmclusterlb/1/100/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/49":{"id":"icmclusterlb/1/100/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/100/50":{"id":"icmclusterlb/1/100/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/51":{"id":"icmclusterlb/1/100/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/52":{"id":"icmclusterlb/1/100/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/100/53":{"id":"icmclusterlb/1/100/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/100/54":{"id":"icmclusterlb/1/100/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/100/55":{"id":"icmclusterlb/1/100/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/100/56":{"id":"icmclusterlb/1/100/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/100/57":{"id":"icmclusterlb/1/100/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/100/58":{"id":"icmclusterlb/1/100/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/100/59":{"id":"icmclusterlb/1/100/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/100/60":{"id":"icmclusterlb/1/100/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/100/61":{"id":"icmclusterlb/1/100/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/100/62":{"id":"icmclusterlb/1/100/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/100/63":{"id":"icmclusterlb/1/100/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/100/64":{"id":"icmclusterlb/1/100/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/100/65":{"id":"icmclusterlb/1/100/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/100/66":{"id":"icmclusterlb/1/100/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/67":{"id":"icmclusterlb/1/100/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/100/68":{"id":"icmclusterlb/1/100/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/100/69":{"id":"icmclusterlb/1/100/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/100/70":{"id":"icmclusterlb/1/100/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/100/71":{"id":"icmclusterlb/1/100/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/100/72":{"id":"icmclusterlb/1/100/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/100/73":{"id":"icmclusterlb/1/100/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/100/74":{"id":"icmclusterlb/1/100/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/100/75":{"id":"icmclusterlb/1/100/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/100/76":{"id":"icmclusterlb/1/100/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/100/77":{"id":"icmclusterlb/1/100/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/100/78":{"id":"icmclusterlb/1/100/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/100/79":{"id":"icmclusterlb/1/100/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/100/80":{"id":"icmclusterlb/1/100/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/81":{"id":"icmclusterlb/1/100/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/100/82":{"id":"icmclusterlb/1/100/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/100/83":{"id":"icmclusterlb/1/100/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/84":{"id":"icmclusterlb/1/100/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/100/85":{"id":"icmclusterlb/1/100/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/100/86":{"id":"icmclusterlb/1/100/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/100/87":{"id":"icmclusterlb/1/100/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/100/88":{"id":"icmclusterlb/1/100/88","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/100/89":{"id":"icmclusterlb/1/100/89","name":"Tags","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_TeamSiloRotationMap_fix":{"id":"icmclusterlb/IcMDataWarehouse/Temp_TeamSiloRotationMap_fix","entityType":"Table","name":"Temp_TeamSiloRotationMap_fix","columns":{"icmclusterlb/1/101/0":{"id":"icmclusterlb/1/101/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/101/1":{"id":"icmclusterlb/1/101/1","name":"SourceTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/101/2":{"id":"icmclusterlb/1/101/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/101/3":{"id":"icmclusterlb/1/101/3","name":"TargetTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/101/4":{"id":"icmclusterlb/1/101/4","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/101/5":{"id":"icmclusterlb/1/101/5","name":"OwningServiceId","entityType":"Column","type":"long"},"icmclusterlb/1/101/6":{"id":"icmclusterlb/1/101/6","name":"IsTombStoned","entityType":"Column","type":"bool"},"icmclusterlb/1/101/7":{"id":"icmclusterlb/1/101/7","name":"CreateTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/101/8":{"id":"icmclusterlb/1/101/8","name":"ModifiedTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/101/9":{"id":"icmclusterlb/1/101/9","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/101/10":{"id":"icmclusterlb/1/101/10","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/101/11":{"id":"icmclusterlb/1/101/11","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/101/12":{"id":"icmclusterlb/1/101/12","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/101/13":{"id":"icmclusterlb/1/101/13","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/101/14":{"id":"icmclusterlb/1/101/14","name":"SourceTeamId_1","entityType":"Column","type":"string"},"icmclusterlb/1/101/15":{"id":"icmclusterlb/1/101/15","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/Incidents":{"id":"icmclusterlb/IcMDataWarehouse/Incidents","entityType":"Table","name":"Incidents","columns":{"icmclusterlb/1/102/0":{"id":"icmclusterlb/1/102/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/102/1":{"id":"icmclusterlb/1/102/1","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/102/2":{"id":"icmclusterlb/1/102/2","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/102/3":{"id":"icmclusterlb/1/102/3","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/102/4":{"id":"icmclusterlb/1/102/4","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/102/5":{"id":"icmclusterlb/1/102/5","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/6":{"id":"icmclusterlb/1/102/6","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/102/7":{"id":"icmclusterlb/1/102/7","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/102/8":{"id":"icmclusterlb/1/102/8","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/9":{"id":"icmclusterlb/1/102/9","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/10":{"id":"icmclusterlb/1/102/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/11":{"id":"icmclusterlb/1/102/11","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/102/12":{"id":"icmclusterlb/1/102/12","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/102/13":{"id":"icmclusterlb/1/102/13","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/102/14":{"id":"icmclusterlb/1/102/14","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/102/15":{"id":"icmclusterlb/1/102/15","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/102/16":{"id":"icmclusterlb/1/102/16","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/102/17":{"id":"icmclusterlb/1/102/17","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/102/18":{"id":"icmclusterlb/1/102/18","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/102/19":{"id":"icmclusterlb/1/102/19","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/102/20":{"id":"icmclusterlb/1/102/20","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/102/21":{"id":"icmclusterlb/1/102/21","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/102/22":{"id":"icmclusterlb/1/102/22","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/102/23":{"id":"icmclusterlb/1/102/23","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/102/24":{"id":"icmclusterlb/1/102/24","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/102/25":{"id":"icmclusterlb/1/102/25","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/102/26":{"id":"icmclusterlb/1/102/26","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/102/27":{"id":"icmclusterlb/1/102/27","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/102/28":{"id":"icmclusterlb/1/102/28","name":"OwningContactId","entityType":"Column","type":"string"},"icmclusterlb/1/102/29":{"id":"icmclusterlb/1/102/29","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/102/30":{"id":"icmclusterlb/1/102/30","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/102/31":{"id":"icmclusterlb/1/102/31","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/102/32":{"id":"icmclusterlb/1/102/32","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/102/33":{"id":"icmclusterlb/1/102/33","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/102/34":{"id":"icmclusterlb/1/102/34","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/102/35":{"id":"icmclusterlb/1/102/35","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/102/36":{"id":"icmclusterlb/1/102/36","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/102/37":{"id":"icmclusterlb/1/102/37","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/102/38":{"id":"icmclusterlb/1/102/38","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/102/39":{"id":"icmclusterlb/1/102/39","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/102/40":{"id":"icmclusterlb/1/102/40","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/102/41":{"id":"icmclusterlb/1/102/41","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/102/42":{"id":"icmclusterlb/1/102/42","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/43":{"id":"icmclusterlb/1/102/43","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/44":{"id":"icmclusterlb/1/102/44","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/102/45":{"id":"icmclusterlb/1/102/45","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/102/46":{"id":"icmclusterlb/1/102/46","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/47":{"id":"icmclusterlb/1/102/47","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/102/48":{"id":"icmclusterlb/1/102/48","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/102/49":{"id":"icmclusterlb/1/102/49","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/102/50":{"id":"icmclusterlb/1/102/50","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/51":{"id":"icmclusterlb/1/102/51","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/102/52":{"id":"icmclusterlb/1/102/52","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/102/53":{"id":"icmclusterlb/1/102/53","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/54":{"id":"icmclusterlb/1/102/54","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/102/55":{"id":"icmclusterlb/1/102/55","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/56":{"id":"icmclusterlb/1/102/56","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/57":{"id":"icmclusterlb/1/102/57","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/102/58":{"id":"icmclusterlb/1/102/58","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/102/59":{"id":"icmclusterlb/1/102/59","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/102/60":{"id":"icmclusterlb/1/102/60","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/102/61":{"id":"icmclusterlb/1/102/61","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/102/62":{"id":"icmclusterlb/1/102/62","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/102/63":{"id":"icmclusterlb/1/102/63","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/102/64":{"id":"icmclusterlb/1/102/64","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/102/65":{"id":"icmclusterlb/1/102/65","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/102/66":{"id":"icmclusterlb/1/102/66","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/102/67":{"id":"icmclusterlb/1/102/67","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/102/68":{"id":"icmclusterlb/1/102/68","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/102/69":{"id":"icmclusterlb/1/102/69","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/102/70":{"id":"icmclusterlb/1/102/70","name":"ResponsibleTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/102/71":{"id":"icmclusterlb/1/102/71","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/102/72":{"id":"icmclusterlb/1/102/72","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/102/73":{"id":"icmclusterlb/1/102/73","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/102/74":{"id":"icmclusterlb/1/102/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/102/75":{"id":"icmclusterlb/1/102/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/102/76":{"id":"icmclusterlb/1/102/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/102/77":{"id":"icmclusterlb/1/102/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/102/78":{"id":"icmclusterlb/1/102/78","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/79":{"id":"icmclusterlb/1/102/79","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/102/80":{"id":"icmclusterlb/1/102/80","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/102/81":{"id":"icmclusterlb/1/102/81","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/102/82":{"id":"icmclusterlb/1/102/82","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/102/83":{"id":"icmclusterlb/1/102/83","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/102/84":{"id":"icmclusterlb/1/102/84","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/102/85":{"id":"icmclusterlb/1/102/85","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/102/86":{"id":"icmclusterlb/1/102/86","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/102/87":{"id":"icmclusterlb/1/102/87","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/102/88":{"id":"icmclusterlb/1/102/88","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/102/89":{"id":"icmclusterlb/1/102/89","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/102/90":{"id":"icmclusterlb/1/102/90","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/102/91":{"id":"icmclusterlb/1/102/91","name":"ExecutiveIncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/102/92":{"id":"icmclusterlb/1/102/92","name":"Tags","entityType":"Column","type":"string"},"icmclusterlb/1/102/93":{"id":"icmclusterlb/1/102/93","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/102/94":{"id":"icmclusterlb/1/102/94","name":"IsCustomerSupportEngagement","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/ExternalLinkConfigs":{"id":"icmclusterlb/IcMDataWarehouse/ExternalLinkConfigs","entityType":"Table","name":"ExternalLinkConfigs","columns":{"icmclusterlb/1/103/0":{"id":"icmclusterlb/1/103/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/103/1":{"id":"icmclusterlb/1/103/1","name":"EntityTypeId","entityType":"Column","type":"long"},"icmclusterlb/1/103/2":{"id":"icmclusterlb/1/103/2","name":"EntityTypeName","entityType":"Column","type":"string"},"icmclusterlb/1/103/3":{"id":"icmclusterlb/1/103/3","name":"EntityId","entityType":"Column","type":"string"},"icmclusterlb/1/103/4":{"id":"icmclusterlb/1/103/4","name":"ConfigType","entityType":"Column","type":"string"},"icmclusterlb/1/103/5":{"id":"icmclusterlb/1/103/5","name":"ConfigName","entityType":"Column","type":"string"},"icmclusterlb/1/103/6":{"id":"icmclusterlb/1/103/6","name":"Config","entityType":"Column","type":"string"},"icmclusterlb/1/103/7":{"id":"icmclusterlb/1/103/7","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/103/8":{"id":"icmclusterlb/1/103/8","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/103/9":{"id":"icmclusterlb/1/103/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/103/10":{"id":"icmclusterlb/1/103/10","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/103/11":{"id":"icmclusterlb/1/103/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/103/12":{"id":"icmclusterlb/1/103/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/103/13":{"id":"icmclusterlb/1/103/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/103/14":{"id":"icmclusterlb/1/103/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/103/15":{"id":"icmclusterlb/1/103/15","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/temp_incidenthistory_0729":{"id":"icmclusterlb/IcMDataWarehouse/temp_incidenthistory_0729","entityType":"Table","name":"temp_incidenthistory_0729","columns":{"icmclusterlb/1/104/0":{"id":"icmclusterlb/1/104/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/104/1":{"id":"icmclusterlb/1/104/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/104/2":{"id":"icmclusterlb/1/104/2","name":"ChangeDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/3":{"id":"icmclusterlb/1/104/3","name":"ChangedBy","entityType":"Column","type":"string"},"icmclusterlb/1/104/4":{"id":"icmclusterlb/1/104/4","name":"ChangeCategories","entityType":"Column","type":"string"},"icmclusterlb/1/104/5":{"id":"icmclusterlb/1/104/5","name":"ChangeDescription","entityType":"Column","type":"string"},"icmclusterlb/1/104/6":{"id":"icmclusterlb/1/104/6","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/104/7":{"id":"icmclusterlb/1/104/7","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/104/8":{"id":"icmclusterlb/1/104/8","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/104/9":{"id":"icmclusterlb/1/104/9","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/104/10":{"id":"icmclusterlb/1/104/10","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/104/11":{"id":"icmclusterlb/1/104/11","name":"OwningContactId","entityType":"Column","type":"string"},"icmclusterlb/1/104/12":{"id":"icmclusterlb/1/104/12","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/104/13":{"id":"icmclusterlb/1/104/13","name":"ClearedContactId","entityType":"Column","type":"bool"},"icmclusterlb/1/104/14":{"id":"icmclusterlb/1/104/14","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/104/15":{"id":"icmclusterlb/1/104/15","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/104/16":{"id":"icmclusterlb/1/104/16","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/104/17":{"id":"icmclusterlb/1/104/17","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/104/18":{"id":"icmclusterlb/1/104/18","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/104/19":{"id":"icmclusterlb/1/104/19","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/104/20":{"id":"icmclusterlb/1/104/20","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/104/21":{"id":"icmclusterlb/1/104/21","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/104/22":{"id":"icmclusterlb/1/104/22","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/104/23":{"id":"icmclusterlb/1/104/23","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/104/24":{"id":"icmclusterlb/1/104/24","name":"ClearedCustomerName","entityType":"Column","type":"bool"},"icmclusterlb/1/104/25":{"id":"icmclusterlb/1/104/25","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/26":{"id":"icmclusterlb/1/104/26","name":"ClearedCommitDate","entityType":"Column","type":"bool"},"icmclusterlb/1/104/27":{"id":"icmclusterlb/1/104/27","name":"NeedsInvestigation","entityType":"Column","type":"bool"},"icmclusterlb/1/104/28":{"id":"icmclusterlb/1/104/28","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/104/29":{"id":"icmclusterlb/1/104/29","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/104/30":{"id":"icmclusterlb/1/104/30","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/104/31":{"id":"icmclusterlb/1/104/31","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/104/32":{"id":"icmclusterlb/1/104/32","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/104/33":{"id":"icmclusterlb/1/104/33","name":"BridgeConfId","entityType":"Column","type":"string"},"icmclusterlb/1/104/34":{"id":"icmclusterlb/1/104/34","name":"BridgePhoneNumber","entityType":"Column","type":"string"},"icmclusterlb/1/104/35":{"id":"icmclusterlb/1/104/35","name":"BridgeUri","entityType":"Column","type":"string"},"icmclusterlb/1/104/36":{"id":"icmclusterlb/1/104/36","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/104/37":{"id":"icmclusterlb/1/104/37","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/104/38":{"id":"icmclusterlb/1/104/38","name":"MitigatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/39":{"id":"icmclusterlb/1/104/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/104/40":{"id":"icmclusterlb/1/104/40","name":"ResolvedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/41":{"id":"icmclusterlb/1/104/41","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/104/42":{"id":"icmclusterlb/1/104/42","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/104/43":{"id":"icmclusterlb/1/104/43","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/44":{"id":"icmclusterlb/1/104/44","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/104/45":{"id":"icmclusterlb/1/104/45","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/104/46":{"id":"icmclusterlb/1/104/46","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/104/47":{"id":"icmclusterlb/1/104/47","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/104/48":{"id":"icmclusterlb/1/104/48","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/104/49":{"id":"icmclusterlb/1/104/49","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/104/50":{"id":"icmclusterlb/1/104/50","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/51":{"id":"icmclusterlb/1/104/51","name":"CommunicationsManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/104/52":{"id":"icmclusterlb/1/104/52","name":"Datacenter","entityType":"Column","type":"string"},"icmclusterlb/1/104/53":{"id":"icmclusterlb/1/104/53","name":"DeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/104/54":{"id":"icmclusterlb/1/104/54","name":"DeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/104/55":{"id":"icmclusterlb/1/104/55","name":"DiagnosticsLink","entityType":"Column","type":"string"},"icmclusterlb/1/104/56":{"id":"icmclusterlb/1/104/56","name":"Environment","entityType":"Column","type":"string"},"icmclusterlb/1/104/57":{"id":"icmclusterlb/1/104/57","name":"ExternalLinkId","entityType":"Column","type":"long"},"icmclusterlb/1/104/58":{"id":"icmclusterlb/1/104/58","name":"ExternalLinkType","entityType":"Column","type":"string"},"icmclusterlb/1/104/59":{"id":"icmclusterlb/1/104/59","name":"HealthResourceId","entityType":"Column","type":"string"},"icmclusterlb/1/104/60":{"id":"icmclusterlb/1/104/60","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/104/61":{"id":"icmclusterlb/1/104/61","name":"ImpactedComponents","entityType":"Column","type":"string"},"icmclusterlb/1/104/62":{"id":"icmclusterlb/1/104/62","name":"ImpactedServices","entityType":"Column","type":"string"},"icmclusterlb/1/104/63":{"id":"icmclusterlb/1/104/63","name":"ImpactedTeams","entityType":"Column","type":"string"},"icmclusterlb/1/104/64":{"id":"icmclusterlb/1/104/64","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/104/65":{"id":"icmclusterlb/1/104/65","name":"IncidentManagerContactId","entityType":"Column","type":"long"},"icmclusterlb/1/104/66":{"id":"icmclusterlb/1/104/66","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/104/67":{"id":"icmclusterlb/1/104/67","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/104/68":{"id":"icmclusterlb/1/104/68","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/104/69":{"id":"icmclusterlb/1/104/69","name":"RelationshipChildId","entityType":"Column","type":"long"},"icmclusterlb/1/104/70":{"id":"icmclusterlb/1/104/70","name":"RelationshipParentId","entityType":"Column","type":"long"},"icmclusterlb/1/104/71":{"id":"icmclusterlb/1/104/71","name":"RelationshipType","entityType":"Column","type":"string"},"icmclusterlb/1/104/72":{"id":"icmclusterlb/1/104/72","name":"ResolutionStatus","entityType":"Column","type":"string"},"icmclusterlb/1/104/73":{"id":"icmclusterlb/1/104/73","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/104/74":{"id":"icmclusterlb/1/104/74","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/104/75":{"id":"icmclusterlb/1/104/75","name":"RootCauseHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/104/76":{"id":"icmclusterlb/1/104/76","name":"RootCauseNeedsInvestigation","entityType":"Column","type":"bool"},"icmclusterlb/1/104/77":{"id":"icmclusterlb/1/104/77","name":"RuleId","entityType":"Column","type":"long"},"icmclusterlb/1/104/78":{"id":"icmclusterlb/1/104/78","name":"RuleType","entityType":"Column","type":"string"},"icmclusterlb/1/104/79":{"id":"icmclusterlb/1/104/79","name":"ServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/104/80":{"id":"icmclusterlb/1/104/80","name":"SiteReliabilityContactId","entityType":"Column","type":"long"},"icmclusterlb/1/104/81":{"id":"icmclusterlb/1/104/81","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/104/82":{"id":"icmclusterlb/1/104/82","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/104/83":{"id":"icmclusterlb/1/104/83","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/104/84":{"id":"icmclusterlb/1/104/84","name":"SuppressAutoUpdate","entityType":"Column","type":"bool"},"icmclusterlb/1/104/85":{"id":"icmclusterlb/1/104/85","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/104/86":{"id":"icmclusterlb/1/104/86","name":"UseCurrentValueIfNullSpecified","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTeams":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTeams","entityType":"Table","name":"IncidentImpactedTeams","columns":{"icmclusterlb/1/105/0":{"id":"icmclusterlb/1/105/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/105/1":{"id":"icmclusterlb/1/105/1","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/105/2":{"id":"icmclusterlb/1/105/2","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/105/3":{"id":"icmclusterlb/1/105/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/105/4":{"id":"icmclusterlb/1/105/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/105/5":{"id":"icmclusterlb/1/105/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/105/6":{"id":"icmclusterlb/1/105/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/105/7":{"id":"icmclusterlb/1/105/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PurgedIncidents":{"id":"icmclusterlb/IcMDataWarehouse/PurgedIncidents","entityType":"Table","name":"PurgedIncidents","columns":{"icmclusterlb/1/106/0":{"id":"icmclusterlb/1/106/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/106/1":{"id":"icmclusterlb/1/106/1","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/106/2":{"id":"icmclusterlb/1/106/2","name":"PurgedDate","entityType":"Column","type":"dynamic"},"icmclusterlb/1/106/3":{"id":"icmclusterlb/1/106/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/106/4":{"id":"icmclusterlb/1/106/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/106/5":{"id":"icmclusterlb/1/106/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/106/6":{"id":"icmclusterlb/1/106/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/106/7":{"id":"icmclusterlb/1/106/7","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step1":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step1","entityType":"Table","name":"temp_backfill_82324_step1","columns":{"icmclusterlb/1/107/0":{"id":"icmclusterlb/1/107/0","name":"InternalId","entityType":"Column","type":"long"},"icmclusterlb/1/107/1":{"id":"icmclusterlb/1/107/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/107/2":{"id":"icmclusterlb/1/107/2","name":"Version","entityType":"Column","type":"long"},"icmclusterlb/1/107/3":{"id":"icmclusterlb/1/107/3","name":"EventTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/107/4":{"id":"icmclusterlb/1/107/4","name":"SchemaVersion","entityType":"Column","type":"long"},"icmclusterlb/1/107/5":{"id":"icmclusterlb/1/107/5","name":"Revision","entityType":"Column","type":"long"},"icmclusterlb/1/107/6":{"id":"icmclusterlb/1/107/6","name":"Originator","entityType":"Column","type":"string"},"icmclusterlb/1/107/7":{"id":"icmclusterlb/1/107/7","name":"PayloadType","entityType":"Column","type":"string"},"icmclusterlb/1/107/8":{"id":"icmclusterlb/1/107/8","name":"Payload","entityType":"Column","type":"dynamic"},"icmclusterlb/1/107/9":{"id":"icmclusterlb/1/107/9","name":"ETag","entityType":"Column","type":"string"},"icmclusterlb/1/107/10":{"id":"icmclusterlb/1/107/10","name":"TimeStamp","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step3":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step3","entityType":"Table","name":"temp_backfill_82324_step3","columns":{"icmclusterlb/1/108/0":{"id":"icmclusterlb/1/108/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/108/1":{"id":"icmclusterlb/1/108/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/108/2":{"id":"icmclusterlb/1/108/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/108/3":{"id":"icmclusterlb/1/108/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/108/4":{"id":"icmclusterlb/1/108/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/108/5":{"id":"icmclusterlb/1/108/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/108/6":{"id":"icmclusterlb/1/108/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/108/7":{"id":"icmclusterlb/1/108/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/108/8":{"id":"icmclusterlb/1/108/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/108/9":{"id":"icmclusterlb/1/108/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/108/10":{"id":"icmclusterlb/1/108/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/108/11":{"id":"icmclusterlb/1/108/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/108/12":{"id":"icmclusterlb/1/108/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/108/13":{"id":"icmclusterlb/1/108/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/108/14":{"id":"icmclusterlb/1/108/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/108/15":{"id":"icmclusterlb/1/108/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/108/16":{"id":"icmclusterlb/1/108/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/108/17":{"id":"icmclusterlb/1/108/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/108/18":{"id":"icmclusterlb/1/108/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/108/19":{"id":"icmclusterlb/1/108/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step2":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82324_step2","entityType":"Table","name":"temp_backfill_82324_step2","columns":{"icmclusterlb/1/109/0":{"id":"icmclusterlb/1/109/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/109/1":{"id":"icmclusterlb/1/109/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/109/2":{"id":"icmclusterlb/1/109/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/109/3":{"id":"icmclusterlb/1/109/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/109/4":{"id":"icmclusterlb/1/109/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/109/5":{"id":"icmclusterlb/1/109/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/109/6":{"id":"icmclusterlb/1/109/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/109/7":{"id":"icmclusterlb/1/109/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/109/8":{"id":"icmclusterlb/1/109/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/109/9":{"id":"icmclusterlb/1/109/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/109/10":{"id":"icmclusterlb/1/109/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/109/11":{"id":"icmclusterlb/1/109/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/109/12":{"id":"icmclusterlb/1/109/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/109/13":{"id":"icmclusterlb/1/109/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/109/14":{"id":"icmclusterlb/1/109/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/109/15":{"id":"icmclusterlb/1/109/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/109/16":{"id":"icmclusterlb/1/109/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/109/17":{"id":"icmclusterlb/1/109/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/109/18":{"id":"icmclusterlb/1/109/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/109/19":{"id":"icmclusterlb/1/109/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step3":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step3","entityType":"Table","name":"temp_backfill_82924_step3","columns":{"icmclusterlb/1/110/0":{"id":"icmclusterlb/1/110/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/110/1":{"id":"icmclusterlb/1/110/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/110/2":{"id":"icmclusterlb/1/110/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/110/3":{"id":"icmclusterlb/1/110/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/110/4":{"id":"icmclusterlb/1/110/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/110/5":{"id":"icmclusterlb/1/110/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/110/6":{"id":"icmclusterlb/1/110/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/110/7":{"id":"icmclusterlb/1/110/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/110/8":{"id":"icmclusterlb/1/110/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/110/9":{"id":"icmclusterlb/1/110/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/110/10":{"id":"icmclusterlb/1/110/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/110/11":{"id":"icmclusterlb/1/110/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/110/12":{"id":"icmclusterlb/1/110/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/110/13":{"id":"icmclusterlb/1/110/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/110/14":{"id":"icmclusterlb/1/110/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/110/15":{"id":"icmclusterlb/1/110/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/110/16":{"id":"icmclusterlb/1/110/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/110/17":{"id":"icmclusterlb/1/110/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/110/18":{"id":"icmclusterlb/1/110/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/110/19":{"id":"icmclusterlb/1/110/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step2":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step2","entityType":"Table","name":"temp_backfill_82924_step2","columns":{"icmclusterlb/1/111/0":{"id":"icmclusterlb/1/111/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/111/1":{"id":"icmclusterlb/1/111/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/111/2":{"id":"icmclusterlb/1/111/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/111/3":{"id":"icmclusterlb/1/111/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/111/4":{"id":"icmclusterlb/1/111/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/111/5":{"id":"icmclusterlb/1/111/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/111/6":{"id":"icmclusterlb/1/111/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/111/7":{"id":"icmclusterlb/1/111/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/111/8":{"id":"icmclusterlb/1/111/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/111/9":{"id":"icmclusterlb/1/111/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/111/10":{"id":"icmclusterlb/1/111/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/111/11":{"id":"icmclusterlb/1/111/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/111/12":{"id":"icmclusterlb/1/111/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/111/13":{"id":"icmclusterlb/1/111/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/111/14":{"id":"icmclusterlb/1/111/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/111/15":{"id":"icmclusterlb/1/111/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/111/16":{"id":"icmclusterlb/1/111/16","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/111/17":{"id":"icmclusterlb/1/111/17","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/111/18":{"id":"icmclusterlb/1/111/18","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/111/19":{"id":"icmclusterlb/1/111/19","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step1":{"id":"icmclusterlb/IcMDataWarehouse/temp_backfill_82924_step1","entityType":"Table","name":"temp_backfill_82924_step1","columns":{"icmclusterlb/1/112/0":{"id":"icmclusterlb/1/112/0","name":"InternalId","entityType":"Column","type":"long"},"icmclusterlb/1/112/1":{"id":"icmclusterlb/1/112/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/112/2":{"id":"icmclusterlb/1/112/2","name":"Version","entityType":"Column","type":"long"},"icmclusterlb/1/112/3":{"id":"icmclusterlb/1/112/3","name":"EventTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/112/4":{"id":"icmclusterlb/1/112/4","name":"SchemaVersion","entityType":"Column","type":"long"},"icmclusterlb/1/112/5":{"id":"icmclusterlb/1/112/5","name":"Revision","entityType":"Column","type":"long"},"icmclusterlb/1/112/6":{"id":"icmclusterlb/1/112/6","name":"Originator","entityType":"Column","type":"string"},"icmclusterlb/1/112/7":{"id":"icmclusterlb/1/112/7","name":"PayloadType","entityType":"Column","type":"string"},"icmclusterlb/1/112/8":{"id":"icmclusterlb/1/112/8","name":"Payload","entityType":"Column","type":"dynamic"},"icmclusterlb/1/112/9":{"id":"icmclusterlb/1/112/9","name":"ETag","entityType":"Column","type":"string"},"icmclusterlb/1/112/10":{"id":"icmclusterlb/1/112/10","name":"TimeStamp","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/Contacts":{"id":"icmclusterlb/IcMDataWarehouse/Contacts","entityType":"Table","name":"Contacts","columns":{"icmclusterlb/1/113/0":{"id":"icmclusterlb/1/113/0","name":"ContactId","entityType":"Column","type":"long"},"icmclusterlb/1/113/1":{"id":"icmclusterlb/1/113/1","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/1/113/2":{"id":"icmclusterlb/1/113/2","name":"AliasDomain","entityType":"Column","type":"string"},"icmclusterlb/1/113/3":{"id":"icmclusterlb/1/113/3","name":"FirstName","entityType":"Column","type":"string"},"icmclusterlb/1/113/4":{"id":"icmclusterlb/1/113/4","name":"LastName","entityType":"Column","type":"string"},"icmclusterlb/1/113/5":{"id":"icmclusterlb/1/113/5","name":"FullName","entityType":"Column","type":"string"},"icmclusterlb/1/113/6":{"id":"icmclusterlb/1/113/6","name":"TimeZoneId","entityType":"Column","type":"string"},"icmclusterlb/1/113/7":{"id":"icmclusterlb/1/113/7","name":"Discipline","entityType":"Column","type":"string"},"icmclusterlb/1/113/8":{"id":"icmclusterlb/1/113/8","name":"EmailAddress","entityType":"Column","type":"string"},"icmclusterlb/1/113/9":{"id":"icmclusterlb/1/113/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/113/10":{"id":"icmclusterlb/1/113/10","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/113/11":{"id":"icmclusterlb/1/113/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/113/12":{"id":"icmclusterlb/1/113/12","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/113/13":{"id":"icmclusterlb/1/113/13","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/113/14":{"id":"icmclusterlb/1/113/14","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/113/15":{"id":"icmclusterlb/1/113/15","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/113/16":{"id":"icmclusterlb/1/113/16","name":"IsPrivate","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/Temp_test_prod_incidentssnapshot_purged":{"id":"icmclusterlb/IcMDataWarehouse/Temp_test_prod_incidentssnapshot_purged","entityType":"Table","name":"Temp_test_prod_incidentssnapshot_purged","columns":{"icmclusterlb/1/114/0":{"id":"icmclusterlb/1/114/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/114/1":{"id":"icmclusterlb/1/114/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/114/2":{"id":"icmclusterlb/1/114/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/114/3":{"id":"icmclusterlb/1/114/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/114/4":{"id":"icmclusterlb/1/114/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/5":{"id":"icmclusterlb/1/114/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/114/6":{"id":"icmclusterlb/1/114/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/114/7":{"id":"icmclusterlb/1/114/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/8":{"id":"icmclusterlb/1/114/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/9":{"id":"icmclusterlb/1/114/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/10":{"id":"icmclusterlb/1/114/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/114/11":{"id":"icmclusterlb/1/114/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/114/12":{"id":"icmclusterlb/1/114/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/114/13":{"id":"icmclusterlb/1/114/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/114/14":{"id":"icmclusterlb/1/114/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/114/15":{"id":"icmclusterlb/1/114/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/114/16":{"id":"icmclusterlb/1/114/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/114/17":{"id":"icmclusterlb/1/114/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/114/18":{"id":"icmclusterlb/1/114/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/114/19":{"id":"icmclusterlb/1/114/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/114/20":{"id":"icmclusterlb/1/114/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/114/21":{"id":"icmclusterlb/1/114/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/114/22":{"id":"icmclusterlb/1/114/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/114/23":{"id":"icmclusterlb/1/114/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/114/24":{"id":"icmclusterlb/1/114/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/114/25":{"id":"icmclusterlb/1/114/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/114/26":{"id":"icmclusterlb/1/114/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/114/27":{"id":"icmclusterlb/1/114/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/114/28":{"id":"icmclusterlb/1/114/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/114/29":{"id":"icmclusterlb/1/114/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/114/30":{"id":"icmclusterlb/1/114/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/114/31":{"id":"icmclusterlb/1/114/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/114/32":{"id":"icmclusterlb/1/114/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/114/33":{"id":"icmclusterlb/1/114/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/114/34":{"id":"icmclusterlb/1/114/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/114/35":{"id":"icmclusterlb/1/114/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/114/36":{"id":"icmclusterlb/1/114/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/114/37":{"id":"icmclusterlb/1/114/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/38":{"id":"icmclusterlb/1/114/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/39":{"id":"icmclusterlb/1/114/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/114/40":{"id":"icmclusterlb/1/114/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/114/41":{"id":"icmclusterlb/1/114/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/42":{"id":"icmclusterlb/1/114/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/114/43":{"id":"icmclusterlb/1/114/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/114/44":{"id":"icmclusterlb/1/114/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/114/45":{"id":"icmclusterlb/1/114/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/46":{"id":"icmclusterlb/1/114/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/114/47":{"id":"icmclusterlb/1/114/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/114/48":{"id":"icmclusterlb/1/114/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/49":{"id":"icmclusterlb/1/114/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/114/50":{"id":"icmclusterlb/1/114/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/51":{"id":"icmclusterlb/1/114/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/52":{"id":"icmclusterlb/1/114/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/114/53":{"id":"icmclusterlb/1/114/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/114/54":{"id":"icmclusterlb/1/114/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/114/55":{"id":"icmclusterlb/1/114/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/114/56":{"id":"icmclusterlb/1/114/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/114/57":{"id":"icmclusterlb/1/114/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/114/58":{"id":"icmclusterlb/1/114/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/114/59":{"id":"icmclusterlb/1/114/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/114/60":{"id":"icmclusterlb/1/114/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/114/61":{"id":"icmclusterlb/1/114/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/114/62":{"id":"icmclusterlb/1/114/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/114/63":{"id":"icmclusterlb/1/114/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/114/64":{"id":"icmclusterlb/1/114/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/114/65":{"id":"icmclusterlb/1/114/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/114/66":{"id":"icmclusterlb/1/114/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/67":{"id":"icmclusterlb/1/114/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/114/68":{"id":"icmclusterlb/1/114/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/114/69":{"id":"icmclusterlb/1/114/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/114/70":{"id":"icmclusterlb/1/114/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/114/71":{"id":"icmclusterlb/1/114/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/114/72":{"id":"icmclusterlb/1/114/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/114/73":{"id":"icmclusterlb/1/114/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/114/74":{"id":"icmclusterlb/1/114/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/114/75":{"id":"icmclusterlb/1/114/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/114/76":{"id":"icmclusterlb/1/114/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/114/77":{"id":"icmclusterlb/1/114/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/114/78":{"id":"icmclusterlb/1/114/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/114/79":{"id":"icmclusterlb/1/114/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/114/80":{"id":"icmclusterlb/1/114/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/81":{"id":"icmclusterlb/1/114/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/114/82":{"id":"icmclusterlb/1/114/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/114/83":{"id":"icmclusterlb/1/114/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/84":{"id":"icmclusterlb/1/114/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/114/85":{"id":"icmclusterlb/1/114/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/114/86":{"id":"icmclusterlb/1/114/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/114/87":{"id":"icmclusterlb/1/114/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/114/88":{"id":"icmclusterlb/1/114/88","name":"OutageImpactLevel","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_Current":{"id":"icmclusterlb/IcMDataWarehouse/Temp_IncidentsSnapshot_V1_Current","entityType":"Table","name":"Temp_IncidentsSnapshot_V1_Current","columns":{"icmclusterlb/1/115/0":{"id":"icmclusterlb/1/115/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/115/1":{"id":"icmclusterlb/1/115/1","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/115/2":{"id":"icmclusterlb/1/115/2","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/115/3":{"id":"icmclusterlb/1/115/3","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/115/4":{"id":"icmclusterlb/1/115/4","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/5":{"id":"icmclusterlb/1/115/5","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/115/6":{"id":"icmclusterlb/1/115/6","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/115/7":{"id":"icmclusterlb/1/115/7","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/8":{"id":"icmclusterlb/1/115/8","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/9":{"id":"icmclusterlb/1/115/9","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/10":{"id":"icmclusterlb/1/115/10","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/115/11":{"id":"icmclusterlb/1/115/11","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/115/12":{"id":"icmclusterlb/1/115/12","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/115/13":{"id":"icmclusterlb/1/115/13","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/115/14":{"id":"icmclusterlb/1/115/14","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/115/15":{"id":"icmclusterlb/1/115/15","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/115/16":{"id":"icmclusterlb/1/115/16","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/115/17":{"id":"icmclusterlb/1/115/17","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/115/18":{"id":"icmclusterlb/1/115/18","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/115/19":{"id":"icmclusterlb/1/115/19","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/115/20":{"id":"icmclusterlb/1/115/20","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/115/21":{"id":"icmclusterlb/1/115/21","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/115/22":{"id":"icmclusterlb/1/115/22","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/115/23":{"id":"icmclusterlb/1/115/23","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/115/24":{"id":"icmclusterlb/1/115/24","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/115/25":{"id":"icmclusterlb/1/115/25","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/115/26":{"id":"icmclusterlb/1/115/26","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/115/27":{"id":"icmclusterlb/1/115/27","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/115/28":{"id":"icmclusterlb/1/115/28","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/115/29":{"id":"icmclusterlb/1/115/29","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/115/30":{"id":"icmclusterlb/1/115/30","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/115/31":{"id":"icmclusterlb/1/115/31","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/115/32":{"id":"icmclusterlb/1/115/32","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/115/33":{"id":"icmclusterlb/1/115/33","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/115/34":{"id":"icmclusterlb/1/115/34","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/115/35":{"id":"icmclusterlb/1/115/35","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/115/36":{"id":"icmclusterlb/1/115/36","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/115/37":{"id":"icmclusterlb/1/115/37","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/38":{"id":"icmclusterlb/1/115/38","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/39":{"id":"icmclusterlb/1/115/39","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/115/40":{"id":"icmclusterlb/1/115/40","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/115/41":{"id":"icmclusterlb/1/115/41","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/42":{"id":"icmclusterlb/1/115/42","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/115/43":{"id":"icmclusterlb/1/115/43","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/115/44":{"id":"icmclusterlb/1/115/44","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/115/45":{"id":"icmclusterlb/1/115/45","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/46":{"id":"icmclusterlb/1/115/46","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/115/47":{"id":"icmclusterlb/1/115/47","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/115/48":{"id":"icmclusterlb/1/115/48","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/49":{"id":"icmclusterlb/1/115/49","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/115/50":{"id":"icmclusterlb/1/115/50","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/51":{"id":"icmclusterlb/1/115/51","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/52":{"id":"icmclusterlb/1/115/52","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/115/53":{"id":"icmclusterlb/1/115/53","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/115/54":{"id":"icmclusterlb/1/115/54","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/115/55":{"id":"icmclusterlb/1/115/55","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/115/56":{"id":"icmclusterlb/1/115/56","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/115/57":{"id":"icmclusterlb/1/115/57","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/115/58":{"id":"icmclusterlb/1/115/58","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/115/59":{"id":"icmclusterlb/1/115/59","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/115/60":{"id":"icmclusterlb/1/115/60","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/115/61":{"id":"icmclusterlb/1/115/61","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/115/62":{"id":"icmclusterlb/1/115/62","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/115/63":{"id":"icmclusterlb/1/115/63","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/115/64":{"id":"icmclusterlb/1/115/64","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/115/65":{"id":"icmclusterlb/1/115/65","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/115/66":{"id":"icmclusterlb/1/115/66","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/67":{"id":"icmclusterlb/1/115/67","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/115/68":{"id":"icmclusterlb/1/115/68","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/115/69":{"id":"icmclusterlb/1/115/69","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/115/70":{"id":"icmclusterlb/1/115/70","name":"OwningTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/115/71":{"id":"icmclusterlb/1/115/71","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/115/72":{"id":"icmclusterlb/1/115/72","name":"OwningContactId","entityType":"Column","type":"long"},"icmclusterlb/1/115/73":{"id":"icmclusterlb/1/115/73","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/115/74":{"id":"icmclusterlb/1/115/74","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/115/75":{"id":"icmclusterlb/1/115/75","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/115/76":{"id":"icmclusterlb/1/115/76","name":"OriginatingTenantPublicId","entityType":"Column","type":"string"},"icmclusterlb/1/115/77":{"id":"icmclusterlb/1/115/77","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/115/78":{"id":"icmclusterlb/1/115/78","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/115/79":{"id":"icmclusterlb/1/115/79","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/115/80":{"id":"icmclusterlb/1/115/80","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/81":{"id":"icmclusterlb/1/115/81","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/115/82":{"id":"icmclusterlb/1/115/82","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/115/83":{"id":"icmclusterlb/1/115/83","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/84":{"id":"icmclusterlb/1/115/84","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"},"icmclusterlb/1/115/85":{"id":"icmclusterlb/1/115/85","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/115/86":{"id":"icmclusterlb/1/115/86","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/115/87":{"id":"icmclusterlb/1/115/87","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/115/88":{"id":"icmclusterlb/1/115/88","name":"OutageImpactLevel","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PIRCustomFieldHistory2":{"id":"icmclusterlb/IcMDataWarehouse/PIRCustomFieldHistory2","entityType":"Table","name":"PIRCustomFieldHistory2","columns":{"icmclusterlb/1/116/0":{"id":"icmclusterlb/1/116/0","name":"CustomFieldHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/116/1":{"id":"icmclusterlb/1/116/1","name":"PIRHistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/116/2":{"id":"icmclusterlb/1/116/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/116/3":{"id":"icmclusterlb/1/116/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/116/4":{"id":"icmclusterlb/1/116/4","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/116/5":{"id":"icmclusterlb/1/116/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/116/6":{"id":"icmclusterlb/1/116/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/116/7":{"id":"icmclusterlb/1/116/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/116/8":{"id":"icmclusterlb/1/116/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/116/9":{"id":"icmclusterlb/1/116/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PostIncidentReports":{"id":"icmclusterlb/IcMDataWarehouse/PostIncidentReports","entityType":"Table","name":"PostIncidentReports","columns":{"icmclusterlb/1/117/0":{"id":"icmclusterlb/1/117/0","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/117/1":{"id":"icmclusterlb/1/117/1","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/117/2":{"id":"icmclusterlb/1/117/2","name":"CreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/3":{"id":"icmclusterlb/1/117/3","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/4":{"id":"icmclusterlb/1/117/4","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/117/5":{"id":"icmclusterlb/1/117/5","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/117/6":{"id":"icmclusterlb/1/117/6","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/117/7":{"id":"icmclusterlb/1/117/7","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/117/8":{"id":"icmclusterlb/1/117/8","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/117/9":{"id":"icmclusterlb/1/117/9","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/117/10":{"id":"icmclusterlb/1/117/10","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/117/11":{"id":"icmclusterlb/1/117/11","name":"FeatureTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/117/12":{"id":"icmclusterlb/1/117/12","name":"ReportOwnerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/117/13":{"id":"icmclusterlb/1/117/13","name":"SreOrSeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/117/14":{"id":"icmclusterlb/1/117/14","name":"IncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/117/15":{"id":"icmclusterlb/1/117/15","name":"CommunicationsManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/117/16":{"id":"icmclusterlb/1/117/16","name":"LiveSiteIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/117/17":{"id":"icmclusterlb/1/117/17","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/117/18":{"id":"icmclusterlb/1/117/18","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/117/19":{"id":"icmclusterlb/1/117/19","name":"IncidentRaisedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/20":{"id":"icmclusterlb/1/117/20","name":"CreationIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/117/21":{"id":"icmclusterlb/1/117/21","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/117/22":{"id":"icmclusterlb/1/117/22","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/117/23":{"id":"icmclusterlb/1/117/23","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/117/24":{"id":"icmclusterlb/1/117/24","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/117/25":{"id":"icmclusterlb/1/117/25","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/117/26":{"id":"icmclusterlb/1/117/26","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/117/27":{"id":"icmclusterlb/1/117/27","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/117/28":{"id":"icmclusterlb/1/117/28","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/117/29":{"id":"icmclusterlb/1/117/29","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/117/30":{"id":"icmclusterlb/1/117/30","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/117/31":{"id":"icmclusterlb/1/117/31","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/117/32":{"id":"icmclusterlb/1/117/32","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/117/33":{"id":"icmclusterlb/1/117/33","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/117/34":{"id":"icmclusterlb/1/117/34","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/35":{"id":"icmclusterlb/1/117/35","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/36":{"id":"icmclusterlb/1/117/36","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/37":{"id":"icmclusterlb/1/117/37","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/38":{"id":"icmclusterlb/1/117/38","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/39":{"id":"icmclusterlb/1/117/39","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/40":{"id":"icmclusterlb/1/117/40","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/41":{"id":"icmclusterlb/1/117/41","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/42":{"id":"icmclusterlb/1/117/42","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/43":{"id":"icmclusterlb/1/117/43","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/44":{"id":"icmclusterlb/1/117/44","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/45":{"id":"icmclusterlb/1/117/45","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/46":{"id":"icmclusterlb/1/117/46","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/47":{"id":"icmclusterlb/1/117/47","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/48":{"id":"icmclusterlb/1/117/48","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/49":{"id":"icmclusterlb/1/117/49","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/50":{"id":"icmclusterlb/1/117/50","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/51":{"id":"icmclusterlb/1/117/51","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/52":{"id":"icmclusterlb/1/117/52","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/53":{"id":"icmclusterlb/1/117/53","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/54":{"id":"icmclusterlb/1/117/54","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/55":{"id":"icmclusterlb/1/117/55","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/56":{"id":"icmclusterlb/1/117/56","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/57":{"id":"icmclusterlb/1/117/57","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/117/58":{"id":"icmclusterlb/1/117/58","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/59":{"id":"icmclusterlb/1/117/59","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/117/60":{"id":"icmclusterlb/1/117/60","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/61":{"id":"icmclusterlb/1/117/61","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/117/62":{"id":"icmclusterlb/1/117/62","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/117/63":{"id":"icmclusterlb/1/117/63","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/117/64":{"id":"icmclusterlb/1/117/64","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/117/65":{"id":"icmclusterlb/1/117/65","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/117/66":{"id":"icmclusterlb/1/117/66","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/117/67":{"id":"icmclusterlb/1/117/67","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/117/68":{"id":"icmclusterlb/1/117/68","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/117/69":{"id":"icmclusterlb/1/117/69","name":"Version","entityType":"Column","type":"int"},"icmclusterlb/1/117/70":{"id":"icmclusterlb/1/117/70","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/71":{"id":"icmclusterlb/1/117/71","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/117/72":{"id":"icmclusterlb/1/117/72","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/117/73":{"id":"icmclusterlb/1/117/73","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/117/74":{"id":"icmclusterlb/1/117/74","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/117/75":{"id":"icmclusterlb/1/117/75","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/117/76":{"id":"icmclusterlb/1/117/76","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/117/77":{"id":"icmclusterlb/1/117/77","name":"ExecutiveIncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/117/78":{"id":"icmclusterlb/1/117/78","name":"AirOImpact","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/AutoCorrelationConfig":{"id":"icmclusterlb/IcMDataWarehouse/AutoCorrelationConfig","entityType":"Table","name":"AutoCorrelationConfig","columns":{"icmclusterlb/1/118/0":{"id":"icmclusterlb/1/118/0","name":"AutoCorrelationConfigId","entityType":"Column","type":"long"},"icmclusterlb/1/118/1":{"id":"icmclusterlb/1/118/1","name":"EntityIdType","entityType":"Column","type":"string"},"icmclusterlb/1/118/2":{"id":"icmclusterlb/1/118/2","name":"EntityId","entityType":"Column","type":"long"},"icmclusterlb/1/118/3":{"id":"icmclusterlb/1/118/3","name":"IsAutoCorrelationEnabled","entityType":"Column","type":"bool"},"icmclusterlb/1/118/4":{"id":"icmclusterlb/1/118/4","name":"IsMatchInstanceCluster","entityType":"Column","type":"bool"},"icmclusterlb/1/118/5":{"id":"icmclusterlb/1/118/5","name":"IsMatchSeverity","entityType":"Column","type":"bool"},"icmclusterlb/1/118/6":{"id":"icmclusterlb/1/118/6","name":"IsMatchOwningTeam","entityType":"Column","type":"bool"},"icmclusterlb/1/118/7":{"id":"icmclusterlb/1/118/7","name":"IsMatchRole","entityType":"Column","type":"bool"},"icmclusterlb/1/118/8":{"id":"icmclusterlb/1/118/8","name":"IsMatchOccurringServiceInstance","entityType":"Column","type":"bool"},"icmclusterlb/1/118/9":{"id":"icmclusterlb/1/118/9","name":"IsMatchDataCenter","entityType":"Column","type":"bool"},"icmclusterlb/1/118/10":{"id":"icmclusterlb/1/118/10","name":"CorrelationWindowInMinutes","entityType":"Column","type":"int"},"icmclusterlb/1/118/11":{"id":"icmclusterlb/1/118/11","name":"SendEmailIntervalInMinutes","entityType":"Column","type":"int"},"icmclusterlb/1/118/12":{"id":"icmclusterlb/1/118/12","name":"CorrelationConfidenceThreshold","entityType":"Column","type":"dynamic"},"icmclusterlb/1/118/13":{"id":"icmclusterlb/1/118/13","name":"SupportedSeverities","entityType":"Column","type":"string"},"icmclusterlb/1/118/14":{"id":"icmclusterlb/1/118/14","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/118/15":{"id":"icmclusterlb/1/118/15","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/118/16":{"id":"icmclusterlb/1/118/16","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/118/17":{"id":"icmclusterlb/1/118/17","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/118/18":{"id":"icmclusterlb/1/118/18","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/118/19":{"id":"icmclusterlb/1/118/19","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/118/20":{"id":"icmclusterlb/1/118/20","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/118/21":{"id":"icmclusterlb/1/118/21","name":"IsMatchInstanceCluster_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/22":{"id":"icmclusterlb/1/118/22","name":"IsMatchSeverity_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/23":{"id":"icmclusterlb/1/118/23","name":"IsMatchOwningTeam_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/24":{"id":"icmclusterlb/1/118/24","name":"IsMatchRole_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/25":{"id":"icmclusterlb/1/118/25","name":"IsMatchOccurringServiceInstance_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/26":{"id":"icmclusterlb/1/118/26","name":"IsMatchDataCenter_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/27":{"id":"icmclusterlb/1/118/27","name":"CorrelationWindowInMinutes_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/28":{"id":"icmclusterlb/1/118/28","name":"SendEmailIntervalInMinutes_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/29":{"id":"icmclusterlb/1/118/29","name":"CorrelationConfidenceThreshold_1","entityType":"Column","type":"string"},"icmclusterlb/1/118/30":{"id":"icmclusterlb/1/118/30","name":"SupportedSeverities_1","entityType":"Column","type":"real"},"icmclusterlb/1/118/31":{"id":"icmclusterlb/1/118/31","name":"Lens_BatchId_1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesSnapshot_V1_Backup":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesSnapshot_V1_Backup","entityType":"Table","name":"IncidentCustomFieldEntriesSnapshot_V1_Backup","columns":{"icmclusterlb/1/119/0":{"id":"icmclusterlb/1/119/0","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/119/1":{"id":"icmclusterlb/1/119/1","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/119/2":{"id":"icmclusterlb/1/119/2","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/119/3":{"id":"icmclusterlb/1/119/3","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/119/4":{"id":"icmclusterlb/1/119/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/119/5":{"id":"icmclusterlb/1/119/5","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/119/6":{"id":"icmclusterlb/1/119/6","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/119/7":{"id":"icmclusterlb/1/119/7","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/119/8":{"id":"icmclusterlb/1/119/8","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/119/9":{"id":"icmclusterlb/1/119/9","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/119/10":{"id":"icmclusterlb/1/119/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/119/11":{"id":"icmclusterlb/1/119/11","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/119/12":{"id":"icmclusterlb/1/119/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/119/13":{"id":"icmclusterlb/1/119/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/119/14":{"id":"icmclusterlb/1/119/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/119/15":{"id":"icmclusterlb/1/119/15","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/119/16":{"id":"icmclusterlb/1/119/16","name":"__LastComputedDateTime__","entityType":"Column","type":"datetime"},"icmclusterlb/1/119/17":{"id":"icmclusterlb/1/119/17","name":"__LatestDataTimestamp__","entityType":"Column","type":"datetime"}}},"icmclusterlb/IcMDataWarehouse/RootCauseContributingFactors":{"id":"icmclusterlb/IcMDataWarehouse/RootCauseContributingFactors","entityType":"Table","name":"RootCauseContributingFactors","columns":{"icmclusterlb/1/120/0":{"id":"icmclusterlb/1/120/0","name":"Id","entityType":"Column","type":"long"},"icmclusterlb/1/120/1":{"id":"icmclusterlb/1/120/1","name":"FactorId","entityType":"Column","type":"string"},"icmclusterlb/1/120/2":{"id":"icmclusterlb/1/120/2","name":"FactorName","entityType":"Column","type":"string"},"icmclusterlb/1/120/3":{"id":"icmclusterlb/1/120/3","name":"FactorContext","entityType":"Column","type":"string"},"icmclusterlb/1/120/4":{"id":"icmclusterlb/1/120/4","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/120/5":{"id":"icmclusterlb/1/120/5","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/120/6":{"id":"icmclusterlb/1/120/6","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/120/7":{"id":"icmclusterlb/1/120/7","name":"CreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/120/8":{"id":"icmclusterlb/1/120/8","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/120/9":{"id":"icmclusterlb/1/120/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/120/10":{"id":"icmclusterlb/1/120/10","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/120/11":{"id":"icmclusterlb/1/120/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/120/12":{"id":"icmclusterlb/1/120/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/120/13":{"id":"icmclusterlb/1/120/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/120/14":{"id":"icmclusterlb/1/120/14","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PublicPIRResourcesHistory":{"id":"icmclusterlb/IcMDataWarehouse/PublicPIRResourcesHistory","entityType":"Table","name":"PublicPIRResourcesHistory","columns":{"icmclusterlb/1/121/0":{"id":"icmclusterlb/1/121/0","name":"HistoryId","entityType":"Column","type":"long"},"icmclusterlb/1/121/1":{"id":"icmclusterlb/1/121/1","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/121/2":{"id":"icmclusterlb/1/121/2","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/121/3":{"id":"icmclusterlb/1/121/3","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/121/4":{"id":"icmclusterlb/1/121/4","name":"ResourceData","entityType":"Column","type":"string"},"icmclusterlb/1/121/5":{"id":"icmclusterlb/1/121/5","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/121/6":{"id":"icmclusterlb/1/121/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/121/7":{"id":"icmclusterlb/1/121/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/121/8":{"id":"icmclusterlb/1/121/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/121/9":{"id":"icmclusterlb/1/121/9","name":"Lens_BatchId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TenantServiceTreeMapping":{"id":"icmclusterlb/IcMDataWarehouse/TenantServiceTreeMapping","entityType":"Table","name":"TenantServiceTreeMapping","columns":{"icmclusterlb/1/122/0":{"id":"icmclusterlb/1/122/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/122/1":{"id":"icmclusterlb/1/122/1","name":"MappedServiceTreeEntities","entityType":"Column","type":"string"},"icmclusterlb/1/122/2":{"id":"icmclusterlb/1/122/2","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/122/3":{"id":"icmclusterlb/1/122/3","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/122/4":{"id":"icmclusterlb/1/122/4","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/122/5":{"id":"icmclusterlb/1/122/5","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/122/6":{"id":"icmclusterlb/1/122/6","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/122/7":{"id":"icmclusterlb/1/122/7","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/122/8":{"id":"icmclusterlb/1/122/8","name":"TenantPublicId","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TenantsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/TenantsDedupView","entityType":"MaterializedViewTable","name":"TenantsDedupView","columns":{"icmclusterlb/1/123/0":{"id":"icmclusterlb/1/123/0","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/123/1":{"id":"icmclusterlb/1/123/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/123/2":{"id":"icmclusterlb/1/123/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/123/3":{"id":"icmclusterlb/1/123/3","name":"PublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/123/4":{"id":"icmclusterlb/1/123/4","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/123/5":{"id":"icmclusterlb/1/123/5","name":"Silo","entityType":"Column","type":"string"},"icmclusterlb/1/123/6":{"id":"icmclusterlb/1/123/6","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/123/7":{"id":"icmclusterlb/1/123/7","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/123/8":{"id":"icmclusterlb/1/123/8","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/123/9":{"id":"icmclusterlb/1/123/9","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/123/10":{"id":"icmclusterlb/1/123/10","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/123/11":{"id":"icmclusterlb/1/123/11","name":"SupportedSilos","entityType":"Column","type":"string"},"icmclusterlb/1/123/12":{"id":"icmclusterlb/1/123/12","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/123/13":{"id":"icmclusterlb/1/123/13","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/123/14":{"id":"icmclusterlb/1/123/14","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/123/15":{"id":"icmclusterlb/1/123/15","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/123/16":{"id":"icmclusterlb/1/123/16","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/123/17":{"id":"icmclusterlb/1/123/17","name":"IsCorrelationRuleAutoTuneEnabled","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/IncidentImpactedTenantsDedupView","entityType":"MaterializedViewTable","name":"IncidentImpactedTenantsDedupView","columns":{"icmclusterlb/1/124/0":{"id":"icmclusterlb/1/124/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/124/1":{"id":"icmclusterlb/1/124/1","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/124/2":{"id":"icmclusterlb/1/124/2","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/124/3":{"id":"icmclusterlb/1/124/3","name":"TenantName","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/PurgedIncidentsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/PurgedIncidentsDedupView","entityType":"MaterializedViewTable","name":"PurgedIncidentsDedupView","columns":{"icmclusterlb/1/125/0":{"id":"icmclusterlb/1/125/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/125/1":{"id":"icmclusterlb/1/125/1","name":"IncidentId1","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/PostIncidentReportsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/PostIncidentReportsDedupView","entityType":"MaterializedViewTable","name":"PostIncidentReportsDedupView","columns":{"icmclusterlb/1/126/0":{"id":"icmclusterlb/1/126/0","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/126/1":{"id":"icmclusterlb/1/126/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/2":{"id":"icmclusterlb/1/126/2","name":"Resources","entityType":"Column","type":"string"},"icmclusterlb/1/126/3":{"id":"icmclusterlb/1/126/3","name":"CreationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/4":{"id":"icmclusterlb/1/126/4","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/5":{"id":"icmclusterlb/1/126/5","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/126/6":{"id":"icmclusterlb/1/126/6","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/126/7":{"id":"icmclusterlb/1/126/7","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/126/8":{"id":"icmclusterlb/1/126/8","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/126/9":{"id":"icmclusterlb/1/126/9","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/126/10":{"id":"icmclusterlb/1/126/10","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/126/11":{"id":"icmclusterlb/1/126/11","name":"FeatureTeam","entityType":"Column","type":"long"},"icmclusterlb/1/126/12":{"id":"icmclusterlb/1/126/12","name":"FeatureTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/126/13":{"id":"icmclusterlb/1/126/13","name":"ReportOwnerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/126/14":{"id":"icmclusterlb/1/126/14","name":"SreOrSeContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/126/15":{"id":"icmclusterlb/1/126/15","name":"IncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/126/16":{"id":"icmclusterlb/1/126/16","name":"CommunicationsManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/126/17":{"id":"icmclusterlb/1/126/17","name":"LiveSiteIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/126/18":{"id":"icmclusterlb/1/126/18","name":"CustomerIncidents","entityType":"Column","type":"string"},"icmclusterlb/1/126/19":{"id":"icmclusterlb/1/126/19","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/126/20":{"id":"icmclusterlb/1/126/20","name":"IncidentRaisedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/21":{"id":"icmclusterlb/1/126/21","name":"CreationIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/126/22":{"id":"icmclusterlb/1/126/22","name":"ImpactDuration","entityType":"Column","type":"string"},"icmclusterlb/1/126/23":{"id":"icmclusterlb/1/126/23","name":"ServiceImpacted","entityType":"Column","type":"string"},"icmclusterlb/1/126/24":{"id":"icmclusterlb/1/126/24","name":"ServiceResponsible","entityType":"Column","type":"string"},"icmclusterlb/1/126/25":{"id":"icmclusterlb/1/126/25","name":"ReceivedImpact","entityType":"Column","type":"string"},"icmclusterlb/1/126/26":{"id":"icmclusterlb/1/126/26","name":"QosImpact","entityType":"Column","type":"string"},"icmclusterlb/1/126/27":{"id":"icmclusterlb/1/126/27","name":"NoOfCustomersImpacted","entityType":"Column","type":"int"},"icmclusterlb/1/126/28":{"id":"icmclusterlb/1/126/28","name":"NoOfCustomersNotified","entityType":"Column","type":"int"},"icmclusterlb/1/126/29":{"id":"icmclusterlb/1/126/29","name":"NotificationSourceType","entityType":"Column","type":"string"},"icmclusterlb/1/126/30":{"id":"icmclusterlb/1/126/30","name":"NotificationSource","entityType":"Column","type":"string"},"icmclusterlb/1/126/31":{"id":"icmclusterlb/1/126/31","name":"ClusterDataCenter","entityType":"Column","type":"string"},"icmclusterlb/1/126/32":{"id":"icmclusterlb/1/126/32","name":"EventParticipants","entityType":"Column","type":"string"},"icmclusterlb/1/126/33":{"id":"icmclusterlb/1/126/33","name":"RepeatOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/126/34":{"id":"icmclusterlb/1/126/34","name":"RepeatOutageDetail","entityType":"Column","type":"string"},"icmclusterlb/1/126/35":{"id":"icmclusterlb/1/126/35","name":"ImpactStart","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/36":{"id":"icmclusterlb/1/126/36","name":"ImpactStartDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/37":{"id":"icmclusterlb/1/126/37","name":"Detection","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/38":{"id":"icmclusterlb/1/126/38","name":"DetectionDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/39":{"id":"icmclusterlb/1/126/39","name":"Triage","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/40":{"id":"icmclusterlb/1/126/40","name":"TriageDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/41":{"id":"icmclusterlb/1/126/41","name":"EngineerEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/42":{"id":"icmclusterlb/1/126/42","name":"EngineerEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/43":{"id":"icmclusterlb/1/126/43","name":"CommsEngaged","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/44":{"id":"icmclusterlb/1/126/44","name":"CommsEngagedDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/45":{"id":"icmclusterlb/1/126/45","name":"FirstCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/46":{"id":"icmclusterlb/1/126/46","name":"FirstCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/47":{"id":"icmclusterlb/1/126/47","name":"DetailedCustomerAdvisory","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/48":{"id":"icmclusterlb/1/126/48","name":"DetailedCustomerAdvisoryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/49":{"id":"icmclusterlb/1/126/49","name":"Dashboard","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/50":{"id":"icmclusterlb/1/126/50","name":"DashboardDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/51":{"id":"icmclusterlb/1/126/51","name":"Mitigation","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/52":{"id":"icmclusterlb/1/126/52","name":"MitigationDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/53":{"id":"icmclusterlb/1/126/53","name":"Diagnosis","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/54":{"id":"icmclusterlb/1/126/54","name":"DiagnosisDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/55":{"id":"icmclusterlb/1/126/55","name":"Recovery","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/56":{"id":"icmclusterlb/1/126/56","name":"RecoveryDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/57":{"id":"icmclusterlb/1/126/57","name":"Other1","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/58":{"id":"icmclusterlb/1/126/58","name":"Other1Description","entityType":"Column","type":"string"},"icmclusterlb/1/126/59":{"id":"icmclusterlb/1/126/59","name":"Other2","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/60":{"id":"icmclusterlb/1/126/60","name":"Other2Description","entityType":"Column","type":"string"},"icmclusterlb/1/126/61":{"id":"icmclusterlb/1/126/61","name":"Other3","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/62":{"id":"icmclusterlb/1/126/62","name":"Other3Description","entityType":"Column","type":"string"},"icmclusterlb/1/126/63":{"id":"icmclusterlb/1/126/63","name":"KnownTestCase","entityType":"Column","type":"string"},"icmclusterlb/1/126/64":{"id":"icmclusterlb/1/126/64","name":"PossibleTest","entityType":"Column","type":"string"},"icmclusterlb/1/126/65":{"id":"icmclusterlb/1/126/65","name":"TestingIssues","entityType":"Column","type":"string"},"icmclusterlb/1/126/66":{"id":"icmclusterlb/1/126/66","name":"PublicSummary","entityType":"Column","type":"string"},"icmclusterlb/1/126/67":{"id":"icmclusterlb/1/126/67","name":"PublicCustomerImpact","entityType":"Column","type":"string"},"icmclusterlb/1/126/68":{"id":"icmclusterlb/1/126/68","name":"PublicRootCause","entityType":"Column","type":"string"},"icmclusterlb/1/126/69":{"id":"icmclusterlb/1/126/69","name":"PublicNextSteps","entityType":"Column","type":"string"},"icmclusterlb/1/126/70":{"id":"icmclusterlb/1/126/70","name":"Version","entityType":"Column","type":"int"},"icmclusterlb/1/126/71":{"id":"icmclusterlb/1/126/71","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/126/72":{"id":"icmclusterlb/1/126/72","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/126/73":{"id":"icmclusterlb/1/126/73","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/126/74":{"id":"icmclusterlb/1/126/74","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/126/75":{"id":"icmclusterlb/1/126/75","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/126/76":{"id":"icmclusterlb/1/126/76","name":"OutageDeclaredDescription","entityType":"Column","type":"string"},"icmclusterlb/1/126/77":{"id":"icmclusterlb/1/126/77","name":"ExecutiveIncidentManagerContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/126/78":{"id":"icmclusterlb/1/126/78","name":"AirOImpact","entityType":"Column","type":"string"}}},"icmclusterlb/IcMDataWarehouse/TeamsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/TeamsDedupView","entityType":"MaterializedViewTable","name":"TeamsDedupView","columns":{"icmclusterlb/1/127/0":{"id":"icmclusterlb/1/127/0","name":"TeamId","entityType":"Column","type":"long"},"icmclusterlb/1/127/1":{"id":"icmclusterlb/1/127/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/127/2":{"id":"icmclusterlb/1/127/2","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/127/3":{"id":"icmclusterlb/1/127/3","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/127/4":{"id":"icmclusterlb/1/127/4","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/127/5":{"id":"icmclusterlb/1/127/5","name":"PublicTeamId","entityType":"Column","type":"string"},"icmclusterlb/1/127/6":{"id":"icmclusterlb/1/127/6","name":"IsTombstoned","entityType":"Column","type":"bool"},"icmclusterlb/1/127/7":{"id":"icmclusterlb/1/127/7","name":"CreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/127/8":{"id":"icmclusterlb/1/127/8","name":"CreatedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/127/9":{"id":"icmclusterlb/1/127/9","name":"ModifiedBy","entityType":"Column","type":"string"},"icmclusterlb/1/127/10":{"id":"icmclusterlb/1/127/10","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/127/11":{"id":"icmclusterlb/1/127/11","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/127/12":{"id":"icmclusterlb/1/127/12","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/127/13":{"id":"icmclusterlb/1/127/13","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/127/14":{"id":"icmclusterlb/1/127/14","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/127/15":{"id":"icmclusterlb/1/127/15","name":"Alias","entityType":"Column","type":"string"},"icmclusterlb/1/127/16":{"id":"icmclusterlb/1/127/16","name":"AliasDomain","entityType":"Column","type":"string"},"icmclusterlb/1/127/17":{"id":"icmclusterlb/1/127/17","name":"ReferencedTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/127/18":{"id":"icmclusterlb/1/127/18","name":"AllowIncidentAssignment","entityType":"Column","type":"bool"},"icmclusterlb/1/127/19":{"id":"icmclusterlb/1/127/19","name":"AllowRequestAssistance","entityType":"Column","type":"bool"},"icmclusterlb/1/127/20":{"id":"icmclusterlb/1/127/20","name":"PhoneCallSeverityThreshold","entityType":"Column","type":"int"},"icmclusterlb/1/127/21":{"id":"icmclusterlb/1/127/21","name":"PhoneCallDayTimeRestrictions","entityType":"Column","type":"string"},"icmclusterlb/1/127/22":{"id":"icmclusterlb/1/127/22","name":"Description","entityType":"Column","type":"string"},"icmclusterlb/1/127/23":{"id":"icmclusterlb/1/127/23","name":"EligibleAsIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/127/24":{"id":"icmclusterlb/1/127/24","name":"EligibleAsExecutiveIncidentManager","entityType":"Column","type":"bool"},"icmclusterlb/1/127/25":{"id":"icmclusterlb/1/127/25","name":"IncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/127/26":{"id":"icmclusterlb/1/127/26","name":"ExecutiveIncidentManagerTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/127/27":{"id":"icmclusterlb/1/127/27","name":"RequestAssistanceSetting","entityType":"Column","type":"string"},"icmclusterlb/1/127/28":{"id":"icmclusterlb/1/127/28","name":"IsPrivate","entityType":"Column","type":"bool"},"icmclusterlb/1/127/29":{"id":"icmclusterlb/1/127/29","name":"AutoCorrelationConfigOverrideService","entityType":"Column","type":"bool"},"icmclusterlb/1/127/30":{"id":"icmclusterlb/1/127/30","name":"IncidentAccessSettings","entityType":"Column","type":"string"},"icmclusterlb/1/127/31":{"id":"icmclusterlb/1/127/31","name":"FavoriteTeamSetting","entityType":"Column","type":"string"},"icmclusterlb/1/127/32":{"id":"icmclusterlb/1/127/32","name":"ArePhoneCallHoursRestricted","entityType":"Column","type":"bool"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView20240123":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView20240123","entityType":"MaterializedViewTable","name":"IncidentCustomFieldEntriesDedupView20240123","columns":{"icmclusterlb/1/128/0":{"id":"icmclusterlb/1/128/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/128/1":{"id":"icmclusterlb/1/128/1","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/128/2":{"id":"icmclusterlb/1/128/2","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/128/3":{"id":"icmclusterlb/1/128/3","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/128/4":{"id":"icmclusterlb/1/128/4","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/128/5":{"id":"icmclusterlb/1/128/5","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/128/6":{"id":"icmclusterlb/1/128/6","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/128/7":{"id":"icmclusterlb/1/128/7","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/128/8":{"id":"icmclusterlb/1/128/8","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/128/9":{"id":"icmclusterlb/1/128/9","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/128/10":{"id":"icmclusterlb/1/128/10","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/128/11":{"id":"icmclusterlb/1/128/11","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/128/12":{"id":"icmclusterlb/1/128/12","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/128/13":{"id":"icmclusterlb/1/128/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/128/14":{"id":"icmclusterlb/1/128/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/128/15":{"id":"icmclusterlb/1/128/15","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView":{"id":"icmclusterlb/IcMDataWarehouse/IncidentCustomFieldEntriesDedupView","entityType":"MaterializedViewTable","name":"IncidentCustomFieldEntriesDedupView","columns":{"icmclusterlb/1/129/0":{"id":"icmclusterlb/1/129/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/129/1":{"id":"icmclusterlb/1/129/1","name":"CustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/129/2":{"id":"icmclusterlb/1/129/2","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/129/3":{"id":"icmclusterlb/1/129/3","name":"IncidentCustomFieldId","entityType":"Column","type":"long"},"icmclusterlb/1/129/4":{"id":"icmclusterlb/1/129/4","name":"Name","entityType":"Column","type":"string"},"icmclusterlb/1/129/5":{"id":"icmclusterlb/1/129/5","name":"DisplayName","entityType":"Column","type":"string"},"icmclusterlb/1/129/6":{"id":"icmclusterlb/1/129/6","name":"FrontEndCategoryName","entityType":"Column","type":"string"},"icmclusterlb/1/129/7":{"id":"icmclusterlb/1/129/7","name":"TenantName","entityType":"Column","type":"string"},"icmclusterlb/1/129/8":{"id":"icmclusterlb/1/129/8","name":"TenantId","entityType":"Column","type":"long"},"icmclusterlb/1/129/9":{"id":"icmclusterlb/1/129/9","name":"IsDisabled","entityType":"Column","type":"bool"},"icmclusterlb/1/129/10":{"id":"icmclusterlb/1/129/10","name":"DataType","entityType":"Column","type":"string"},"icmclusterlb/1/129/11":{"id":"icmclusterlb/1/129/11","name":"Value","entityType":"Column","type":"string"},"icmclusterlb/1/129/12":{"id":"icmclusterlb/1/129/12","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/129/13":{"id":"icmclusterlb/1/129/13","name":"FrontEndCategoryId","entityType":"Column","type":"long"},"icmclusterlb/1/129/14":{"id":"icmclusterlb/1/129/14","name":"TeamName","entityType":"Column","type":"string"},"icmclusterlb/1/129/15":{"id":"icmclusterlb/1/129/15","name":"TeamId","entityType":"Column","type":"long"}}},"icmclusterlb/IcMDataWarehouse/IncidentsDedupView":{"id":"icmclusterlb/IcMDataWarehouse/IncidentsDedupView","entityType":"MaterializedViewTable","name":"IncidentsDedupView","columns":{"icmclusterlb/1/130/0":{"id":"icmclusterlb/1/130/0","name":"IncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/130/1":{"id":"icmclusterlb/1/130/1","name":"Lens_IngestionTime","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/2":{"id":"icmclusterlb/1/130/2","name":"SourceId","entityType":"Column","type":"string"},"icmclusterlb/1/130/3":{"id":"icmclusterlb/1/130/3","name":"SourceName","entityType":"Column","type":"string"},"icmclusterlb/1/130/4":{"id":"icmclusterlb/1/130/4","name":"SourceType","entityType":"Column","type":"string"},"icmclusterlb/1/130/5":{"id":"icmclusterlb/1/130/5","name":"SourceIncidentId","entityType":"Column","type":"string"},"icmclusterlb/1/130/6":{"id":"icmclusterlb/1/130/6","name":"SourceCreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/7":{"id":"icmclusterlb/1/130/7","name":"SourceOrigin","entityType":"Column","type":"string"},"icmclusterlb/1/130/8":{"id":"icmclusterlb/1/130/8","name":"SourceCreatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/130/9":{"id":"icmclusterlb/1/130/9","name":"SourceModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/10":{"id":"icmclusterlb/1/130/10","name":"CreateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/11":{"id":"icmclusterlb/1/130/11","name":"ModifiedDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/12":{"id":"icmclusterlb/1/130/12","name":"RoutingId","entityType":"Column","type":"string"},"icmclusterlb/1/130/13":{"id":"icmclusterlb/1/130/13","name":"CorrelationId","entityType":"Column","type":"string"},"icmclusterlb/1/130/14":{"id":"icmclusterlb/1/130/14","name":"OccurringEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/130/15":{"id":"icmclusterlb/1/130/15","name":"OccurringDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/130/16":{"id":"icmclusterlb/1/130/16","name":"OccurringDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/130/17":{"id":"icmclusterlb/1/130/17","name":"OccurringDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/130/18":{"id":"icmclusterlb/1/130/18","name":"OccurringServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/130/19":{"id":"icmclusterlb/1/130/19","name":"RaisingEnvironment","entityType":"Column","type":"string"},"icmclusterlb/1/130/20":{"id":"icmclusterlb/1/130/20","name":"RaisingDatacenter","entityType":"Column","type":"string"},"icmclusterlb/1/130/21":{"id":"icmclusterlb/1/130/21","name":"RaisingDeviceGroup","entityType":"Column","type":"string"},"icmclusterlb/1/130/22":{"id":"icmclusterlb/1/130/22","name":"RaisingDeviceName","entityType":"Column","type":"string"},"icmclusterlb/1/130/23":{"id":"icmclusterlb/1/130/23","name":"RaisingServiceInstanceId","entityType":"Column","type":"string"},"icmclusterlb/1/130/24":{"id":"icmclusterlb/1/130/24","name":"OwningTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/130/25":{"id":"icmclusterlb/1/130/25","name":"OwningTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/130/26":{"id":"icmclusterlb/1/130/26","name":"OwningTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/130/27":{"id":"icmclusterlb/1/130/27","name":"OwningTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/130/28":{"id":"icmclusterlb/1/130/28","name":"OwningTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/130/29":{"id":"icmclusterlb/1/130/29","name":"OwningContactId","entityType":"Column","type":"string"},"icmclusterlb/1/130/30":{"id":"icmclusterlb/1/130/30","name":"OwningContactAlias","entityType":"Column","type":"string"},"icmclusterlb/1/130/31":{"id":"icmclusterlb/1/130/31","name":"ParentIncidentId","entityType":"Column","type":"long"},"icmclusterlb/1/130/32":{"id":"icmclusterlb/1/130/32","name":"Severity","entityType":"Column","type":"int"},"icmclusterlb/1/130/33":{"id":"icmclusterlb/1/130/33","name":"Status","entityType":"Column","type":"string"},"icmclusterlb/1/130/34":{"id":"icmclusterlb/1/130/34","name":"IsNoise","entityType":"Column","type":"bool"},"icmclusterlb/1/130/35":{"id":"icmclusterlb/1/130/35","name":"IsSecurityRisk","entityType":"Column","type":"bool"},"icmclusterlb/1/130/36":{"id":"icmclusterlb/1/130/36","name":"IsCustomerImpacting","entityType":"Column","type":"bool"},"icmclusterlb/1/130/37":{"id":"icmclusterlb/1/130/37","name":"Component","entityType":"Column","type":"string"},"icmclusterlb/1/130/38":{"id":"icmclusterlb/1/130/38","name":"Revision","entityType":"Column","type":"int"},"icmclusterlb/1/130/39":{"id":"icmclusterlb/1/130/39","name":"TsgId","entityType":"Column","type":"string"},"icmclusterlb/1/130/40":{"id":"icmclusterlb/1/130/40","name":"Title","entityType":"Column","type":"string"},"icmclusterlb/1/130/41":{"id":"icmclusterlb/1/130/41","name":"ReproSteps","entityType":"Column","type":"string"},"icmclusterlb/1/130/42":{"id":"icmclusterlb/1/130/42","name":"CustomerName","entityType":"Column","type":"string"},"icmclusterlb/1/130/43":{"id":"icmclusterlb/1/130/43","name":"CommitDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/44":{"id":"icmclusterlb/1/130/44","name":"ResolveDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/45":{"id":"icmclusterlb/1/130/45","name":"ResolvedBy","entityType":"Column","type":"string"},"icmclusterlb/1/130/46":{"id":"icmclusterlb/1/130/46","name":"RootCauseId","entityType":"Column","type":"long"},"icmclusterlb/1/130/47":{"id":"icmclusterlb/1/130/47","name":"RootCauseLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/48":{"id":"icmclusterlb/1/130/48","name":"Mitigation","entityType":"Column","type":"string"},"icmclusterlb/1/130/49":{"id":"icmclusterlb/1/130/49","name":"KBArticleId","entityType":"Column","type":"long"},"icmclusterlb/1/130/50":{"id":"icmclusterlb/1/130/50","name":"PIRReportId","entityType":"Column","type":"long"},"icmclusterlb/1/130/51":{"id":"icmclusterlb/1/130/51","name":"PIRLinkDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/52":{"id":"icmclusterlb/1/130/52","name":"ImpactedScenarios","entityType":"Column","type":"string"},"icmclusterlb/1/130/53":{"id":"icmclusterlb/1/130/53","name":"HitCount","entityType":"Column","type":"long"},"icmclusterlb/1/130/54":{"id":"icmclusterlb/1/130/54","name":"LastCorrelationDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/55":{"id":"icmclusterlb/1/130/55","name":"Keywords","entityType":"Column","type":"string"},"icmclusterlb/1/130/56":{"id":"icmclusterlb/1/130/56","name":"MitigateDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/57":{"id":"icmclusterlb/1/130/57","name":"ImpactStartDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/58":{"id":"icmclusterlb/1/130/58","name":"MitigatedBy","entityType":"Column","type":"string"},"icmclusterlb/1/130/59":{"id":"icmclusterlb/1/130/59","name":"CommsMgrEngagementMode","entityType":"Column","type":"string"},"icmclusterlb/1/130/60":{"id":"icmclusterlb/1/130/60","name":"CommsMgrEngagementAdditionalDetails","entityType":"Column","type":"string"},"icmclusterlb/1/130/61":{"id":"icmclusterlb/1/130/61","name":"IncidentType","entityType":"Column","type":"string"},"icmclusterlb/1/130/62":{"id":"icmclusterlb/1/130/62","name":"ChildCount","entityType":"Column","type":"long"},"icmclusterlb/1/130/63":{"id":"icmclusterlb/1/130/63","name":"RelatedLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/130/64":{"id":"icmclusterlb/1/130/64","name":"ExternalLinksCount","entityType":"Column","type":"long"},"icmclusterlb/1/130/65":{"id":"icmclusterlb/1/130/65","name":"HowFixed","entityType":"Column","type":"string"},"icmclusterlb/1/130/66":{"id":"icmclusterlb/1/130/66","name":"IncidentSubType","entityType":"Column","type":"string"},"icmclusterlb/1/130/67":{"id":"icmclusterlb/1/130/67","name":"TsgOutput","entityType":"Column","type":"string"},"icmclusterlb/1/130/68":{"id":"icmclusterlb/1/130/68","name":"MonitorId","entityType":"Column","type":"string"},"icmclusterlb/1/130/69":{"id":"icmclusterlb/1/130/69","name":"ResponsibleTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/130/70":{"id":"icmclusterlb/1/130/70","name":"ResponsibleTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/130/71":{"id":"icmclusterlb/1/130/71","name":"ResponsibleTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/130/72":{"id":"icmclusterlb/1/130/72","name":"SupportTicketId","entityType":"Column","type":"string"},"icmclusterlb/1/130/73":{"id":"icmclusterlb/1/130/73","name":"SubscriptionId","entityType":"Column","type":"string"},"icmclusterlb/1/130/74":{"id":"icmclusterlb/1/130/74","name":"PublicPirId","entityType":"Column","type":"long"},"icmclusterlb/1/130/75":{"id":"icmclusterlb/1/130/75","name":"OriginatingTenantName","entityType":"Column","type":"string"},"icmclusterlb/1/130/76":{"id":"icmclusterlb/1/130/76","name":"OriginatingTenantId","entityType":"Column","type":"long"},"icmclusterlb/1/130/77":{"id":"icmclusterlb/1/130/77","name":"OriginatingTenantPublicId","entityType":"Column","type":"guid"},"icmclusterlb/1/130/78":{"id":"icmclusterlb/1/130/78","name":"SiloId","entityType":"Column","type":"long"},"icmclusterlb/1/130/79":{"id":"icmclusterlb/1/130/79","name":"Lens_Originator","entityType":"Column","type":"string"},"icmclusterlb/1/130/80":{"id":"icmclusterlb/1/130/80","name":"Lens_OriginatorData","entityType":"Column","type":"string"},"icmclusterlb/1/130/81":{"id":"icmclusterlb/1/130/81","name":"Lens_SessionId","entityType":"Column","type":"string"},"icmclusterlb/1/130/82":{"id":"icmclusterlb/1/130/82","name":"Lens_BatchId","entityType":"Column","type":"string"},"icmclusterlb/1/130/83":{"id":"icmclusterlb/1/130/83","name":"IsOutage","entityType":"Column","type":"bool"},"icmclusterlb/1/130/84":{"id":"icmclusterlb/1/130/84","name":"Summary","entityType":"Column","type":"string"},"icmclusterlb/1/130/85":{"id":"icmclusterlb/1/130/85","name":"OutageDeclaredDate","entityType":"Column","type":"datetime"},"icmclusterlb/1/130/86":{"id":"icmclusterlb/1/130/86","name":"ResponsibleTeamName","entityType":"Column","type":"string"},"icmclusterlb/1/130/87":{"id":"icmclusterlb/1/130/87","name":"ResponsibleTeamId","entityType":"Column","type":"long"},"icmclusterlb/1/130/88":{"id":"icmclusterlb/1/130/88","name":"IncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/130/89":{"id":"icmclusterlb/1/130/89","name":"CommunicationsManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/130/90":{"id":"icmclusterlb/1/130/90","name":"OutageImpactLevel","entityType":"Column","type":"string"},"icmclusterlb/1/130/91":{"id":"icmclusterlb/1/130/91","name":"ExecutiveIncidentManagerContactId","entityType":"Column","type":"string"},"icmclusterlb/1/130/92":{"id":"icmclusterlb/1/130/92","name":"Tags","entityType":"Column","type":"string"},"icmclusterlb/1/130/93":{"id":"icmclusterlb/1/130/93","name":"IsPurged","entityType":"Column","type":"bool"},"icmclusterlb/1/130/94":{"id":"icmclusterlb/1/130/94","name":"IsCustomerSupportEngagement","entityType":"Column","type":"bool"}}}},"functions":{"$fn_icmclusterlb/1/0":{"id":"$fn_icmclusterlb/1/0","entityType":"Function","body":"{\r\nlet icmincidents =\r\nIncidents \r\n| where CreateDate >= todatetime(startDate)  and CreateDate < todatetime(endDate) and OwningTenantId  in (tenantId)\r\n| project IncidentId;\r\n\r\nicmincidents\r\n| join hint.strategy=partitioned (Incidents\r\n    | where CreateDate >= todatetime(startDate)  and CreateDate < todatetime(endDate)\r\n    )\r\n    on $left.IncidentId == $right.IncidentId\r\n| summarize hint.strategy=partitioned argmax(Lens_IngestionTime, *) by IncidentId\r\n| where max_Lens_IngestionTime_OwningTenantId  in (tenantId)\r\n| project IncidentId, SourceId=max_Lens_IngestionTime_SourceId, SourceName=max_Lens_IngestionTime_SourceName, SourceType=max_Lens_IngestionTime_SourceType,\r\nSourceIncidentId=max_Lens_IngestionTime_SourceIncidentId, SourceCreateDate=max_Lens_IngestionTime_SourceCreateDate, SourceOrigin=max_Lens_IngestionTime_SourceOrigin,\r\nSourceCreatedBy=max_Lens_IngestionTime_SourceCreatedBy, CreateDate=max_Lens_IngestionTime_CreateDate, RoutingId=max_Lens_IngestionTime_RoutingId,\r\nCorrelationId=max_Lens_IngestionTime_CorrelationId, OccurringEnvironment=max_Lens_IngestionTime_OccurringEnvironment,  OccurringDatacenter=max_Lens_IngestionTime_OccurringDatacenter,\r\nOccurringDeviceName=max_Lens_IngestionTime_OccurringDeviceName, RaisingEnvironment= max_Lens_IngestionTime_RaisingEnvironment, RaisingDatacenter=max_Lens_IngestionTime_RaisingDatacenter,\r\nRaisingDeviceName=max_Lens_IngestionTime_RaisingDeviceName, OwningTenantName=max_Lens_IngestionTime_OwningTenantName, OwningTenantId = max_Lens_IngestionTime_OwningTenantId,\r\nOwningTenantPublicId= max_Lens_IngestionTime_OwningTenantPublicId, OwningTeamName=max_Lens_IngestionTime_OwningTeamName, OwningTeamId=max_Lens_IngestionTime_OwningTeamId,\r\nOwningContactId=max_Lens_IngestionTime_OwningContactId, OwningContactAlias = max_Lens_IngestionTime_OwningContactAlias, ParentIncidentId = max_Lens_IngestionTime_ParentIncidentId,\r\nSeverity = max_Lens_IngestionTime_Severity, Status = max_Lens_IngestionTime_Status, IsNoise = max_Lens_IngestionTime_IsNoise, IsSecurityRisk= max_Lens_IngestionTime_IsSecurityRisk,\r\nIsCustomerImpacting=max_Lens_IngestionTime_IsCustomerImpacting, Component=max_Lens_IngestionTime_Component, Revision=max_Lens_IngestionTime_Revision , TsgId= max_Lens_IngestionTime_TsgId ,\r\nTitle=max_Lens_IngestionTime_Title , ReproSteps=max_Lens_IngestionTime_ReproSteps , CustomerName=max_Lens_IngestionTime_CustomerName, CommitDate=max_Lens_IngestionTime_CommitDate ,\r\nResolveDate=max_Lens_IngestionTime_ResolveDate , ResolvedBy=max_Lens_IngestionTime_ResolvedBy , RootCauseId= max_Lens_IngestionTime_RootCauseId, RootCauseLinkDate=max_Lens_IngestionTime_RootCauseLinkDate  ,\r\nMitigation=max_Lens_IngestionTime_Mitigation , PIRReportId=max_Lens_IngestionTime_PIRReportId , PIRLinkDate=max_Lens_IngestionTime_PIRLinkDate , ImpactedScenarios=max_Lens_IngestionTime_ImpactedScenarios,\r\nHitCount=max_Lens_IngestionTime_HitCount , LastCorrelationDate=max_Lens_IngestionTime_LastCorrelationDate , Keywords=max_Lens_IngestionTime_Keywords, MitigateDate=max_Lens_IngestionTime_MitigateDate,\r\nImpactStartDate=max_Lens_IngestionTime_ImpactStartDate , MitgatedBy=max_Lens_IngestionTime_MitigatedBy , IncidentType=max_Lens_IngestionTime_IncidentType , ChildCount=max_Lens_IngestionTime_ChildCount ,\r\nHowFixed=max_Lens_IngestionTime_HowFixed, IncidentSubType=max_Lens_IngestionTime_IncidentSubType , TsgOutput=max_Lens_IngestionTime_TsgOutput, MonitorId=max_Lens_IngestionTime_MonitorId ,\r\nResponsibileTenantName=max_Lens_IngestionTime_ResponsibleTenantName , ResponsibleTenantId=max_Lens_IngestionTime_ResponsibleTenantId , responsibleTenantPublicId=max_Lens_IngestionTime_ResponsibleTenantPublicId ,\r\nPublicPirId=max_Lens_IngestionTime_PublicPirId , OriginatingTenantName=max_Lens_IngestionTime_OriginatingTenantName , OriginatingTenantId=max_Lens_IngestionTime_OriginatingTenantId , OriginatingTenantPublicId=max_Lens_IngestionTime_OriginatingTenantPublicId,\r\nSiloId=max_Lens_IngestionTime_SiloId, IsOutage=max_Lens_IngestionTime_IsOutage,ModifiedDate= max_Lens_IngestionTime_ModifiedDate\r\n}","docstring":"Get incidents for the given tenant and date range.  This funciton take create of getting latest incident records","folder":"icmportal","functionKind":"UnknownFunction","name":"getincidents","outputColumns":[],"inputParameters":[{"name":"tenantId","cslType":"int","type":"System.Int32"},{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/1":{"id":"$fn_icmclusterlb/1/1","entityType":"Function","body":"{\r\n    let incidentIdsDescription = toscalar(IncidentDescriptions\r\n    | where * has searchString\r\n    | top 4000 by Date desc\r\n    | summarize makeset(IncidentId, 4000));\r\n    let incidentIds =  toscalar(Incidents\r\n    | where * has searchString\r\n    | top 4000 by CreateDate desc\r\n    | summarize makeset(IncidentId, 4000)); \r\n    // Get latest records for the incidents\r\n    Incidents\r\n    | where IncidentId in (incidentIds, incidentIdsDescription)\r\n    | summarize argmax(Lens_IngestionTime, *) by IncidentId\r\n    | where includeCorrelated or isnull(max_Lens_IngestionTime_ParentIncidentId)\r\n    | sort by max_Lens_IngestionTime_CreateDate desc\r\n    | project IncidentId,\r\n    Lens_IngestionTime = max_Lens_IngestionTime,\r\n    SourceId = max_Lens_IngestionTime_SourceId,\r\n\tSourceName = max_Lens_IngestionTime_SourceName,\r\n\tSourceType = max_Lens_IngestionTime_SourceType,\r\n\tSourceIncidentId = max_Lens_IngestionTime_SourceIncidentId,\r\n\tSourceCreateDate = max_Lens_IngestionTime_SourceCreateDate,\r\n\tSourceOrigin = max_Lens_IngestionTime_SourceOrigin,\r\n\tSourceCreatedBy = max_Lens_IngestionTime_SourceCreatedBy,\r\n\tSourceModifiedDate = max_Lens_IngestionTime_SourceModifiedDate,\r\n\tCreateDate = max_Lens_IngestionTime_CreateDate,\r\n\tModifiedDate = max_Lens_IngestionTime_ModifiedDate,\r\n\tRoutingId = max_Lens_IngestionTime_RoutingId,\r\n\tCorrelationId = max_Lens_IngestionTime_CorrelationId,\r\n\tOccurringEnvironment = max_Lens_IngestionTime_OccurringEnvironment,\r\n\tOccurringDatacenter = max_Lens_IngestionTime_OccurringDatacenter,\r\n\tOccurringDeviceGroup = max_Lens_IngestionTime_OccurringDeviceGroup,\r\n\tOccurringDeviceName = max_Lens_IngestionTime_OccurringDeviceName,\r\n\tOccurringServiceInstanceId = max_Lens_IngestionTime_OccurringServiceInstanceId,\r\n\tRaisingEnvironment = max_Lens_IngestionTime_RaisingEnvironment,\r\n\tRaisingDatacenter = max_Lens_IngestionTime_RaisingDatacenter,\r\n\tRaisingDeviceGroup = max_Lens_IngestionTime_RaisingDeviceGroup,\r\n\tRaisingDeviceName = max_Lens_IngestionTime_RaisingDeviceName,\r\n\tRaisingServiceInstanceId = max_Lens_IngestionTime_RaisingServiceInstanceId,\r\n\tOwningTenantName = max_Lens_IngestionTime_OwningTenantName,\r\n\tOwningTenantId = max_Lens_IngestionTime_OwningTenantId,\r\n\tOwningTenantPublicId = max_Lens_IngestionTime_OwningTenantPublicId,\r\n\tOwningTeamName = max_Lens_IngestionTime_OwningTeamName,\r\n\tOwningTeamId = max_Lens_IngestionTime_OwningTeamId,\r\n\tOwningContactId = max_Lens_IngestionTime_OwningContactId,\r\n\tOwningContactAlias = max_Lens_IngestionTime_OwningContactAlias,\r\n\tParentIncidentId = max_Lens_IngestionTime_ParentIncidentId,\r\n\tSeverity = max_Lens_IngestionTime_Severity,\r\n\tStatus = max_Lens_IngestionTime_Status,\r\n\tIsNoise = max_Lens_IngestionTime_IsNoise,\r\n\tIsSecurityRisk = max_Lens_IngestionTime_IsSecurityRisk,\r\n\tIsCustomerImpacting = max_Lens_IngestionTime_IsCustomerImpacting,\r\n\tComponent = max_Lens_IngestionTime_Component,\r\n\tRevision = max_Lens_IngestionTime_Revision,\r\n\tTsgId = max_Lens_IngestionTime_TsgId,\r\n\tTitle = max_Lens_IngestionTime_Title,\r\n\tReproSteps = max_Lens_IngestionTime_ReproSteps,\r\n\tCustomerName = max_Lens_IngestionTime_CustomerName,\r\n\tCommitDate = max_Lens_IngestionTime_CommitDate,\r\n\tResolveDate = max_Lens_IngestionTime_ResolveDate,\r\n\tResolvedBy = max_Lens_IngestionTime_ResolvedBy,\r\n\tRootCauseId = max_Lens_IngestionTime_RootCauseId,\r\n\tRootCauseLinkDate = max_Lens_IngestionTime_RootCauseLinkDate,\r\n\tMitigation = max_Lens_IngestionTime_Mitigation,\r\n\tKBArticleId = max_Lens_IngestionTime_KBArticleId,\r\n\tPIRReportId = max_Lens_IngestionTime_PIRReportId,\r\n\tPIRLinkDate = max_Lens_IngestionTime_PIRLinkDate,\r\n\tImpactedScenarios = max_Lens_IngestionTime_ImpactedScenarios,\r\n\tHitCount = max_Lens_IngestionTime_HitCount,\r\n\tLastCorrelationDate = max_Lens_IngestionTime_LastCorrelationDate,\r\n\tKeywords = max_Lens_IngestionTime_Keywords,\r\n\tMitigateDate = max_Lens_IngestionTime_MitigateDate,\r\n\tImpactStartDate = max_Lens_IngestionTime_ImpactStartDate,\r\n\tMitigatedBy = max_Lens_IngestionTime_MitigatedBy,\r\n\tCommsMgrEngagementMode = max_Lens_IngestionTime_CommsMgrEngagementMode,\r\n\tCommsMgrEngagementAdditionalDetails = max_Lens_IngestionTime_CommsMgrEngagementAdditionalDetails,\r\n\tIncidentType = max_Lens_IngestionTime_IncidentType,\r\n\tChildCount = max_Lens_IngestionTime_ChildCount,\r\n\tRelatedLinksCount = max_Lens_IngestionTime_RelatedLinksCount,\r\n\tExternalLinksCount = max_Lens_IngestionTime_ExternalLinksCount,\r\n\tHowFixed = max_Lens_IngestionTime_HowFixed,\r\n\tIncidentSubType = max_Lens_IngestionTime_IncidentSubType,\r\n\tTsgOutput = max_Lens_IngestionTime_TsgOutput,\r\n\tMonitorId = max_Lens_IngestionTime_MonitorId,\r\n\tResponsibleTenantName = max_Lens_IngestionTime_ResponsibleTenantName,\r\n\tResponsibleTenantId = max_Lens_IngestionTime_ResponsibleTenantId,\r\n\tResponsibleTenantPublicId = max_Lens_IngestionTime_ResponsibleTenantPublicId,\r\n\tSupportTicketId = max_Lens_IngestionTime_SupportTicketId,\r\n\tSubscriptionId = max_Lens_IngestionTime_SubscriptionId,\r\n\tPublicPirId = max_Lens_IngestionTime_PublicPirId,\r\n\tOriginatingTenantName = max_Lens_IngestionTime_OriginatingTenantName,\r\n\tOriginatingTenantId = max_Lens_IngestionTime_OriginatingTenantId,\r\n\tOriginatingTenantPublicId = max_Lens_IngestionTime_OriginatingTenantPublicId,\r\n\tSiloId = max_Lens_IngestionTime_SiloId,\r\n\tLens_Originator = max_Lens_IngestionTime_Lens_Originator,\r\n\tLens_OriginatorData = max_Lens_IngestionTime_Lens_OriginatorData,\r\n\tLens_SessionId = max_Lens_IngestionTime_Lens_SessionId,\r\n\tLens_BatchId = max_Lens_IngestionTime_Lens_BatchId\r\n}","docstring":"function used for Omni search ","folder":"icmportal","functionKind":"UnknownFunction","name":"EverSearchIncidentsDescriptions2","outputColumns":[],"inputParameters":[{"name":"searchString","cslType":"string","type":"System.String"},{"name":"includeCorrelated","cslType":"bool","type":"System.SByte"}]},"$fn_icmclusterlb/1/2":{"id":"$fn_icmclusterlb/1/2","entityType":"Function","body":"{\r\n// let owningTenantId=10042;\r\n// let owningTeamId=23765;\r\n// let queryIncidentIds = '[38195635,38193437,39261396,37264328,40598784]';\r\n    let ids=materialize(\r\n    range x from 1 to 1 step 1\r\n    | project IncidentId=parse_json(queryIncidentIds)\r\n    | mvexpand IncidentId\r\n    | project IncidentId = tolong(IncidentId));    \r\n    let history = materialize(IncidentHistory \r\n    | where ChangeDate > ago(150d)\r\n    | where isnotempty(owningTenantId) or isnotempty(owningTeamId)\r\n    | where IncidentId in (ids)\r\n    | where OwningTenantId == owningTenantId or OwningTeamId == owningTeamId\r\n    | project IncidentId, OwningTenantId, OwningTeamId);\r\n    let historyTenant = history | where OwningTenantId == owningTenantId | summarize makeset(IncidentId) ;\r\n    let historyTeam = history | where OwningTeamId == owningTeamId | summarize makeset(IncidentId) ;\r\n    union\r\n    //(ids | where IncidentId in (toscalar(historyTenant )) | project IncidentId, Distance = 0, SimilarityType='Tenant'),\r\n    (ids | where IncidentId !in (toscalar(historyTenant )) | project IncidentId, Distance = toreal(1), SimilarityType='Tenant'),\r\n    //(ids | where IncidentId in (toscalar(historyTeam )) | project IncidentId, Distance = 0, SimilarityType='Team'),\r\n    (ids | where IncidentId !in (toscalar(historyTeam )) | project IncidentId, Distance = toreal(0.5), SimilarityType='Team')       \r\n}","docstring":"This function get similarity score for other core incident attribute","folder":"IcMML","functionKind":"UnknownFunction","name":"GetSimilarityScoreForCoreAttribute","outputColumns":[],"inputParameters":[{"name":"owningTenantId","cslType":"long","type":"System.Int64"},{"name":"owningTeamId","cslType":"long","type":"System.Int64"},{"name":"queryIncidentIds","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/3":{"id":"$fn_icmclusterlb/1/3","entityType":"Function","body":"{\r\n let actualMessages = PostIncidentReports\r\n    | where CreationDate >= start and CreationDate <= end\r\n    | where Status == \"InProgress\"\r\n    | project PIRReportId, CreationDate, Title, Severity, OwningTenantName, FeatureTeamName, ReportOwnerContactAlias\r\n    | summarize toreal(quantity = count()) by usageTime=bin(CreationDate, 1d),\r\n      resourceId=iif(ReportOwnerContactAlias == \"\", \"Default\", ReportOwnerContactAlias),\r\n      resourceLocation= \"Default\",\r\n      creationdate=iif(isempty(CreationDate), datetime(null), CreationDate),\r\n      postmortemId=iif(isempty(PIRReportId), long(null), PIRReportId),\r\n      postmortemtitle=iif(Title == \"\", \"Default\", Title),\r\n      severity=iif(isempty(Severity), int(null), Severity),\r\n      service=iif(OwningTenantName == \"\", \"Default\", OwningTenantName), \r\n      team=iif(FeatureTeamName == \"\", \"Default\", FeatureTeamName), \r\n      meterId=\"Microsoft.CloudES.IcM.PostmortemCreated\",\r\n      resourceDeploymentUnit=\"Default\";\r\n let simulatedMessage = PostIncidentReports | limit 1 \r\n    | project usageTime=bin(now(), 1d),\r\n      resourceId=\"Default\",\r\n      resourceLocation= \"Default\",\r\n      creationdate=datetime(null),\r\n      postmortemId=long(null),\r\n      postmortemtitle=\"\",\r\n      severity=int(null),\r\n      service=\"\",\r\n      team=\"\",\r\n      meterId=\"Microsoft.CloudES.IcM.PostmortemCreated\",\r\n      resourceDeploymentUnit=\"\",\r\n      quantity=toreal(0);\r\nunion isfuzzy=true\r\n(simulatedMessage),\r\n(actualMessages)\r\n}","docstring":"Postmortems created within the last week","functionKind":"UnknownFunction","name":"IcMPostmortemCreated","outputColumns":[],"inputParameters":[{"name":"start","cslType":"datetime","type":"System.DateTime"},{"name":"end","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/4":{"id":"$fn_icmclusterlb/1/4","entityType":"Function","body":"{\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 100000);\r\nlet incidents = Incidents\r\n    | where CreateDate > ago(150d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId) and (SourceName == \"ICMPortal\" or IncidentType in (\"CustomerReported\",\"Customer Reported\"))\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | summarize arg_max(Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceName,\r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)) by IncidentId;\r\n\r\nlet cachedIncidents = materialize(incidents);\r\n\r\n//cachedIncidents\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = cachedIncidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join kind =inner\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(150d) and IncidentId in (toscalar(cachedIncidents | summarize makeset(IncidentId,1000000))) and ((isnull(OwningTeamId) != true) or (isempty(Status) != true))  \r\n)\r\non IncidentId\r\n| summarize arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n//incidentHistoryAll\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union docsAndresponsibleTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy,           SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(150d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize DescriptionId1=makelist(DescriptionId,2)  by IncidentId;\r\n\r\nfinalincidents\r\n| join kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join kind= inner hint.strategy = partitioned\r\n(\r\n    IncidentDescriptions | where Date > ago(150d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),      IsCustomerImpacting,       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_PortalOnly_v1","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/5":{"id":"$fn_icmclusterlb/1/5","entityType":"Function","body":"{\r\nlet noiseIncidents= Incidents\r\n| where CreateDate > ago(150d) and isnull(ParentIncidentId) and (Status == \"MITIGATED\" or Status == \"RESOLVED\")\r\n| summarize hint.strategy = partitioned arg_max(Lens_IngestionTime, OwningTeamName, Title) by IncidentId\r\n| summarize count() by Title, OwningTeamName\r\n| where count_ > 1000\r\n| project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 1000000);\r\nlet incidents = noiseIncidents\r\n| join kind = rightouter\r\n(\r\n    Incidents\r\n    | where CreateDate > ago(150d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId)\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | summarize arg_max(Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceName,\r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)) by IncidentId\r\n)\r\non $right.OwningTeamName == $left.NoiseOwningTeamName and $right.Title == $left.NoiseTitle\r\n| where isempty(NoiseOwningTeamName) and isempty(NoiseTitle)\r\n| project-away NoiseOwningTeamName, NoiseTitle;\r\n\r\nlet tempcachedIncidents = materialize(incidents);\r\n\r\nlet sampled_part = (_start:datetime, _end:datetime, _percentage:double)\r\n{\r\n tempcachedIncidents | where SourceName != \"ICMPortal\" or IncidentType !in (\"CustomerReported\",\"Customer Reported\")\r\n| where Lens_IngestionTime between (_start .. _end) \r\n| where rand() < _percentage\r\n};\r\n\r\nlet filteredcachedIncidents =union \r\n(sampled_part(ago(60d), now(), 0.5)), \r\n(sampled_part(ago(90d), ago(60d), 0.25)), \r\n(sampled_part(ago(120d), ago(90d), 0.15)),\r\n(sampled_part(ago(150d), ago(120d), 0.10));\r\n\r\n\r\nlet filteredIncidentIds = filteredcachedIncidents | summarize makeset(IncidentId,1000000);\r\n\r\nlet cachedIncidents = materialize(union filteredcachedIncidents, tempcachedIncidents | where IncidentId !in(toscalar(filteredIncidentIds)));\r\n\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = incidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join kind =inner hint.strategy = partitioned\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(150d) and IncidentId in (toscalar(cachedIncidents | summarize makeset(IncidentId,1000000))) and (isnull(OwningTeamId) != true or isempty(Status) != true)\r\n)\r\non IncidentId\r\n| summarize arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union totalIncidentsCustomTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy, SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(150d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize DescriptionId1=makelist(DescriptionId,3)  by IncidentId;\r\n\r\n\r\nfinalincidents\r\n| join kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join kind= inner\r\n(\r\n    IncidentDescriptions | where Date > ago(150d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),      IsCustomerImpacting,       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_v1","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/6":{"id":"$fn_icmclusterlb/1/6","entityType":"Function","body":"{\r\n    IncidentsSnapshot_V1_Current\r\n    | where AssertV1SnapshotScreamTest_IncidentsSnapshot()\r\n    | where true == IncludeLatestIncidents \r\n    | join kind= rightanti (\r\n        IncidentsSnapshot_V1 \r\n    ) on IncidentId    \r\n    | union (IncidentsSnapshot_V1_Current | where true == IncludeLatestIncidents)\r\n}","docstring":"Function to return snapshot view of incidents.  Snapshot view contains incidents records with no-duplicate records. Snapshot table is synced every 1-2 hrs","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"IncidentsSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestIncidents","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/7":{"id":"$fn_icmclusterlb/1/7","entityType":"Function","body":"{\r\n    Incidents\r\n    | extend data = split(tor , \",\")\r\n    | mvexpand data\r\n    | where CreateDate >= startTime and CreateDate <= endTime and ((OwningTeamName startswith  \"Cloudnet\"  and Severity <=2) or ( Title contains \"Tor Down Analysis\"))\r\n    | where OccurringDeviceName =~ tostring(data)       \r\n    | summarize counter=count() by IncidentId, OccurringDeviceName, OccurringDeviceGroup, OwningTeamName, CreateDate, Severity, Title \r\n    | distinct *\r\n    | project-away counter\r\n    }","docstring":"Data pull for similarincident training","folder":"IcMCloudnet","functionKind":"UnknownFunction","name":"GetICMIncidents","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"},{"name":"tor","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/8":{"id":"$fn_icmclusterlb/1/8","entityType":"Function","body":"{\r\nlet tenant_teams = toscalar(\r\nTeams\r\n| where TenantId == tenantId\r\n| summarize argmax(Lens_IngestionTime, *) by TeamId\r\n| summarize makeset(TeamId));\r\ntenant_teams\r\n}","functionKind":"UnknownFunction","name":"gettenantteamid","outputColumns":[],"inputParameters":[{"name":"tenantId","cslType":"int","type":"System.Int32"}]},"$fn_icmclusterlb/1/9":{"id":"$fn_icmclusterlb/1/9","entityType":"Function","body":"{\r\nlet icmincidents =\r\nIncidents \r\n| where CreateDate >= todatetime(startDate)  and CreateDate < todatetime(endDate)   \r\n| where OwningTenantId  in (20908)\r\n| summarize by IncidentId;\r\n\r\nicmincidents\r\n| join kind=inner (Incidents\r\n    | where CreateDate >= todatetime(startDate)  and CreateDate < todatetime(endDate)\r\n    )\r\n    on $left.IncidentId == $right.IncidentId\r\n| summarize argmax(Lens_IngestionTime, *) by IncidentId\r\n| where max_Lens_IngestionTime_OwningTenantId  in (20908)\r\n}","functionKind":"UnknownFunction","name":"IcmIncidents","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/10":{"id":"$fn_icmclusterlb/1/10","entityType":"Function","body":"{\r\nlet noiseIncidents= IncidentsSnapshot_V1\r\n| where CreateDate > ago(45d) and isnull(ParentIncidentId) and (Status == \"MITIGATED\" or Status == \"RESOLVED\")\r\n| summarize count() by Title, OwningTeamName\r\n| where count_ > 100\r\n| project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 1000000);\r\nlet incidents = noiseIncidents\r\n| join hint.strategy = shuffle kind = rightouter\r\n(\r\n    IncidentsSnapshot_V1\r\n    | where CreateDate > ago(45d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId) and (SourceName == \"ICMPortal\" or IncidentType in (\"CustomerReported\",\"Customer Reported\"))\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId, Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)\r\n)\r\non $right.OwningTeamName == $left.NoiseOwningTeamName and $right.Title == $left.NoiseTitle\r\n| where isempty(NoiseOwningTeamName) and isempty(NoiseTitle)\r\n| project-away NoiseOwningTeamName, NoiseTitle;\r\n\r\nlet tempcachedIncidents = materialize(incidents);\r\n\r\nlet sampled_part = (_start:datetime, _end:datetime, _percentage:double)\r\n{\r\n tempcachedIncidents | where SourceName != \"ICMPortal\" or IncidentType !in (\"CustomerReported\",\"Customer Reported\")\r\n| where Lens_IngestionTime between (_start .. _end) \r\n| where rand() < _percentage\r\n};\r\n\r\nlet filteredcachedIncidents =union \r\n(sampled_part(ago(60d), now(), 0.5)), \r\n(sampled_part(ago(90d), ago(60d), 0.25)), \r\n(sampled_part(ago(120d), ago(90d), 0.15)),\r\n(sampled_part(ago(45d), ago(120d), 0.10));\r\n\r\n\r\nlet filteredIncidentIds = filteredcachedIncidents | summarize makeset(IncidentId,1000000);\r\n\r\nlet cachedIncidents = materialize(union filteredcachedIncidents, tempcachedIncidents | where IncidentId !in(toscalar(filteredIncidentIds)));\r\n\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = incidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join hint.strategy = shuffle kind =inner hint.strategy = partitioned\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(45d) and IncidentId in (toscalar(cachedIncidents | summarize hint.strategy = shuffle makeset(IncidentId,1000000))) and (isnull(OwningTeamId) != true or isempty(Status) != true)\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join hint.strategy = shuffle kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize hint.strategy = shuffle arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join hint.strategy = shuffle kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize hint.strategy = shuffle arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join hint.strategy = shuffle kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union totalIncidentsCustomTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy, SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(45d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize hint.strategy = shuffle DescriptionId1=makelist(DescriptionId,3)  by IncidentId;\r\n\r\n\r\nfinalincidents\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join hint.strategy = shuffle\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    IncidentDescriptions | where Date > ago(45d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),   IsCustomerImpacting = coalesce(tostring(IsCustomerImpacting),tostring(IsCustomerImpacting),'False'),       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for CRI air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_cri_full","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/11":{"id":"$fn_icmclusterlb/1/11","entityType":"Function","body":"{\r\nlet noiseIncidents= IncidentsSnapshot_V1\r\n| where CreateDate > ago(30d) and isnull(ParentIncidentId) and (Status == \"MITIGATED\" or Status == \"RESOLVED\")\r\n| summarize count() by Title, OwningTeamName\r\n| where count_ > 100\r\n| project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 1000000);\r\nlet incidents = noiseIncidents\r\n| join kind = rightouter\r\n(\r\n    IncidentsSnapshot_V1\r\n    | where CreateDate > ago(30d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId)\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId, Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)\r\n)\r\non $right.OwningTeamName == $left.NoiseOwningTeamName and $right.Title == $left.NoiseTitle\r\n| where isempty(NoiseOwningTeamName) and isempty(NoiseTitle)\r\n| project-away NoiseOwningTeamName, NoiseTitle;\r\n\r\nlet tempcachedIncidents = materialize(incidents);\r\n\r\nlet sampled_part = (_start:datetime, _end:datetime, _percentage:double)\r\n{\r\n tempcachedIncidents | where SourceName != \"ICMPortal\" or IncidentType !in (\"CustomerReported\",\"Customer Reported\")\r\n| where Lens_IngestionTime between (_start .. _end) \r\n| where rand() < _percentage\r\n};\r\n\r\nlet filteredcachedIncidents =union \r\n(sampled_part(ago(60d), now(), 0.5)), \r\n(sampled_part(ago(90d), ago(60d), 0.25)), \r\n(sampled_part(ago(120d), ago(90d), 0.15)),\r\n(sampled_part(ago(30d), ago(120d), 0.10));\r\n\r\n\r\nlet filteredIncidentIds = filteredcachedIncidents | summarize makeset(IncidentId,1000000);\r\n\r\nlet cachedIncidents = materialize(union filteredcachedIncidents, tempcachedIncidents | where IncidentId !in(toscalar(filteredIncidentIds)));\r\n\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = incidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join hint.strategy = shuffle kind =inner hint.strategy = partitioned\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(30d) and IncidentId in (toscalar(cachedIncidents | summarize hint.strategy = shuffle makeset(IncidentId,1000000))) and (isnull(OwningTeamId) != true or isempty(Status) != true)\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join hint.strategy = shuffle kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize hint.strategy = shuffle arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join hint.strategy = shuffle kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize hint.strategy = shuffle arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join hint.strategy = shuffle kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union totalIncidentsCustomTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy, SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(30d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize hint.strategy = shuffle DescriptionId1=makelist(DescriptionId,3)  by IncidentId;\r\n\r\n\r\nfinalincidents\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join hint.strategy = shuffle\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    IncidentDescriptions | where Date > ago(30d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),   IsCustomerImpacting = coalesce(tostring(IsCustomerImpacting),tostring(IsCustomerImpacting),'False'),       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for transfer air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_transfer_full","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/12":{"id":"$fn_icmclusterlb/1/12","entityType":"Function","body":"{\r\nlet noiseIncidents= IncidentsSnapshot_V1\r\n| where CreateDate > ago(45d) and isnull(ParentIncidentId) and (Status == \"MITIGATED\" or Status == \"RESOLVED\")\r\n| summarize count() by Title, OwningTeamName\r\n| where count_ > 100\r\n| project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 1000000);\r\nlet incidents = noiseIncidents\r\n| join kind = rightouter\r\n(\r\n    IncidentsSnapshot_V1\r\n    | where CreateDate > ago(45d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId)\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId, Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)\r\n)\r\non $right.OwningTeamName == $left.NoiseOwningTeamName and $right.Title == $left.NoiseTitle\r\n| where isempty(NoiseOwningTeamName) and isempty(NoiseTitle)\r\n| project-away NoiseOwningTeamName, NoiseTitle;\r\n\r\nlet tempcachedIncidents = materialize(incidents);\r\n\r\nlet sampled_part = (_start:datetime, _end:datetime, _percentage:double)\r\n{\r\n tempcachedIncidents | where SourceName != \"ICMPortal\" or IncidentType !in (\"CustomerReported\",\"Customer Reported\")\r\n| where Lens_IngestionTime between (_start .. _end) \r\n| where rand() < _percentage\r\n};\r\n\r\nlet filteredcachedIncidents =union \r\n(sampled_part(ago(15d), now(), 0.5)), \r\n(sampled_part(ago(30d), ago(15d), 0.35)), \r\n(sampled_part(ago(45d), ago(30d), 0.15));\r\n\r\n\r\nlet filteredIncidentIds = filteredcachedIncidents | summarize makeset(IncidentId,1000000);\r\n\r\nlet cachedIncidents = materialize(union filteredcachedIncidents, tempcachedIncidents | where IncidentId !in(toscalar(filteredIncidentIds)));\r\n\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = incidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join hint.strategy = shuffle kind =inner hint.strategy = partitioned\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(45d) and IncidentId in (toscalar(cachedIncidents | summarize hint.strategy = shuffle makeset(IncidentId,1000000))) and (isnull(OwningTeamId) != true or isempty(Status) != true)\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join hint.strategy = shuffle kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize hint.strategy = shuffle arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join hint.strategy = shuffle kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize hint.strategy = shuffle arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join hint.strategy = shuffle kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union totalIncidentsCustomTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy, SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(45d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize hint.strategy = shuffle DescriptionId1=makelist(DescriptionId,3)  by IncidentId;\r\n\r\n\r\nfinalincidents\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join hint.strategy = shuffle\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    IncidentDescriptions | where Date > ago(45d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),   IsCustomerImpacting = coalesce(tostring(IsCustomerImpacting),tostring(IsCustomerImpacting),'False'),       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for transfer air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_transfer_weekly","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/13":{"id":"$fn_icmclusterlb/1/13","entityType":"Function","body":"{\r\nlet noiseIncidents= IncidentsSnapshot_V1\r\n| where CreateDate > ago(7d) and isnull(ParentIncidentId) and (Status == \"MITIGATED\" or Status == \"RESOLVED\")\r\n| summarize count() by Title, OwningTeamName\r\n| where count_ > 100\r\n| project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\nlet TenantIds = Tenants\r\n| where  TenantName !has \"Test\"\r\n| summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n| project TenantId, TenantName\r\n| summarize makeset(TenantId, 1000000);\r\nlet incidents = noiseIncidents\r\n| join kind = rightouter\r\n(\r\n    IncidentsSnapshot_V1\r\n    | where CreateDate > ago(7d)  and (Status == \"MITIGATED\" or Status == \"RESOLVED\") and OwningTenantId in (toscalar(TenantIds)) and isnull(ParentIncidentId) and (SourceName == \"ICMPortal\" or IncidentType in (\"CustomerReported\",\"Customer Reported\"))\r\n    | extend hashid = hash(IncidentId, totalPartition)\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId, Lens_IngestionTime,\r\n             Title,\r\n             SourceName,\r\n             Status,\r\n             Severity,\r\n             OriginatingTenantName, \r\n             OriginatingTenantId,\r\n             OwningTenantName,\r\n             OwningTenantId,\r\n             OwningTeamName,\r\n             OwningTeamId,\r\n             ResponsibleTenantId,\r\n             ResponsibleTenantName,\r\n             ResponsibleTeamId,\r\n             IncidentType,\r\n             ImpactStartDate,\r\n             ImpactedScenarios,\r\n             IsCustomerImpacting,\r\n             CustomerName, \r\n             Keywords, \r\n             OccurringDatacenter, \r\n             OccurringDeviceGroup, \r\n             OccurringDeviceName,\r\n             OccurringServiceInstanceId, \r\n             RaisingDatacenter, \r\n             RaisingDeviceGroup, \r\n             RaisingDeviceName, \r\n             RaisingServiceInstanceId, \r\n             SourceId, \r\n             SourceCreatedBy, \r\n             SiloId,\r\n             Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary)\r\n)\r\non $right.OwningTeamName == $left.NoiseOwningTeamName and $right.Title == $left.NoiseTitle\r\n| where isempty(NoiseOwningTeamName) and isempty(NoiseTitle)\r\n| project-away NoiseOwningTeamName, NoiseTitle;\r\n\r\nlet tempcachedIncidents = materialize(incidents);\r\n\r\nlet sampled_part = (_start:datetime, _end:datetime, _percentage:double)\r\n{\r\n tempcachedIncidents | where SourceName != \"ICMPortal\" or IncidentType !in (\"CustomerReported\",\"Customer Reported\")\r\n| where Lens_IngestionTime between (_start .. _end) \r\n| where rand() < _percentage\r\n};\r\n\r\nlet filteredcachedIncidents =union \r\n(sampled_part(ago(60d), now(), 0.5)), \r\n(sampled_part(ago(90d), ago(60d), 0.25)), \r\n(sampled_part(ago(120d), ago(90d), 0.15)),\r\n(sampled_part(ago(7d), ago(120d), 0.10));\r\n\r\n\r\nlet filteredIncidentIds = filteredcachedIncidents | summarize makeset(IncidentId,1000000);\r\n\r\nlet cachedIncidents = materialize(union filteredcachedIncidents, tempcachedIncidents | where IncidentId !in(toscalar(filteredIncidentIds)));\r\n\r\n//cachedIncidents | count\r\n\r\nlet incidentHistoryAll = incidents\r\n| project IncidentId,SourceName, IncidentType\r\n| join hint.strategy = shuffle kind =inner hint.strategy = partitioned\r\n(\r\n    IncidentHistory | where Lens_IngestionTime > ago(7d) and IncidentId in (toscalar(cachedIncidents | summarize hint.strategy = shuffle makeset(IncidentId,1000000))) and (isnull(OwningTeamId) != true or isempty(Status) != true)\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n| project IncidentId,HistoryId,OwningTeamName, OwningTenantName,OwningTeamId, OwningTenantId, Status, ChangeDate, IncidentSourceName = SourceName, IncidentIncidentType = IncidentType,ChangeCategories, ChangedBy;\r\n\r\n\r\nlet cachedIncidentHistory = materialize(incidentHistoryAll);\r\n\r\n// let incidentHistory = cachedHistoryAllIncidents\r\n// | where isnull(OwningTeamId) != true\r\n// | summarize TeamChangeCount=dcount(OwningTeamId), max(IncidentSourceName), max(IncidentIncidentType)  by IncidentId\r\n// | where TeamChangeCount >= 1 or max_IncidentSourceName == \"ICMPortal\" or max_IncidentIncidentType == \"CustomerReported\"\r\n// | project-away TeamChangeCount, max_IncidentSourceName, max_IncidentIncidentType\r\n// | join kind= inner\r\n// (\r\n//     cachedHistoryAllIncidents\r\n// )\r\n// on IncidentId;\r\n// \r\n// //incidentHistory | distinct IncidentId | count \r\n// \r\n// let cachedIncidentHistory = materialize(incidentHistory);\r\n\r\nlet IncidentResponsibleOwningTeams = cachedIncidents | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId \r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | order by HistoryId asc\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId\r\n| summarize hint.strategy = shuffle max(ResponsibleTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_ResponsibleTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet responsibleOwningTeamIncidents = IncidentResponsibleOwningTeams | summarize makeset(IncidentId,1000000);\r\n\r\n// Calculate Docs Team assignment\r\nlet DOCSIncidentOwningTeams = cachedIncidents \r\n| where IncidentId !in(toscalar(responsibleOwningTeamIncidents)) and (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX'\r\n| where OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n| where OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n| where OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM' | project-away OwningTeamId, OwningTeamName, OwningTenantName, OwningTenantId\r\n| join hint.strategy = shuffle kind=inner (cachedIncidentHistory | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' and OwningTeamName has \"DYNAMICSCRMCRMONLINE\" \r\n| project HistoryId, OwningTeamId,OwningTenantId, IncidentId, ChangeDate) on IncidentId\r\n| summarize hint.strategy = shuffle arg_max(ChangeDate, *) by IncidentId \r\n| project IncidentId, OwningTeamId ,OwningTenantId, MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId\r\n)\r\non IncidentId \r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(OwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_OwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//DOCSIncidentOwningTeams\r\nlet docsAndresponsibleTeams = DOCSIncidentOwningTeams | union IncidentResponsibleOwningTeams;\r\n\r\nlet docsAndresponsibleTeamIncidentIds = materialize(docsAndresponsibleTeams | summarize makeset(IncidentId,1000000));\r\n\r\nlet cacheteams = materialize(Teams\r\n| summarize arg_max(Lens_IngestionTime, TeamName,TenantId,TenantName) by TeamId);\r\n\r\n//Calculate Power BI Team assignments\r\nlet powerBIIncidents = cachedIncidents | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and OwningTenantId == 10058;\r\nlet powerBILiveSiteIncidentIds = powerBIIncidents | where IncidentType in (\"Live Site\",\"LiveSite\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\nlet powerBICRIIncidentIds = powerBIIncidents | where IncidentId !in (toscalar(powerBILiveSiteIncidentIds)) and IncidentType in (\"Customer Reported\",\"CustomerReported\") | project IncidentId | summarize makeset(IncidentId,1000000);\r\n\r\nlet PowerBILiveSiteIncidentOwningTeams = IncidentCustomFieldEntries | where IncidentId in (toscalar(powerBILiveSiteIncidentIds)) and Name =='powerbicomponentarea' | project IncidentId, CustomFieldValue = Value\r\n| join hint.strategy = shuffle kind= inner (\r\n    cacheteams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n) on $left.CustomFieldValue == $right.TeamName\r\n| project IncidentId , TeamId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(docsAndresponsibleTeamIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(TeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_TeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\nlet PowerBIPortalIncidentOwningTeams = cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true | order by HistoryId asc | summarize max(HistoryId) by IncidentId\r\n| join hint.strategy = shuffle kind= inner (\r\n    cachedIncidentHistory | where IncidentId in(toscalar(powerBICRIIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, oldOwningTeamId = OwningTeamId \r\n) on IncidentId \r\n| where TeamChangeHistoryId < max_HistoryId\r\n| order by ChangeDate asc\r\n| summarize hint.strategy = shuffle max(oldOwningTeamId),makelist(oldOwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = max_oldOwningTeamId , FirstOwningTeamId = list_oldOwningTeamId[0], SecondOwningTeamId = list_oldOwningTeamId[1], ThirdOwningTeamId = list_oldOwningTeamId[2];\r\n\r\n//PowerBIPortalIncidentOwningTeams\r\n\r\nlet totalIncidentsCustomTeams = union docsAndresponsibleTeams, PowerBIPortalIncidentOwningTeams,PowerBILiveSiteIncidentOwningTeams;\r\nlet totalIncidentsCustomTeamsIncidentIds = materialize(totalIncidentsCustomTeams | summarize makeset(IncidentId,1000000));\r\n\r\n\r\nlet incidentsOwningTeams = materialize(cachedIncidentHistory\r\n| where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and Status == \"MITIGATED\"\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, ChangeDate) by IncidentId\r\n| project IncidentId, HistoryId , MitigateTime = ChangeDate\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidentHistory\r\n    | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n    | project TeamChangeHistoryId = HistoryId , ChangeDate, IncidentId, OwningTeamId\r\n)\r\non IncidentId\r\n| where ChangeDate <=  MitigateTime\r\n| order by ChangeDate asc \r\n| summarize hint.strategy = shuffle arg_max(TeamChangeHistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]);\r\n\r\nlet finalIncidentsOwningTeams =  incidentsOwningTeams\r\n| project FilteredIncidentId = IncidentId\r\n| join hint.strategy = shuffle kind= rightouter \r\n(\r\n    cachedIncidentHistory | where IncidentId !in(toscalar(totalIncidentsCustomTeamsIncidentIds)) and isnull(OwningTeamId) != true\r\n)\r\non $left.FilteredIncidentId == $right.IncidentId\r\n| where isempty(FilteredIncidentId)\r\n| project-away FilteredIncidentId\r\n| summarize hint.strategy = shuffle arg_max(HistoryId, OwningTeamId),makelist(OwningTeamId) by IncidentId\r\n| project IncidentId,OwningTeamId = OwningTeamId, FirstOwningTeamId = list_OwningTeamId[0], SecondOwningTeamId = list_OwningTeamId[1], ThirdOwningTeamId = list_OwningTeamId[2]\r\n| union incidentsOwningTeams\r\n| union totalIncidentsCustomTeams;\r\n\r\n//finalIncidentsOwningTeams | distinct IncidentId | count\r\n\r\nlet finalincidents = cacheteams\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    finalIncidentsOwningTeams\r\n)\r\non $left.TeamId == $right.OwningTeamId\r\n| project IncidentId, OwningTeamId = TeamId,FirstOwningTeamId, SecondOwningTeamId,ThirdOwningTeamId, OwningTeamName = TeamName, OwningTenantId = TenantId , OwningTenantName = TenantName\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    cachedIncidents | project-away OwningTeamId, OwningTeamName, OwningTenantId, OwningTenantName,ResponsibleTeamId\r\n)\r\non IncidentId;\r\n\r\n//finalincidents | distinct IncidentId | count\r\n\r\nlet wasuIncidents = finalincidents\r\n| where OwningTenantId == 10041 and IncidentId !in(toscalar(responsibleOwningTeamIncidents))\r\n| extend TitleTenantName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))), TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    cacheteams\r\n    | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n)\r\non $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n| project           IncidentId,          Title,          SourceName,          Status,          Severity,          OriginatingTenantName,          OriginatingTenantId,          OwningTenantId = coalesce(TenantId, OwningTenantId),           OwningTenantName = coalesce(TenantName,OwningTenantName),          OwningTeamName = coalesce(TeamName,OwningTeamName),          OwningTeamId = coalesce(TeamId, OwningTeamId),           FirstOwningTeamId,          SecondOwningTeamId,          ThirdOwningTeamId,          ResponsibleTenantId,          IncidentType,          ImpactStartDate,           CustomerName,           ImpactedScenarios,          IsCustomerImpacting,           Keywords,          OccurringDatacenter,           OccurringDeviceGroup,           OccurringDeviceName,          OccurringServiceInstanceId,           RaisingDatacenter,           RaisingDeviceGroup,           RaisingDeviceName,           RaisingServiceInstanceId,           SourceId,           SourceCreatedBy, SiloId, Summary;\r\n\r\n\r\nlet descriptionids=   IncidentDescriptions | where Date > ago(7d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n| distinct IncidentId, DescriptionId\r\n| sort by DescriptionId asc\r\n| summarize hint.strategy = shuffle DescriptionId1=makelist(DescriptionId,3)  by IncidentId;\r\n\r\n\r\nfinalincidents\r\n| join hint.strategy = shuffle kind= leftouter\r\n(\r\n    wasuIncidents\r\n    | project wasuIncidentId = IncidentId\r\n)\r\non $left.IncidentId == $right.wasuIncidentId\r\n| where isempty(wasuIncidentId)\r\n| union wasuIncidents\r\n| join hint.strategy = shuffle\r\n(\r\n    descriptionids\r\n)\r\non IncidentId\r\n| mvexpand DescriptionId1\r\n| extend DescriptionId = tolong(DescriptionId1)\r\n| join hint.strategy = shuffle kind= inner\r\n(\r\n    IncidentDescriptions | where Date > ago(7d) and IncidentId in (toscalar(finalincidents | summarize makeset(IncidentId,1000000)))\r\n    | project IncidentId, DescriptionId, Text, Lens_IngestionTime_Descr=Lens_IngestionTime\r\n)\r\non $left.DescriptionId==$right.DescriptionId\r\n| extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n| summarize hint.strategy = shuffle arg_max(Lens_IngestionTime_Descr,     Title = replace(@\"(\\s+)\",\" \", Title),      Status,      Severity,      SourceId,      SourceName,      SourceCreatedBy,       SiloId,      OriginatingTenantId,      OwningTenantName,      OwningTenantId,       OwningTeamName,      OwningTeamId,       FirstOwningTeamId,      SecondOwningTeamId,      ThirdOwningTeamId,      ResponsibleTenantId,      IncidentType,      ImpactStartDate,       CustomerName,       ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),   IsCustomerImpacting = coalesce(tostring(IsCustomerImpacting),tostring(IsCustomerImpacting),'False'),       Keywords = replace(@\"(\\s+)\",\" \", Keywords),   OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter) , OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),  OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),    OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId) , RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter), RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup), RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),  RaisingServiceInstanceId, Summary), Text=makelist(Text) by IncidentId\r\n| project-away Lens_IngestionTime_Descr\r\n| project IncidentId, Title, Status, Severity, SourceId, SourceName, SourceCreatedBy, SiloId, OriginatingTenantId, OwningTenantName, OwningTenantId, OwningTeamName, OwningTeamId, FirstOwningTeamId, SecondOwningTeamId, ThirdOwningTeamId, ResponsibleTenantId, IncidentType, ImpactStartDate, CustomerName, ImpactedScenarios, IsCustomerImpacting, Keywords, OccurringDatacenter, OccurringDeviceGroup, OccurringDeviceName, OccurringServiceInstanceId, RaisingDatacenter, RaisingDeviceGroup, RaisingDeviceName, RaisingServiceInstanceId, Text = strcat(Summary, \" \", Text)\r\n}","docstring":"Data pull for CRI air training","folder":"IcMML","functionKind":"UnknownFunction","name":"gettrainingdataforair_cri_weekly","outputColumns":[],"inputParameters":[{"name":"partitionId","cslType":"long","type":"System.Int64"},{"name":"totalPartition","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/14":{"id":"$fn_icmclusterlb/1/14","entityType":"Function","body":"{\r\n    PostIncidentReportsSnapshot_V1_Current\r\n    | where AssertV1SnapshotScreamTest_PostIncidentReportsSnapshot()\r\n    | where true == IncludeLatestRecords \r\n    | join kind= rightanti (\r\n        PostIncidentReportsSnapshot_V1 \r\n    ) on PIRReportId      \r\n    | union (PostIncidentReportsSnapshot_V1_Current | where true == IncludeLatestRecords)  \r\n}","docstring":"Function to return snapshot view of IncidentPortReports table.  Snapshot view is de-duped version of original table. Snapshot table is synced every ~30 minutes","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"PostIncidentReportsSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestRecords","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/15":{"id":"$fn_icmclusterlb/1/15","entityType":"Function","body":"{\r\n    TenantsSnapshot_V1\r\n    | where AssertV1SnapshotScreamTest_TenantsSnapshot()\r\n}","docstring":"Function to return snapshot view of Tenants table.  Snapshot view is de-duped version of original table. Snapshot table is synced every ~30 minutes","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"TenantsSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestRecords","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/16":{"id":"$fn_icmclusterlb/1/16","entityType":"Function","body":"{\r\n    TeamsSnapshot_V1\r\n    | where AssertV1SnapshotScreamTest_TeamsSnapshot()\r\n}","docstring":"Function to return snapshot view of Teams table.  Snapshot view is de-duped version of original table. Snapshot table is synced every ~30 minutes","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"TeamsSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestRecords","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/17":{"id":"$fn_icmclusterlb/1/17","entityType":"Function","body":"{\r\n    IncidentCustomFieldEntriesSnapshot_V1_Current\r\n    | where AssertV1SnapshotScreamTest_IncidentCustomFieldEntriesSnapshot()\r\n    | where true == IncludeLatestRecords \r\n    | join kind= rightanti (\r\n        IncidentCustomFieldEntriesSnapshot_V1 \r\n    ) on IncidentCustomFieldId     \r\n    | union (IncidentCustomFieldEntriesSnapshot_V1_Current | where true == IncludeLatestRecords)\r\n}","docstring":"Function to return snapshot view of IncidentCustomFieldEntries table.  Snapshot view is de-duped version of original table. Snapshot table is synced every ~30 minutes","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"IncidentCustomFieldEntriesSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestRecords","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/18":{"id":"$fn_icmclusterlb/1/18","entityType":"Function","body":"{\r\n    IncidentImpactedTenantsSnapshot_V1_Current\r\n    | where AssertV1SnapshotScreamTest_IncidentImpactedTenantsSnapshot()\r\n    | where true == IncludeLatestRecords \r\n    | join kind= rightanti (\r\n        IncidentImpactedTenantsSnapshot_V1 \r\n    ) on IncidentId, TenantId       \r\n    | union (IncidentImpactedTenantsSnapshot_V1_Current | where true == IncludeLatestRecords)\r\n}","docstring":"Function to return snapshot view of IncidentImpactedTenants table.  Snapshot view is de-duped version of original table. Snapshot table is synced every ~30 minutes","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"IncidentImpactedTenantsSnapshot","outputColumns":[],"inputParameters":[{"name":"IncludeLatestRecords","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/19":{"id":"$fn_icmclusterlb/1/19","entityType":"Function","body":"{    \r\n    let icmdbName='Icmanalytics';\r\n    database(icmdbName).IcMinerAll_V7    \r\n}","docstring":"Data pull for ICMiner result","folder":"IcMML","functionKind":"UnknownFunction","name":"GetIcMinerTable","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/20":{"id":"$fn_icmclusterlb/1/20","entityType":"Function","body":"{\r\n    GetIcMinerTable\r\n    | where IncidentId == incidentId\r\n    | project IncidentId, TSG, Command, Query, StackTrace, MitigationSteps, URL, ErrorCode, Actionable\r\n}","docstring":"Data pull for PreviousFixes","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPreviousFixes","outputColumns":[],"inputParameters":[{"name":"incidentId","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/21":{"id":"$fn_icmclusterlb/1/21","entityType":"Function","body":"{\r\n    //let startDateStr = \"2018-12-31\";\r\n    //let endDateStr = \"2018-12-31\";\r\n    let startDate = startofday(todatetime(startDateStr));\r\n    let endDate = endofday(todatetime(endDateStr));\r\n    let max_set_len = 1000000;\r\n    //\r\n    // filtering out noisy incidents\r\n    //\r\n    // Testing tenants\r\n    let TestingTenantIds = cluster('Icmclusterbackup').database('IcmDataWarehouse').Tenants\r\n        | where  TenantName has \"Test\"\r\n        | summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n        | project TenantId\r\n        | summarize makeset(TenantId, max_set_len);\r\n    // Testing teams\r\n    let TestingTeamIds = 27310; // ICMtestOnly\r\n    // repetitive incidents\r\n    let repetitiveTitleThreshold = 100;\r\n    let noiseIncidents= cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n        | where CreateDate >= startDate and CreateDate <= endDate\r\n            and Status in (\"MITIGATED\", \"RESOLVED\")\r\n            and isnull(ParentIncidentId)\r\n        | summarize count() by Title, OwningTeamName\r\n        | where count_ > repetitiveTitleThreshold\r\n        | distinct Title, OwningTeamName\r\n        | project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\n    //\r\n    // get incidents and filtering out noisy ones\r\n    //\r\n    let candidateIncidents = cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n        | where CreateDate >= startDate and CreateDate <= endDate // within date range\r\n            and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n            and OwningTenantId !in (toscalar(TestingTenantIds)) // not a testing Tenant team\r\n            and OwningTeamId != TestingTeamIds // not a testing team\r\n            and isnull(ParentIncidentId) // not a linked incident\r\n        | project IncidentId,\r\n                Title,\r\n                OwningTeamName\r\n        | join kind = leftanti // find out incidents not exceed the TitleThreshold ~ semioutter join\r\n        (\r\n            noiseIncidents\r\n        ) on $left.OwningTeamName == $right.NoiseOwningTeamName and $left.Title == $right.NoiseTitle\r\n        | summarize by IncidentId\r\n        | summarize count();\r\n    candidateIncidents\r\n}","docstring":"Get number of triaged incidents from startDate to endDate","folder":"IcMML","functionKind":"UnknownFunction","name":"get_AIR_labeled_data_totalCount","outputColumns":[],"inputParameters":[{"name":"startDateStr","cslType":"string","type":"System.String"},{"name":"endDateStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/22":{"id":"$fn_icmclusterlb/1/22","entityType":"Function","body":"{\r\n///////////////////////////////////////////\r\n// get candidate incident ids\r\n///////////////////////////////////////////\r\n// set notimeout;\r\n// // set servertimeout = notimeout;\r\n// let startDateStr = \"2019-02-20\";\r\n// let endDateStr = \"2019-02-20\";\r\n// let totalPartition = 1;\r\n// let partitionId = 0;\r\nlet startDate = startofday(todatetime(startDateStr));\r\nlet endDate = endofday(todatetime(endDateStr));\r\nlet max_set_len = 1000000;\r\n//\r\n// filtering out noisy incidents\r\n//\r\n// Testing tenants\r\nlet TestingTenantIds = cluster('Icmclusterbackup').database('IcmDataWarehouse').Tenants\r\n    | where  TenantName has \"Test\"\r\n    | summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n    | project TenantId\r\n    | summarize makeset(TenantId, max_set_len);\r\n// Testing teams\r\nlet TestingTeamIds = 27310; // ICMtestOnly\r\n// repetitive incidents\r\nlet repetitiveTitleThreshold = 100;\r\nlet noiseIncidents= cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate\r\n        and Status in (\"MITIGATED\", \"RESOLVED\")\r\n        and isnull(ParentIncidentId)\r\n    | summarize count() by Title, OwningTeamName\r\n    | where count_ > repetitiveTitleThreshold\r\n    | distinct Title, OwningTeamName\r\n    | project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\n//\r\n// get incidents and filtering out noisy ones\r\n//\r\nlet incidents =cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate // within date range\r\n        and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n        and OwningTenantId !in (toscalar(TestingTenantIds)) // not a testing Tenant team\r\n        and OwningTeamId != TestingTeamIds // not a testing team\r\n        and isnull(ParentIncidentId) // not a linked incident\r\n    // | extend hashid = hash(IncidentId, totalPartition)\r\n    | extend hashid = IncidentId % totalPartition\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity\r\n    | join hint.strategy=shuffle kind=leftanti // find out incidents not exceed the TitleThreshold ~ semioutter join\r\n    (\r\n        noiseIncidents\r\n    ) on $left.OwningTeamName == $right.NoiseOwningTeamName and $left.Title == $right.NoiseTitle\r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity;\r\n// // another kind of noisy incident: Sev4 and NonActionable\r\n// let noisyNonActionableIncidents = incidents | where Severity == 4\r\n//     | join hint.strategy=broadcast kind=inner\r\n//     (\r\n//         GetIcMinerTable\r\n//             | project IncidentId, Actionable\r\n//             | where Actionable == False\r\n//     ) on IncidentId\r\n//     | summarize by IncidentId;\r\n// let candidateIncidents = materialize(incidents\r\n//     | join hint.strategy=shuffle kind=leftanti\r\n//     (\r\n//         noisyNonActionableIncidents\r\n//     ) on IncidentId\r\n//     | project IncidentId,\r\n//             Title,\r\n//             IncidentType,\r\n//             OwningTeamId,\r\n//             OwningTeamName,\r\n//             OwningTenantId,\r\n//             ResponsibleTeamId);\r\nlet candidateIncidents = materialize(incidents);\r\n///////////////////////////////////////////\r\n// get labels owningTeamdId\r\n///////////////////////////////////////////\r\n//\r\n// get joined history\r\n//\r\nlet candidateHistories = materialize(candidateIncidents | project IncidentId\r\n    | join hint.strategy=shuffle kind=inner (cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentHistory \r\n        | where isnull(OwningTeamId) == false or isempty(Status) != true // meaningful status and valid owningTeamId\r\n        | project HistoryId,\r\n                IncidentId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                ChangedBy,\r\n                historyOwningTeamId = OwningTeamId,\r\n                historyOwningTeamName = OwningTeamName,\r\n                Lens_IngestionTime\r\n        ) on IncidentId\r\n    | summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n    | project IncidentId,\r\n                HistoryId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                ChangedBy,\r\n                historyOwningTeamId,\r\n                historyOwningTeamName);\r\n//\r\n// incidents with ResponsibleTeamId\r\n// the label is the ResponsibleTeamId\r\nlet label_IncidentWithResponsibleTeam = materialize(candidateIncidents\r\n    | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId\r\n    | join hint.strategy = shuffle kind=inner (candidateHistories\r\n        | where isnull(historyOwningTeamId) == false // we want to get the first 3 owningTeamIds, so ignore records having no OwningTeamId\r\n        // should also include the condition ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem'\r\n        // apply for all labels below. However, this change requires other related queries from the front end\r\n        | project IncidentId,\r\n                HistoryId,\r\n                ChangeDate,\r\n                historyOwningTeamId\r\n    ) on IncidentId\r\n    | sort by HistoryId asc\r\n    | summarize hint.strategy = shuffle OwningTeamId=max(ResponsibleTeamId), makelist(historyOwningTeamId) by IncidentId // using max(ResponsibleTeamId) because this value is the same for all records of an IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents of Dynamics - Operations Center (DOC) teams\r\n// get the mitigation moment, the label is the team where ChangeDate <= MitigateTime\r\n//\r\nlet incidentDOCIds = candidateIncidents\r\n    | where (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX' // keep incidents belong to DOC only\r\n        and OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n        and OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n        and OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM'\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (label_IncidentWithResponsibleTeam \r\n        | project IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet incidentDOCWithMitigateTeams = incidentDOCIds\r\n    | join hint.strategy=shuffle kind=inner // get the moment when this incident was Mitigated\r\n    (\r\n        candidateHistories\r\n        | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' // meaningful Change fields\r\n            and historyOwningTeamName has \"DYNAMICSCRMCRMONLINE\" // make sure to match incident from DOC on the History side\r\n        // | project IncidentId, ChangeDate, historyOwningTeamId\r\n        | project IncidentId, HistoryId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | summarize arg_max(ChangeDate, *) by IncidentId // we get the last moment when DYNAMICSCRMCRMONLINE is involved\r\n    | summarize arg_max(HistoryId, *) by IncidentId // we get the last moment when DYNAMICSCRMCRMONLINE is involved\r\n    // | project IncidentId, MitigateTeamId = historyOwningTeamId, MitigateTime = ChangeDate;  // unprocessed incidents belonging to DOC with mitigate-moment info\r\n    | project IncidentId, MitigateTeamId = historyOwningTeamId, MitigateTime = HistoryId;  // unprocessed incidents belonging to DOC with mitigate-moment info\r\nlet label_IncidentsFromDOCTeam = materialize(incidentDOCWithMitigateTeams \r\n    | join hint.strategy=shuffle kind=inner // this join will collect labels given the mitigated-moment information\r\n    (candidateHistories\r\n        // | project ChangeDate, IncidentId, historyOwningTeamId\r\n        | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate <=  MitigateTime\r\n    | where HistoryId <=  MitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    | summarize OwningTeamId=max(MitigateTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n            OwningTeamId,\r\n            FirstOwningTeamId = list_historyOwningTeamId[0],\r\n            SecondOwningTeamId = list_historyOwningTeamId[1],\r\n            ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents from PowerBI\r\n//\r\nlet teams = materialize(cluster('Icmclusterbackup').database('IcmDataWarehouse').Teams\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId);\r\nlet incidentPowerBIIds = candidateIncidents\r\n    | where OwningTenantId == 10058\r\n    | join kind=leftanti  \r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n            | union incidentDOCIds\r\n    ) on IncidentId\r\n    | distinct IncidentId, IncidentType;\r\n// labels for PowerBI LiveSite\r\nlet incidentPowerBILiveSiteIds = incidentPowerBIIds | where IncidentType in (\"Live Site\",\"LiveSite\") | summarize by IncidentId;\r\nlet incidentPowerBILiveSiteTeams = cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentCustomFieldEntries | where Name =='powerbicomponentarea' \r\n    | project IncidentId, CustomFieldValue = Value\r\n    | join hint.strategy=shuffle kind=inner (incidentPowerBILiveSiteIds) on IncidentId // focus on PowerBILiveSite incidents\r\n    | join hint.strategy=shuffle kind=inner (\r\n        teams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n    ) on $left.CustomFieldValue == $right.TeamName\r\n    | project IncidentId , TeamId; // teams of PowerBILiveSite\r\nlet history_PowerBILiveSite = incidentPowerBILiveSiteIds\r\n    | join hint.strategy=shuffle kind=inner \r\n    (\r\n        candidateHistories\r\n            | where not(isnull(historyOwningTeamId))\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId;\r\nlet label_PowerBILiveSite = materialize(incidentPowerBILiveSiteTeams\r\n    | join hint.strategy=shuffle kind=inner (history_PowerBILiveSite) on IncidentId \r\n    // | order by ChangeDate asc\r\n    | order by HistoryId asc\r\n    | summarize hint.strategy = shuffle max(TeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId = max_TeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n// labels for PowerBI CRI\r\nlet incidentPowerBICRIIds = incidentPowerBIIds | where IncidentType in (\"Customer Reported\",\"CustomerReported\") | summarize by IncidentId;\r\nlet history_PowerBICRI = incidentPowerBICRIIds \r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId  // verify if we really need to use historyid here\r\n            | project HistoryId, IncidentId, historyOwningTeamId  // verify if we really need to use historyid here\r\n    ) on IncidentId;\r\nlet incidentPowerBICRIAfterMitigateTeams = history_PowerBICRI\r\n    | where not(isnull(historyOwningTeamId))\r\n    // | summarize AfterMitigateTime=max(ChangeDate) by IncidentId\r\n    | summarize AfterMitigateTime=max(HistoryId) by IncidentId\r\n    | project IncidentId, AfterMitigateTime;\r\nlet label_PowerBICRI = materialize(incidentPowerBICRIAfterMitigateTeams\r\n    | join hint.strategy=shuffle kind=inner \r\n    (\r\n        history_PowerBICRI\r\n            | where not(isnull(historyOwningTeamId))\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate < AfterMitigateTime\r\n    | where HistoryId < AfterMitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    | summarize OwningTeamId=max(historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents having MITIGATED step only\r\n//\r\nlet incidentWithMitigatedIds = candidateHistories | where Status == \"MITIGATED\"\r\n    | summarize by IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (label_IncidentsFromDOCTeam | project IncidentId), \r\n            (label_PowerBILiveSite | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet history_incidentWithMitigated = incidentWithMitigatedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId, Status, HistoryId            \r\n            | project HistoryId, IncidentId, historyOwningTeamId, Status, ChangeDate\r\n    ) on IncidentId;\r\nlet incidentWithMitigatedTeams = history_incidentWithMitigated\r\n    | where Status == \"MITIGATED\"\r\n    // | summarize MitigateTime=max(ChangeDate) by IncidentId; // verify if arg_max(historyid, changedate) = max(changedate)\r\n    | summarize MitigateTime=max(HistoryId) by IncidentId; // verify if arg_max(historyid, changedate) = max(changedate)    \r\nlet label_incidentWithMitigated = materialize(incidentWithMitigatedTeams\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        history_incidentWithMitigated\r\n            | where isnull(historyOwningTeamId) == false\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId, HistoryId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate <=  MitigateTime\r\n    | where HistoryId <=  MitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    // | summarize (ChangeDate, OwningTeamId)=arg_max(ChangeDate, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | summarize (HistoryId, OwningTeamId) = arg_max(HistoryId, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents with RESOLVED step only\r\n//\r\nlet incidentWithResolvedIds = candidateIncidents | project IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (label_IncidentsFromDOCTeam | project IncidentId), \r\n            (label_PowerBILiveSite | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId),\r\n            (label_incidentWithMitigated | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId;\r\nlet label_incidentWithResolved = materialize(incidentWithResolvedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n        | where isnull(historyOwningTeamId) == false\r\n        | project ChangeDate, IncidentId, historyOwningTeamId\r\n        // | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    | summarize (ChangeDate, OwningTeamId)=arg_max(ChangeDate, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    // | summarize (HistoryId, OwningTeamId) = arg_max(HistoryId, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// union all incidents\r\n//\r\nlet label_allIncidents = label_IncidentWithResponsibleTeam\r\n    | union label_IncidentsFromDOCTeam,\r\n        label_PowerBILiveSite,\r\n        label_PowerBICRI,\r\n        label_incidentWithMitigated,\r\n        label_incidentWithResolved;\r\nlet label_allIncidents_withTitle = label_allIncidents\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateIncidents\r\n        | project IncidentId, Title = replace(@\"(\\s+)\",\" \", Title)\r\n    ) on IncidentId\r\n    | project IncidentId,\r\n        Title,\r\n        OwningTeamId,\r\n        FirstOwningTeamId,\r\n        SecondOwningTeamId,\r\n        ThirdOwningTeamId;\r\n//\r\n// add team info\r\n//\r\nlet label_allIncidents_withTitleTeam = materialize(teams\r\n    | join hint.strategy=broadcast (label_allIncidents_withTitle) on $left.TeamId == $right.OwningTeamId\r\n    | project IncidentId,\r\n        Title,\r\n        OwningTenantName = TenantName,\r\n        OwningTenantId = TenantId,\r\n        OwningTeamName = TeamName,\r\n        OwningTeamId,\r\n        FirstOwningTeamId,\r\n        SecondOwningTeamId,\r\n        ThirdOwningTeamId);\r\n//\r\n// update team info for WASU tenant\r\n//\r\nlet incidentTeams_WASU_corrected = materialize(label_allIncidents_withTitleTeam\r\n    | where OwningTenantId == 10041\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n    ) on IncidentId\r\n    | extend TitleTenantName = tolower(trim(@\"\\s+\", extract(@\"(([^[]*)\\\\([^]]*))\", 2,Title))),\r\n            TitleTeamName = tolower(trim(@\"\\s+\",extract(@\"(([^[]*)\\\\([^]]*))\", 3,Title)))\r\n    | join hint.strategy=shuffle kind=leftouter\r\n    (\r\n        teams\r\n        | project TeamName = tolower(TeamName), TenantName = tolower(TenantName), TeamId , TenantId\r\n    )\r\n    on $left.TitleTeamName ==  $right.TeamName and $left.TitleTenantName == $right.TenantName\r\n    | extend OwningTeamId = coalesce(TeamId, OwningTeamId),\r\n        OwningTeamName = coalesce(TeamName,OwningTeamName),\r\n        OwningTenantId = coalesce(TenantId, OwningTenantId),\r\n        OwningTenantName = coalesce(TenantName,OwningTenantName)\r\n    | project IncidentId,\r\n        Title,\r\n        OwningTenantName,\r\n        OwningTenantId,\r\n        OwningTeamName,\r\n        OwningTeamId,\r\n        FirstOwningTeamId,\r\n        SecondOwningTeamId,\r\n        ThirdOwningTeamId);\r\nlet incidentTeams_NonWASU = materialize(label_allIncidents_withTitleTeam \r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        incidentTeams_WASU_corrected | summarize by IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId,\r\n        Title,\r\n        OwningTenantName,\r\n        OwningTenantId,\r\n        OwningTeamName,\r\n        OwningTeamId,\r\n        FirstOwningTeamId,\r\n        SecondOwningTeamId,\r\n        ThirdOwningTeamId);\r\n///////////////////////////////////////////\r\n// add related information (features)\r\n///////////////////////////////////////////\r\n//\r\n// add related incident info\r\n//\r\nincidentTeams_WASU_corrected | union incidentTeams_NonWASU\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n            | where CreateDate >= startDate and CreateDate <= endDate // within date range\r\n                and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n                and OwningTenantId !in (toscalar(TestingTenantIds)) // not a testing Tenant team\r\n                and OwningTeamId != TestingTeamIds // not a testing team\r\n                and isnull(ParentIncidentId) // not a linked incident\r\n            | extend hashid = IncidentId % totalPartition\r\n            | where hashid == partitionId \r\n            | project-away hashid\r\n            | project IncidentId,\r\n                SourceName,\r\n                Status,\r\n                Severity,\r\n                OriginatingTenantId,\r\n                ResponsibleTenantId,\r\n                IncidentType,\r\n                ImpactStartDate,\r\n                CustomerName,\r\n                ImpactedScenarios = replace(@\"(\\s+)\",\" \", ImpactedScenarios),\r\n                IsCustomerImpacting = coalesce(tostring(IsCustomerImpacting),'False'),\r\n                Keywords = replace(@\"(\\s+)\",\" \", Keywords),\r\n                OccurringDatacenter = replace(@\"(\\s+)\",\" \", OccurringDatacenter),\r\n                OccurringDeviceGroup = replace(@\"(\\s+)\",\" \", OccurringDeviceGroup),\r\n                OccurringDeviceName = replace(@\"(\\s+)\",\" \", OccurringDeviceName),\r\n                OccurringServiceInstanceId =   replace(@\"(\\s+)\",\" \", OccurringServiceInstanceId),\r\n                RaisingDatacenter = replace(@\"(\\s+)\",\" \", RaisingDatacenter),\r\n                RaisingDeviceGroup = replace(@\"(\\s+)\",\" \", RaisingDeviceGroup),\r\n                RaisingDeviceName = replace(@\"(\\s+)\",\" \", RaisingDeviceName),\r\n                RaisingServiceInstanceId,\r\n                SourceId,\r\n                SourceCreatedBy,\r\n                SiloId,\r\n                Summary = replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Summary),\r\n                CreateDate\r\n    ) on IncidentId    \r\n    | extend Summary = replace(@\"\\0\", \"\", Summary), Title = replace(@\"\\0\", \"\", Title) // remove null bytes\r\n    | extend Summary = replace(@\"#\", \"#HASH#\", Summary) , Title = replace(@\"#\", \"#HASH#\", Title) // normalize text data\r\n    | extend Summary = replace(@\"\\n\", \"#N#\", Summary), Title = replace(@\"\\n\", \"#N#\", Title)\r\n    | extend Summary = replace(@\"\\r\", \"#R#\", Summary), Title = replace(@\"\\r\", \"#R#\", Title)\r\n    | extend Summary = replace(@\"\\t\", \"#TAB#\", Summary), Title = replace(@\"\\t\", \"#TAB#\", Title)\r\n    | extend IsCRI = case(SourceName in  (\"ICMPortal\", \"MSSolvePRODConnector\"), 1, 0)\r\n    | project IncidentId,\r\n                Title,\r\n                SourceName,\r\n                Status,\r\n                Severity,\r\n                OriginatingTenantId,\r\n                OwningTenantId,\r\n                OwningTenantName,\r\n                OwningTeamName,\r\n                OwningTeamId,\r\n                FirstOwningTeamId,\r\n                SecondOwningTeamId,\r\n                ThirdOwningTeamId,\r\n                ResponsibleTenantId,\r\n                IncidentType,\r\n                ImpactStartDate,\r\n                CustomerName,\r\n                ImpactedScenarios,\r\n                IsCustomerImpacting,\r\n                Keywords,\r\n                OccurringDatacenter,\r\n                OccurringDeviceGroup,\r\n                OccurringDeviceName,\r\n                OccurringServiceInstanceId,\r\n                RaisingDatacenter,\r\n                RaisingDeviceGroup,\r\n                RaisingDeviceName,\r\n                RaisingServiceInstanceId,\r\n                SourceId,\r\n                SourceCreatedBy,\r\n                SiloId,\r\n                Summary,\r\n                CreateDate,\r\n                IsCRI\r\n    | sort by IncidentId asc;\r\n}","docstring":"Get number of triaged incidents from startDate to endDate","folder":"IcMML","functionKind":"UnknownFunction","name":"get_AIR_labeled_data_partition","outputColumns":[],"inputParameters":[{"name":"startDateStr","cslType":"string","type":"System.String"},{"name":"endDateStr","cslType":"string","type":"System.String"},{"name":"partitionId","cslType":"int","type":"System.Int32"},{"name":"totalPartition","cslType":"int","type":"System.Int32"}]},"$fn_icmclusterlb/1/23":{"id":"$fn_icmclusterlb/1/23","entityType":"Function","body":"{\r\n///////////////////////////////////////////\r\n// get candidate incident ids\r\n///////////////////////////////////////////\r\n//set notimeout;\r\n// set servertimeout = notimeout;\r\n// let startDateStr = \"2019-02-20\";\r\n// let endDateStr = \"2019-02-20\";\r\n// let totalPartition = 1;\r\n// let partitionId = 0;\r\nlet startDate = startofday(todatetime(startDateStr));\r\nlet endDate = endofday(todatetime(endDateStr));\r\nlet max_set_len = 1000000;\r\n//\r\n// filtering out noisy incidents\r\n//\r\n// Testing tenants\r\nlet TestingTenantIds = cluster('Icmclusterbackup').database('IcmDataWarehouse').Tenants\r\n    | where  TenantName has \"Test\"\r\n    | summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n    | project TenantId\r\n    | summarize makeset(TenantId, max_set_len);\r\n// Testing teams\r\nlet TestingTeamIds = 27310; // ICMtestOnly\r\n// repetitive incidents\r\nlet repetitiveTitleThreshold = 100;\r\nlet noiseIncidents= cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate\r\n        and Status in (\"MITIGATED\", \"RESOLVED\")\r\n        and isnull(ParentIncidentId)\r\n    | summarize count() by Title, OwningTeamName\r\n    | where count_ > repetitiveTitleThreshold\r\n    | distinct Title, OwningTeamName\r\n    | project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\n//\r\n// get incidents and filtering out noisy ones\r\n//\r\nlet incidents =cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate // within date range\r\n        and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n        and OwningTenantId !in (toscalar(TestingTenantIds)) // not a testing Tenant team\r\n        and OwningTeamId != TestingTeamIds // not a testing team\r\n        and isnull(ParentIncidentId) // not a linked incident\r\n    // | extend hashid = hash(IncidentId, totalPartition)\r\n    | extend hashid = IncidentId % totalPartition\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity\r\n    | join hint.strategy=shuffle kind=leftanti // find out incidents not exceed the TitleThreshold ~ semioutter join\r\n    (\r\n        noiseIncidents\r\n    ) on $left.OwningTeamName == $right.NoiseOwningTeamName and $left.Title == $right.NoiseTitle\r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity;\r\n// // another kind of noisy incident: Sev4 and NonActionable\r\n// let noisyNonActionableIncidents = incidents | where Severity == 4\r\n//     | join hint.strategy=broadcast kind=inner\r\n//     (\r\n//         GetIcMinerTable\r\n//             | project IncidentId, Actionable\r\n//             | where Actionable == False\r\n//     ) on IncidentId\r\n//     | summarize by IncidentId;\r\n// let candidateIncidents = materialize(incidents\r\n//     | join hint.strategy=shuffle kind=leftanti\r\n//     (\r\n//         noisyNonActionableIncidents\r\n//     ) on IncidentId\r\n//     | project IncidentId,\r\n//             Title,\r\n//             IncidentType,\r\n//             OwningTeamId,\r\n//             OwningTeamName,\r\n//             OwningTenantId,\r\n//             ResponsibleTeamId);\r\nlet candidateIncidents = materialize(incidents);\r\n///////////////////////////////////////////\r\n// get labels owningTeamdId\r\n///////////////////////////////////////////\r\n//\r\n// get joined history\r\n//\r\nlet candidateHistories = materialize(candidateIncidents | project IncidentId\r\n    | join hint.strategy=shuffle kind=inner (cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentHistory \r\n        | where isnull(OwningTeamId) == false or isempty(Status) != true // meaningful status and valid owningTeamId\r\n        | project HistoryId,\r\n                IncidentId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                ChangedBy,\r\n                historyOwningTeamId = OwningTeamId,\r\n                historyOwningTeamName = OwningTeamName,\r\n                Lens_IngestionTime\r\n        ) on IncidentId\r\n    | summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n    | project IncidentId,\r\n                HistoryId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                ChangedBy,\r\n                historyOwningTeamId,\r\n                historyOwningTeamName);\r\n//\r\n// incidents with ResponsibleTeamId\r\n// the label is the ResponsibleTeamId\r\nlet label_IncidentWithResponsibleTeam = materialize(candidateIncidents\r\n    | where isnull(ResponsibleTeamId) == false and ResponsibleTeamId != OwningTeamId\r\n    | join hint.strategy = shuffle kind=inner (candidateHistories\r\n        | where isnull(historyOwningTeamId) == false // we want to get the first 3 owningTeamIds, so ignore records having no OwningTeamId\r\n        // should also include the condition ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem'\r\n        // apply for all labels below. However, this change requires other related queries from the front end\r\n        | project IncidentId,\r\n                HistoryId,\r\n                ChangeDate,\r\n                historyOwningTeamId\r\n    ) on IncidentId\r\n    | sort by HistoryId asc\r\n    | summarize hint.strategy = shuffle OwningTeamId=max(ResponsibleTeamId), makelist(historyOwningTeamId) by IncidentId // using max(ResponsibleTeamId) because this value is the same for all records of an IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents of Dynamics - Operations Center (DOC) teams\r\n// get the mitigation moment, the label is the team where ChangeDate <= MitigateTime\r\n//\r\nlet incidentDOCIds = candidateIncidents\r\n    | where (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX' // keep incidents belong to DOC only\r\n        and OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n        and OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n        and OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM'\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (label_IncidentWithResponsibleTeam \r\n        | project IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet incidentDOCWithMitigateTeams = incidentDOCIds\r\n    | join hint.strategy=shuffle kind=inner // get the moment when this incident was Mitigated\r\n    (\r\n        candidateHistories\r\n        | where ChangeCategories has 'AssignTeam' and ChangedBy != 'IcMSystem' // meaningful Change fields\r\n            and historyOwningTeamName has \"DYNAMICSCRMCRMONLINE\" // make sure to match incident from DOC on the History side\r\n        // | project IncidentId, ChangeDate, historyOwningTeamId\r\n        | project IncidentId, HistoryId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | summarize arg_max(ChangeDate, *) by IncidentId // we get the last moment when DYNAMICSCRMCRMONLINE is involved\r\n    | summarize arg_max(HistoryId, *) by IncidentId // we get the last moment when DYNAMICSCRMCRMONLINE is involved\r\n    // | project IncidentId, MitigateTeamId = historyOwningTeamId, MitigateTime = ChangeDate;  // unprocessed incidents belonging to DOC with mitigate-moment info\r\n    | project IncidentId, MitigateTeamId = historyOwningTeamId, MitigateTime = HistoryId;  // unprocessed incidents belonging to DOC with mitigate-moment info\r\nlet label_IncidentsFromDOCTeam = materialize(incidentDOCWithMitigateTeams \r\n    | join hint.strategy=shuffle kind=inner // this join will collect labels given the mitigated-moment information\r\n    (candidateHistories\r\n        // | project ChangeDate, IncidentId, historyOwningTeamId\r\n        | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate <=  MitigateTime\r\n    | where HistoryId <=  MitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    | summarize OwningTeamId=max(MitigateTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n            OwningTeamId,\r\n            FirstOwningTeamId = list_historyOwningTeamId[0],\r\n            SecondOwningTeamId = list_historyOwningTeamId[1],\r\n            ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents from PowerBI\r\n//\r\nlet teams = materialize(cluster('Icmclusterbackup').database('IcmDataWarehouse').Teams\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId);\r\nlet incidentPowerBIIds = candidateIncidents\r\n    | where OwningTenantId == 10058\r\n    | join kind=leftanti  \r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n            | union incidentDOCIds\r\n    ) on IncidentId\r\n    | distinct IncidentId, IncidentType;\r\n// labels for PowerBI LiveSite\r\nlet incidentPowerBILiveSiteIds = incidentPowerBIIds | where IncidentType in (\"Live Site\",\"LiveSite\") | summarize by IncidentId;\r\nlet incidentPowerBILiveSiteTeams = cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentCustomFieldEntries | where Name =='powerbicomponentarea' \r\n    | project IncidentId, CustomFieldValue = Value\r\n    | join hint.strategy=shuffle kind=inner (incidentPowerBILiveSiteIds) on IncidentId // focus on PowerBILiveSite incidents\r\n    | join hint.strategy=shuffle kind=inner (\r\n        teams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n    ) on $left.CustomFieldValue == $right.TeamName\r\n    | project IncidentId , TeamId; // teams of PowerBILiveSite\r\nlet history_PowerBILiveSite = incidentPowerBILiveSiteIds\r\n    | join hint.strategy=shuffle kind=inner \r\n    (\r\n        candidateHistories\r\n            | where not(isnull(historyOwningTeamId))\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId;\r\nlet label_PowerBILiveSite = materialize(incidentPowerBILiveSiteTeams\r\n    | join hint.strategy=shuffle kind=inner (history_PowerBILiveSite) on IncidentId \r\n    // | order by ChangeDate asc\r\n    | order by HistoryId asc\r\n    | summarize hint.strategy = shuffle max(TeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId = max_TeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n// labels for PowerBI CRI\r\nlet incidentPowerBICRIIds = incidentPowerBIIds | where IncidentType in (\"Customer Reported\",\"CustomerReported\") | summarize by IncidentId;\r\nlet history_PowerBICRI = incidentPowerBICRIIds \r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId  // verify if we really need to use historyid here\r\n            | project HistoryId, IncidentId, historyOwningTeamId  // verify if we really need to use historyid here\r\n    ) on IncidentId;\r\nlet incidentPowerBICRIAfterMitigateTeams = history_PowerBICRI\r\n    | where not(isnull(historyOwningTeamId))\r\n    // | summarize AfterMitigateTime=max(ChangeDate) by IncidentId\r\n    | summarize AfterMitigateTime=max(HistoryId) by IncidentId\r\n    | project IncidentId, AfterMitigateTime;\r\nlet label_PowerBICRI = materialize(incidentPowerBICRIAfterMitigateTeams\r\n    | join hint.strategy=shuffle kind=inner \r\n    (\r\n        history_PowerBICRI\r\n            | where not(isnull(historyOwningTeamId))\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate < AfterMitigateTime\r\n    | where HistoryId < AfterMitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    | summarize OwningTeamId=max(historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents having MITIGATED step only\r\n//\r\nlet incidentWithMitigatedIds = candidateHistories | where Status == \"MITIGATED\"\r\n    | summarize by IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (label_IncidentsFromDOCTeam | project IncidentId), \r\n            (label_PowerBILiveSite | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet history_incidentWithMitigated = incidentWithMitigatedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId, Status, HistoryId            \r\n            | project HistoryId, IncidentId, historyOwningTeamId, Status, ChangeDate\r\n    ) on IncidentId;\r\nlet incidentWithMitigatedTeams = history_incidentWithMitigated\r\n    | where Status == \"MITIGATED\"\r\n    // | summarize MitigateTime=max(ChangeDate) by IncidentId; // verify if arg_max(historyid, changedate) = max(changedate)\r\n    | summarize MitigateTime=max(HistoryId) by IncidentId; // verify if arg_max(historyid, changedate) = max(changedate)    \r\nlet label_incidentWithMitigated = materialize(incidentWithMitigatedTeams\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        history_incidentWithMitigated\r\n            | where isnull(historyOwningTeamId) == false\r\n            // | project ChangeDate, IncidentId, historyOwningTeamId, HistoryId\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    // | where ChangeDate <=  MitigateTime\r\n    | where HistoryId <=  MitigateTime\r\n    // | sort by ChangeDate asc\r\n    | sort by HistoryId asc\r\n    // | summarize (ChangeDate, OwningTeamId)=arg_max(ChangeDate, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | summarize (HistoryId, OwningTeamId) = arg_max(HistoryId, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// incidents with RESOLVED step only\r\n//\r\nlet incidentWithResolvedIds = candidateIncidents | project IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (label_IncidentsFromDOCTeam | project IncidentId), \r\n            (label_PowerBILiveSite | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId),\r\n            (label_incidentWithMitigated | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId;\r\nlet label_incidentWithResolved = materialize(incidentWithResolvedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n        | where isnull(historyOwningTeamId) == false\r\n        | project ChangeDate, IncidentId, historyOwningTeamId\r\n        // | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    | summarize (ChangeDate, OwningTeamId)=arg_max(ChangeDate, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    // | summarize (HistoryId, OwningTeamId) = arg_max(HistoryId, historyOwningTeamId), makelist(historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId,\r\n        FirstOwningTeamId = list_historyOwningTeamId[0],\r\n        SecondOwningTeamId = list_historyOwningTeamId[1],\r\n        ThirdOwningTeamId = list_historyOwningTeamId[2]);\r\n//\r\n// union all incidents\r\n//\r\nlet label_allIncidents = label_IncidentWithResponsibleTeam\r\n    | union label_IncidentsFromDOCTeam,\r\n        label_PowerBILiveSite,\r\n        label_PowerBICRI,\r\n        label_incidentWithMitigated,\r\n        label_incidentWithResolved;\r\n//\r\n// return the 3 first descriptions\r\n//\r\nlet topK = 3;\r\nlabel_allIncidents | summarize by IncidentId\r\n    | join hint.strategy=shuffle kind=leftouter\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentDescriptions\r\n                | where Date >= startDate\r\n                | project IncidentId, DescriptionId, Text, Lens_IngestionTime\r\n    ) on IncidentId\r\n    | summarize arg_max(Lens_IngestionTime, *) by DescriptionId\r\n    | sort by IncidentId, DescriptionId asc\r\n    | extend row_num = row_number(1, prev(IncidentId) != IncidentId)\r\n    | where row_num <= topK\r\n    | extend Text=replace(@\"([A-Za-z0-9+/=]{100,})|(\\s+)\",\" \", Text)\r\n    | summarize hint.strategy = shuffle Description=strcat_array(makelist(Text,topK), \"\\n\")  by IncidentId        \r\n    | extend Description = replace(@\"\\0\", \"\", Description) // remove null bytes\r\n    | extend Description = replace(@\"#\", \"#HASH#\", Description) // normalize text data\r\n    | extend Description = replace(@\"\\n\", \"#N#\", Description)\r\n    | extend Description = replace(@\"\\r\", \"#R#\", Description)\r\n    | extend Description = replace(@\"\\t\", \"#TAB#\", Description)\r\n    | project IncidentId, Description\r\n    | sort by IncidentId asc;\r\n}","docstring":"Get number of triaged incidents from startDate to endDate","folder":"IcMML","functionKind":"UnknownFunction","name":"get_AIR_description_data_partition","outputColumns":[],"inputParameters":[{"name":"startDateStr","cslType":"string","type":"System.String"},{"name":"endDateStr","cslType":"string","type":"System.String"},{"name":"partitionId","cslType":"int","type":"System.Int32"},{"name":"totalPartition","cslType":"int","type":"System.Int32"}]},"$fn_icmclusterlb/1/24":{"id":"$fn_icmclusterlb/1/24","entityType":"Function","body":"{\r\n    GetIcMinerTable\r\n    | where IncidentId == incidentId\r\n    | project IncidentId, Actionable\r\n}","docstring":"Data pull for PreviousFixes","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPreviousFixesOnlyActionableFlag","outputColumns":[],"inputParameters":[{"name":"incidentId","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/25":{"id":"$fn_icmclusterlb/1/25","entityType":"Function","body":"{\r\n//let endDate = datetime(2020-07-01);\r\n//let timespanindays = 30d;\r\n//let owningTeamIds = dynamic([32606,73723,51792,62601,63348,63447,63958,63979,64456,63348,10426,10612,11002]);\r\nlet severities = dynamic([0,1,2,3,4]);\r\nlet icmdbname='IcMDataWarehouse';\r\nlet sparckdbname='Icmanalytics';\r\nlet newendDate=min_of(endDate, startofday(now()));\r\n// Get the list of valid team ids and corresponding tenant ids.\r\nlet validTeams = materialize(database(icmdbname).Teams | where TeamId in (owningTeamIds) | summarize teamids=make_set(TeamId), tenantids=make_set(TenantId));\r\nlet validTeamIds = toscalar(validTeams | project teamids);\r\nlet validTenantIds = toscalar(validTeams | project tenantids);\r\n// Get the latest end date for which insights are available\r\nlet latestEndDate = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate <= newendDate and EndDate > newendDate - 7d\r\n| summarize max(EndDate));\r\n// Get the lastest compute time \r\nlet latestComputeTime = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| summarize max(ComputeTime));\r\n// Get the insights details for the latest dates and valid teams.\r\n// Get empty environment recommended action list\r\nlet EmptyEnvironmentRecommendation = database(sparckdbname).EmptyEnvironmentStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyEnvironment), RecommendedEnvironmentValue=any(NewOccurringEnvironment), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEnvironmentAction=pack_all()\r\n| summarize AddEnvironmentAction=tostring(make_list(AddEnvironmentAction)) by OwningTeamId\r\n;\r\n// Get empty correlation id recommended action list\r\nlet EmptyCorrelationIdRecommendation = database(sparckdbname).EmptyCorrelationIdStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyCorrelationId), RecommendedCorrelationIdValue=any(NewCorrelationId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddCorrelationIdAction=pack_all()\r\n| summarize AddCorrelationIdAction=tostring(make_list(AddCorrelationIdAction)) by OwningTeamId\r\n;\r\n// Get empty match fields recommended action list\r\nlet EmptyMatchFieldsRecommendation = database(sparckdbname).EmptyMatchFieldsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidentsWithMatchingEmptyDC=sum(NumIncWithMatchingEmptyDC), \r\nNumIncidentsWithMatchingEmptyDG=sum(NumIncWithMatchingEmptyDG), NumIncidentsWithMatchingEmptyDN=sum(NumIncWithMatchingEmptyDN),\r\nNumIncidentsWithMatchingEmptySID=sum(NumIncWithMatchingEmptySID), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEmptyMatchingFieldsAction=pack_all()\r\n| summarize AddEmptyMatchingFieldsAction=tostring(make_list(AddEmptyMatchingFieldsAction)) by OwningTeamId\r\n;\r\n// Get creation date window recommended action list\r\nlet CreationDateWindowRecommendation = database(sparckdbname).CreationDateWindowStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), OldCreationDateWindow=any(OldCreationDateWindow), RecommendedCreationDateWindow = any(NewCreationDateWindow), ActionId=any(UniqueId) by CorrelationRuleId, OwningTeamId\r\n| project OwningTeamId, IncreaseCreationDateWindowAction=pack_all()\r\n| summarize IncreaseCreationDateWindowAction=tostring(make_list(IncreaseCreationDateWindowAction)) by OwningTeamId\r\n;\r\n// Get auto-mitigation recommended action list\r\nlet AutomitigationRecommendation = database(sparckdbname).AutomitigationStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), RecommendedIncrementTime=tolong(any(DeltaMitigateTime)), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, IncreaseTTMAction=pack_all()\r\n| summarize IncreaseTTMAction=tostring(make_list(IncreaseTTMAction)) by OwningTeamId\r\n;\r\n// Get distinct correlation id recommended action list\r\nlet DistinctCorrelationIdsRecommendation = database(sparckdbname).DistinctCorrelationIdsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), NumDistinctCorrelationIdValues=sum(NumDistinctCorrelationIds), SampleIncidentId=any(SampleIncidentId), \r\nRecommendedCorrelationIdValue=any(NewCorrelationId), RecommendedDataCenterValue=any(NewOccurringDatacenter), RecommendedDeviceGroupValue=any(NewOccurringDeviceGroup), \r\nRecommendedDeviceNameValue=any(NewOccurringDeviceName), RecommendedServiceInstancIdValue=any(NewOccurringServiceInstanceId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, UnifyCorrelationIdAction=pack_all()\r\n| summarize UnifyCorrelationIdAction=tostring(make_list(UnifyCorrelationIdAction)) by OwningTeamId\r\n;\r\n// Get new correlation rule recommended action list\r\nlet NewCorrelationRulesRecommendation = database(sparckdbname).NewCorrelationRulesStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| where IsRecommendationFound == 1\r\n| summarize RuleType=\"new\", NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by TenantId, TenantName, OwningTeamId, RoutingId, CorrelationId, \r\nEnvironment, Datacenter, DeviceGroup, DeviceName, ServiceInstanceId, ModifiedBy, Description, Priority, MatchDatacenter, MatchDeviceGroup, MatchDeviceName, MatchServiceInstanceId, MatchSeverity,\r\nCreationDateWindow, Mode, IncludeOriginatingTenant\r\n| project OwningTeamId, AddCorrelationRuleAction=pack_all()\r\n| summarize AddCorrelationRuleAction=tostring(make_list(AddCorrelationRuleAction)) by OwningTeamId\r\n;\r\n// Get the overall incident volume reduction for all teams\r\nlet IncidentVolumeBySeverity=validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids)\r\n| extend severities=severities\r\n| mv-expand severities\r\n| project OwningTeamId, Severity=tostring(severities)\r\n| join kind=leftouter(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (severities)\r\n| extend Severity=tostring(Severity)\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume) on OwningTeamId, Severity\r\n| project OwningTeamId, Severity, InitialVolume=iff(isnull( InitialVolume), 0, InitialVolume), \r\nFinalVolume=iff(isnull( FinalVolume), 0, FinalVolume),\r\nPercentageReduction=iff(isnull(PercentageReduction), 0.0, PercentageReduction)\r\n;\r\nlet IncidentVolumeAllSeverities=IncidentVolumeBySeverity\r\n| summarize Severity='all', InitialVolume=sum(InitialVolume), FinalVolume=sum(FinalVolume) by OwningTeamId\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume\r\n;\r\nlet IncidentVolume=IncidentVolumeBySeverity\r\n| union IncidentVolumeAllSeverities\r\n;\r\nlet IncidentVolumeObject=IncidentVolume \r\n| project OwningTeamId, IncidentVolume=pack(\"Severity\", Severity, \"InitialVolume\", InitialVolume, \"FinalVolume\", FinalVolume, \"PercentageReduction\" , PercentageReduction)\r\n| summarize IncidentVolume=tostring(make_list(IncidentVolume)), \r\nInitialIncidentVolume=sumif(tolong(IncidentVolume.InitialVolume), IncidentVolume.Severity =~ \"all\"),\r\nFinalIncidentVolume=sumif(tolong(IncidentVolume.FinalVolume), IncidentVolume.Severity =~ \"all\") by OwningTeamId\r\n| extend PercentageVolumeReduction=(InitialIncidentVolume-FinalIncidentVolume)*100.0/InitialIncidentVolume\r\n;\r\nlet Result=validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids), StartDate=latestEndDate-timespanindays, EndDate=latestEndDate\r\n| join kind=leftouter (IncidentVolumeObject) on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyEnvironmentRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyCorrelationIdRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyMatchFieldsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter CreationDateWindowRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter AutomitigationRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter DistinctCorrelationIdsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter NewCorrelationRulesRecommendation on OwningTeamId\r\n| project-away OwningTeamId1;\r\nResult\r\n| extend HelpLink = \"https://genevamondocs.azurewebsites.net/alerts/AdvancedTopics/HealthModel/UseHealthModel.html#for-incident-aggregation\"\r\n// InitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction are not used anymore. Need to remove after updating the API.\r\n| project OwningTeamId, StartDate, EndDate, \r\nInitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction, \r\nIncidentVolume, AddEnvironmentAction, AddCorrelationIdAction, AddEmptyMatchingFieldsAction, UnifyCorrelationIdAction, IncreaseCreationDateWindowAction, IncreaseTTMAction, AddCorrelationRuleAction, HelpLink\r\n}","docstring":"Get IcM Insights for a team","folder":"IcMML","functionKind":"UnknownFunction","name":"GetVolumeInsightsDetails","outputColumns":[],"inputParameters":[{"name":"owningTeamIds","cslType":"dynamic","type":"System.Object"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(30.00:00:00)"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/26":{"id":"$fn_icmclusterlb/1/26","entityType":"Function","body":"{\r\n///////////////////////////////////////////\r\n// get candidate incident ids\r\n///////////////////////////////////////////\r\n//set notimeout;\r\n// set servertimeout = notimeout;\r\n// let startDateStr = \"2018-08-01\";\r\n// let endDateStr = \"2019-01-31\";\r\n// let totalPartition = 80;\r\n// let partitionId = 0;\r\nlet startDate = startofday(todatetime(startDateStr));\r\nlet endDate = endofday(todatetime(endDateStr));\r\nlet max_set_len = 1000000;\r\n//\r\n// filtering out noisy incidents\r\n//\r\n// Testing tenants\r\nlet TestingTenantIds = cluster('Icmclusterbackup').database('IcmDataWarehouse').Tenants\r\n    | where  TenantName has \"Test\"\r\n    | summarize arg_max(Lens_IngestionTime, TenantId, TenantName) by TenantId\r\n    | project TenantId\r\n    | summarize makeset(TenantId, max_set_len);\r\n// Testing teams\r\nlet TestingTeamIds = 27310; // ICMtestOnly\r\n// repetitive incidents\r\nlet repetitiveTitleThreshold = 100;\r\nlet noiseIncidents= cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate\r\n        and Status in (\"MITIGATED\", \"RESOLVED\")\r\n        and isnull(ParentIncidentId)\r\n    | summarize count() by Title, OwningTeamName\r\n    | where count_ > repetitiveTitleThreshold\r\n    | distinct Title, OwningTeamName\r\n    | project NoiseTitle=Title, NoiseOwningTeamName=OwningTeamName;\r\n//\r\n// get incidents and filtering out noisy ones\r\n//\r\nlet incidents =cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n    | where CreateDate >= startDate and CreateDate <= endDate // within date range\r\n        and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n        and OwningTenantId !in (toscalar(TestingTenantIds)) // not a testing Tenant team\r\n        and OwningTeamId != TestingTeamIds // not a testing team\r\n        and isnull(ParentIncidentId) // not a linked incident\r\n    // | extend hashid = hash(IncidentId, totalPartition)\r\n    | extend hashid = IncidentId % totalPartition\r\n    | where hashid == partitionId \r\n    | project-away hashid \r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity\r\n    | join hint.strategy=shuffle kind=leftanti // find out incidents not exceed the TitleThreshold ~ semioutter join\r\n    (\r\n        noiseIncidents\r\n    ) on $left.OwningTeamName == $right.NoiseOwningTeamName and $left.Title == $right.NoiseTitle\r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId,\r\n            Severity;\r\n// another kind of noisy incident: Sev4 and NonActionable\r\nlet noisyNonActionableIncidents = incidents | where Severity == 4\r\n    | join hint.strategy=broadcast kind=inner\r\n    (\r\n        GetIcMinerTable\r\n            | project IncidentId, Actionable\r\n            | where Actionable == False\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet candidateIncidents = materialize(incidents\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        noisyNonActionableIncidents\r\n    ) on IncidentId\r\n    | project IncidentId,\r\n            Title,\r\n            IncidentType,\r\n            OwningTeamId,\r\n            OwningTeamName,\r\n            OwningTenantId,\r\n            ResponsibleTeamId);\r\n//////////////////////////////////////////////////////////\r\n// get similar incidents would appear in this training set\r\n/////////////////////////////////////////////////////////\r\nlet similarIncidents = cluster('Icmtelemetry').database('icmlogsprocessed').SimilarIncidentRecommendations \r\n    | where Timestamp > startDate and Score <= 0.1\r\n    | project IncidentId, SimilarIncidentId\r\n    | join hint.strategy=shuffle kind=inner\r\n    (candidateIncidents | project IncidentId) on IncidentId;\r\nsimilarIncidents\r\n    | project IncidentId, SimilarIncidentId;\r\n}","docstring":"Get similar incidents from startDate to endDate","folder":"IcMML","functionKind":"UnknownFunction","name":"get_AIR_similar_incident_partition","outputColumns":[],"inputParameters":[{"name":"startDateStr","cslType":"string","type":"System.String"},{"name":"endDateStr","cslType":"string","type":"System.String"},{"name":"partitionId","cslType":"int","type":"System.Int32"},{"name":"totalPartition","cslType":"int","type":"System.Int32"}]},"$fn_icmclusterlb/1/27":{"id":"$fn_icmclusterlb/1/27","entityType":"Function","body":"{\r\n    GetIcMinerTable\r\n    | where IncidentId in (incidentIds)\r\n    | project IncidentId, TSG, Command, Query, StackTrace, MitigationSteps, URL, ErrorCode, Actionable\r\n}","docstring":"Data pull for PreviousFixes","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPreviousFixesInBatch","outputColumns":[],"inputParameters":[{"name":"incidentIds","cslType":"dynamic","type":"System.Object"}]},"$fn_icmclusterlb/1/28":{"id":"$fn_icmclusterlb/1/28","entityType":"Function","body":"{\r\n    cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').QueryRepairItemDelta_PROD4()\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/29":{"id":"$fn_icmclusterlb/1/29","entityType":"Function","body":"{\r\n//let startTime = ago(10d);\r\n//let endTime = now();\r\nlet IncidentPool = IncidentsSnapshot(true)\r\n    | where SourceCreateDate > startTime and SourceCreateDate < endTime;\r\nlet XstoreIncidents = IncidentPool\r\n    | where MonitorId in (\"PartitionNotLoaded\",\r\n                      \"UnloadedPartitionCountPercentage\", \r\n                      \"TsRestartsWithActivePartitions\", \r\n                      \"CrashingPartitionIsolated\", \r\n                      \"PartitionLoadFailed\",\r\n                      \"DataUnavailable\",\r\n                      \"DataUnavailableForLongDuration\")\r\n    | union ( IncidentPool\r\n        | where SourceCreatedBy == \"CN=publisherclientcertificate.acm.api.icm.msftcloudes.com\" and Title contains \"virtual\" and Title !contains \"unreachable\"\r\n        | extend MonitorId = \"VmReboot\")\r\n    | extend scale_unit = extract(\"(.*\\\\-)?([a-z0-9]+)\", 2, tolower(OccurringDeviceName))\r\n    | where scale_unit !contains \"ste\" and OccurringDeviceName !contains \"rdstorage\" and scale_unit !contains \"stage\" \r\n    | extend dc = extract(\"([a-z0-9]+)(prd|azf).*\", 1, scale_unit);\r\nlet AppServiceIncidents = IncidentPool\r\n    | where Title contains \"Runtime_ColdSite\" \r\n         or Title contains \"Runtime_HotSite\"\r\n         or Title contains \"Linux_HotSite\"\r\n         or Title contains \"Linux_ColdSite\"\r\n         or Title contains \"Pingdom waws\"\r\n    | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", \"\")))))\r\n    | extend scale_unit = tolower(OccurringDeviceName)\r\n    | extend dc = extract(\"[a-z]{2}ws-prod-([a-z0-9]+)-.*\", 1, scale_unit)\r\n    | union ( IncidentPool\r\n        | where Title contains \"Canary Sites Three Percent\"\r\n        | extend scale_unit = iff(isempty(OccurringServiceInstanceId), extract(\"([a-z]{2}ws-prod-[0-9a-z]+-[0-9]+).*\", 1, OccurringDeviceName), extract(\"([a-z]{2}ws-prod-[0-9a-z]+-[0-9]+).*\", 1, OccurringServiceInstanceId))\r\n        | where scale_unit !contains \"msftint\"\n        | extend MonitorId = \"CanarySitesThreePercent\"\n        | extend dc = extract(\"[a-z]{2}ws-prod-([a-z0-9]+)-.*\", 1, scale_unit)); \r\nlet OtherIncidents = IncidentPool\r\n    | where MonitorId in (\"Cluster VIP 443 Reachability\",\r\n                      \"NsmPrimaryHeartBeatMonitor\",\r\n                      \"MDM Heartbeat - Cluster\",\r\n                      \"NodeIsolationEventPublic\",\r\n                      \"DS Heartbeat per Tenant\")\r\n    | extend scale_unit = extract(\"([^_]*)\",1,tolower(OccurringDeviceName))\r\n    | union ( IncidentPool\r\n        | where MonitorId == \"IaaSNodeFailureOngoing\" \r\n        | extend scale_unit = tostring(split(tolower(OccurringDeviceName), \"_\")[0]))\n    | union ( IncidentPool\n        | where MonitorId == \"CanaryAutoEscalationMonitor\"\r\n        | extend scale_unit = extract(\".* first impacted cluster: ([a-z0-9]+):.*\", 1, tolower(Title)))\n    | where scale_unit !contains \"stage\" and isnotempty(scale_unit)\n    | extend dc = extract(\"([a-z0-9]+)(prd|azf).*\", 1, scale_unit);\r\nlet DCLevelIncidents = IncidentPool\r\n    | where MonitorId in (\"IaaSFailureSpike\", \r\n                      \"IaaSDataCenterFailureOngoing\")  \r\n    | extend dc = tolower(OccurringDatacenter);\r\nlet allIncidents = union \r\n    XstoreIncidents,\r\n    AppServiceIncidents,\r\n    OtherIncidents,\r\n    DCLevelIncidents;\r\nallIncidents\n| where OccurringEnvironment != \"TEST\" and isnotempty(dc) and Title !contains \"test\"\r\n| project IncidentId, SourceCreateDate, MonitorId, Severity, scale_unit, dc, Title, OriginatingTenantName\r\n}","docstring":"power outage related incidents","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/30":{"id":"$fn_icmclusterlb/1/30","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\nExternalLinkConfigServiceLevel\r\n| union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmtest.kusto.windows.net').database('IcmDataWarehouseTest').IncidentBugs_CorrectRunnerTest\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet OneEsMicrosoftWorkItem = cluster('1es').database('microsoft').WorkItem\r\n    | extend OrganizationName = OrganizationName\r\n    | extend WorkItemId = System_Id\r\n    | extend Rev = System_Rev\r\n    | extend WorkItemType = System_WorkItemType\r\n    | extend TeamProject = System_TeamProject\r\n    | extend OneESTitle = System_Title\r\n    | extend AreaId = System_AreaId\r\n    | extend AreaPath = System_AreaPath\r\n    | extend AssignedToDisplayName = System_AssignedTo\r\n    | extend AssignedToId = \"\"\r\n    | extend AssignedToIsContainer = tobool(\"\")\r\n    | extend AssignedToName = System_AssignedTo\r\n    | extend AssignedToUniqueName = System_AssignedTo\r\n    | extend AttachedFileCount = tolong(\"\")\r\n    | extend AuthorizedAsDisplayName = \"\"\r\n    | extend AuthorizedAsId = \"\"\r\n    | extend AuthorizedAsIsContainer = tobool(\"\")\r\n    | extend AuthorizedAsUniqueName = \"\"\r\n    | extend AuthorizedDate = todatetime(\"\")\r\n    | extend BoardColumn = \"\"\r\n    | extend BoardColumnDone = tobool(\"\")\r\n    | extend BoardLane = \"\"\r\n    | extend ChangedByDisplayName = System_ChangedBy\r\n    | extend ChangedById = \"\"\r\n    | extend ChangedByIsContainer = tobool(\"\")\r\n    | extend ChangedByName = System_ChangedBy\r\n    | extend ChangedByUniqueName = System_ChangedBy\r\n    | extend OneESModifiedDate = System_ChangedDate\r\n    | extend CreatedByDisplayName = System_CreatedBy\r\n    | extend CreatedById = \"\"\r\n    | extend CreatedByIsContainer = tobool(\"\")\r\n    | extend CreatedByName = System_CreatedBy\r\n    | extend CreatedByUniqueName = System_CreatedBy\r\n    | extend CreatedDate = System_CreatedDate\r\n    | extend Description = System_Description\r\n    | extend ExternalLinkCount = System_RelatedLinkCount\r\n    | extend History = System_History\r\n    | extend HyperLinkCount = tolong(\"\")\r\n    | extend IsDeleted = EtlIsDeleted\r\n    | extend IterationId = System_IterationId\r\n    | extend IterationPath = System_IterationPath\r\n    | extend NodeName = \"\"\r\n    | extend PersonId = tolong(\"\")\r\n    | extend Reason = System_Reason\r\n    | extend RelatedLinkCount = System_RelatedLinkCount\r\n    | extend RevisedDate = System_ChangedDate\r\n    | extend State = System_State\r\n    | extend Watermark = tolong(\"\")\r\n    | extend Data = Data\r\n    | extend EtlIngestDate = EtlIngestDate\r\n    | extend EtlProcessDate = EtlProcessDate\r\n    | extend SQLizerPartitionIndex = SQLizerPartitionIndex;\r\nlet deletedItems = union cluster('1es').database(\"VSTSAnalytics\").WorkItemV2, OneEsMicrosoftWorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | project OrganizationName, ExternalId, IsDeleted;\r\nlet oneEsV1workitems = union cluster('1es').database('VSTSAnalytics').WorkItemV2, OneEsMicrosoftWorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    |extend OneESTitle=Title\r\n    |extend OneESAssignedTo=AssignedToName\r\n    |extend OneESModifiedDate=ChangedDate;\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]')\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and ((IcmModifiedDate == OneESModifiedDate or ModifiedDateDiff<=time(1h)) or isempty(OneESModifiedDate) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 1 or IsOnPrem == 1) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PPE","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/31":{"id":"$fn_icmclusterlb/1/31","entityType":"Function","body":"{\r\n    let LookbackTimePeriod = ago(365d);\r\n    let raw_data =GetPowerOutageSymptomsDev(startDate, endDate);\r\n    let weight = GetPowerOutageSymptomsDev(LookbackTimePeriod, now())\r\n        | where Severity in (2,3)\r\n        | summarize score=count() by MonitorId, Severity\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity))\r\n        | summarize SeveritySet=makeset(Severity), \r\n                UniqueMonitorCount=dcount(MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity), \r\n                OriginatingTenants=makeset(OriginatingTenantName), \r\n                IncidentIds=makeset(IncidentId),\r\n                HitCount = makeset(HitCount),\r\n                HitCountTotal = sum(HitCount),\r\n                HitCountAvg = avg(HitCount) by dc;\r\n    processed\r\n        | mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n        | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        | summarize Score=sum(1.0/score) by dc\r\n        | join processed on dc\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Prod","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/32":{"id":"$fn_icmclusterlb/1/32","entityType":"Function","body":"{\r\n    let IncidentPool = IncidentsSnapshot(true)\r\n        | where SourceCreateDate > startTime and SourceCreateDate < endTime;\r\n    let XstoreIncidents = IncidentPool\r\n        | where MonitorId in (\"PartitionNotLoaded\",\r\n                      \"UnloadedPartitionCountPercentage\", \r\n                      \"TsRestartsWithActivePartitions\", \r\n                      \"CrashingPartitionIsolated\", \r\n                      \"PartitionLoadFailed\",\r\n                      \"DataUnavailable\",\r\n                      \"DataUnavailableForLongDuration\",\r\n                      \"NumberOfSecodaryRolesForQuorum\",\r\n                      \"Smoke Test Failure\")\r\n        | union ( IncidentPool\r\n        | where SourceCreatedBy == \"CN=publisherclientcertificate.acm.api.icm.msftcloudes.com\" and Title contains \"virtual\" and Title !contains \"unreachable\"\r\n        | extend MonitorId = \"VmReboot\")\r\n        | extend scale_unit = extract(\"(.*\\\\-)?([a-z0-9]+)\", 2, tolower(OccurringDeviceName))\r\n        | where scale_unit !contains \"ste\" and OccurringDeviceName !contains \"rdstorage\" and scale_unit !contains \"stage\" \r\n        | extend dc = extract(\"([a-z0-9]+)(prd|azf).*\", 1, scale_unit);\r\n    let AppServiceIncidents = IncidentPool\r\n        | where Title contains \"Runtime_ColdSite\" \r\n         or Title contains \"Runtime_HotSite\"\r\n         or Title contains \"Linux_HotSite\"\r\n         or Title contains \"Linux_ColdSite\"\r\n         or Title contains \"Pingdom waws\"\r\n        | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", \"\")))))\r\n        | extend scale_unit = tolower(OccurringDeviceName)\r\n        | extend dc = extract(\"[a-z]{2}ws-prod-([a-z0-9]+)-.*\", 1, scale_unit)\r\n        | union ( IncidentPool\r\n            | where Title contains \"Canary Sites Three Percent\"\r\n            | extend scale_unit = iff(isempty(OccurringServiceInstanceId), extract(\"([a-z]{2}ws-prod-[0-9a-z]+-[0-9]+).*\", 1, OccurringDeviceName), extract(\"([a-z]{2}ws-prod-[0-9a-z]+-[0-9]+).*\", 1, OccurringServiceInstanceId))\r\n            | where scale_unit !contains \"msftint\"\n            | extend MonitorId = \"CanarySitesThreePercent\"\n            | extend dc = extract(\"[a-z]{2}ws-prod-([a-z0-9]+)-.*\", 1, scale_unit)); \r\n    let OtherIncidents = IncidentPool\r\n        | where MonitorId in (\"Cluster VIP 443 Reachability\",\r\n                      \"NsmPrimaryHeartBeatMonitor\",\r\n                      \"MDM Heartbeat - Cluster\",\r\n                      \"NodeIsolationEventPublic\",\r\n                      \"DS Heartbeat per Tenant\",\r\n                      \"PrimaryTracker_Fabricator\",\r\n                      \"VNetPingmeshPingCountPerCluster\")\r\n        | extend scale_unit = extract(\"([^_]*)\",1,tolower(OccurringDeviceName))\r\n        | union ( IncidentPool\r\n            | where MonitorId == \"IaaSNodeFailureOngoing\" \r\n            | extend scale_unit = tostring(split(tolower(OccurringDeviceName), \"_\")[0]))\n        | union ( IncidentPool\n            | where MonitorId == \"CanaryAutoEscalationMonitor\"\r\n            | extend scale_unit = extract(\".* first impacted cluster: ([a-z0-9]+):.*\", 1, tolower(Title)))\n        | where scale_unit !contains \"stage\" and isnotempty(scale_unit)\n        | extend dc = extract(\"([a-z0-9]+)(prd|azf).*\", 1, scale_unit);\r\n    let DCLevelIncidents = IncidentPool\r\n        | where MonitorId in (\"IaaSFailureSpike\", \r\n                      \"IaaSDataCenterFailureOngoing\",\r\n                      \"75PercentT1down \")  \r\n        | union (\r\n            IncidentPool\r\n                | where RoutingId == \"ArgusProdAlert\"\r\n                | extend MonitorId = \"ArgusProdAlert\")\r\n        | extend dc = tolower(OccurringDatacenter)\r\n        | union (\r\n            IncidentPool\r\n                | where MonitorId in ( \"DevicesWithFaultyPSU\", \"TORDownAnalysis (AzureAll)\")\r\n                | extend dc = extract(\"([a-z0-9]+)(-|sch).*\", 1, tolower(OccurringDeviceName))\r\n        );\r\n    let allIncidents = union \r\n        XstoreIncidents,\r\n        AppServiceIncidents,\r\n        OtherIncidents,\r\n        DCLevelIncidents;\r\n    allIncidents\n    | where OccurringEnvironment != \"TEST\" and isnotempty(dc)\r\n    | project IncidentId, SourceCreateDate, MonitorId, Severity, scale_unit, dc, Title, OriginatingTenantName, HitCount\r\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Prod","functionKind":"UnknownFunction","name":"GetPowerOutageSymptomsDev","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/33":{"id":"$fn_icmclusterlb/1/33","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentBugs\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet OneEsMicrosoftWorkItem = cluster('1es').database('microsoft').WorkItem\r\n    | extend OrganizationName = OrganizationName\r\n    | extend WorkItemId = System_Id\r\n    | extend Rev = System_Rev\r\n    | extend WorkItemType = System_WorkItemType\r\n    | extend TeamProject = System_TeamProject\r\n    | extend Title = System_Title\r\n    | extend AreaId = System_AreaId\r\n    | extend AreaPath = System_AreaPath\r\n    | extend AssignedToDisplayName = System_AssignedTo\r\n    | extend AssignedToId = \"\"\r\n    | extend AssignedToIsContainer = tobool(\"\")\r\n    | extend AssignedToName = System_AssignedTo\r\n    | extend AssignedToUniqueName = System_AssignedTo\r\n    | extend AttachedFileCount = tolong(\"\")\r\n    | extend AuthorizedAsDisplayName = \"\"\r\n    | extend AuthorizedAsId = \"\"\r\n    | extend AuthorizedAsIsContainer = tobool(\"\")\r\n    | extend AuthorizedAsUniqueName = \"\"\r\n    | extend AuthorizedDate = todatetime(\"\")\r\n    | extend BoardColumn = \"\"\r\n    | extend BoardColumnDone = tobool(\"\")\r\n    | extend BoardLane = \"\"\r\n    | extend ChangedByDisplayName = System_ChangedBy\r\n    | extend ChangedById = \"\"\r\n    | extend ChangedByIsContainer = tobool(\"\")\r\n    | extend ChangedByName = System_ChangedBy\r\n    | extend ChangedByUniqueName = System_ChangedBy\r\n    | extend OneESModifiedDate = System_ChangedDate\r\n    | extend ChangedDate = System_ChangedDate\r\n    | extend CreatedByDisplayName = System_CreatedBy\r\n    | extend CreatedById = \"\"\r\n    | extend CreatedByIsContainer = tobool(\"\")\r\n    | extend CreatedByName = System_CreatedBy\r\n    | extend CreatedByUniqueName = System_CreatedBy\r\n    | extend CreatedDate = System_CreatedDate\r\n    | extend Description = System_Description\r\n    | extend ExternalLinkCount = System_RelatedLinkCount\r\n    | extend History = System_History\r\n    | extend HyperLinkCount = tolong(\"\")\r\n    | extend IsDeleted = EtlIsDeleted\r\n    | extend IterationId = System_IterationId\r\n    | extend IterationPath = System_IterationPath\r\n    | extend NodeName = \"\"\r\n    | extend PersonId = tolong(\"\")\r\n    | extend Reason = System_Reason\r\n    | extend RelatedLinkCount = System_RelatedLinkCount\r\n    | extend RevisedDate = System_ChangedDate\r\n    | extend State = System_State\r\n    | extend Watermark = tolong(\"\")\r\n    | extend Data = Data\r\n    | extend EtlIngestDate = todatetime(EtlIngestDate)\r\n    | extend EtlProcessDate = EtlProcessDate\r\n    | extend SQLizerPartitionIndex = SQLizerPartitionIndex;\r\n// OneEsMicrosoftWorkItem\r\n// | where WorkItemId == 190510 and OrganizationName contains_cs \"microsoft.visualstudio.com\"\r\n// \r\nlet deletedItems = union cluster('1es').database(\"VSTSAnalytics\").WorkItemV2, OneEsMicrosoftWorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | project OrganizationName, ExternalId, IsDeleted;\r\nlet oneEsV1workitems = union cluster('1es').database('VSTSAnalytics').WorkItemV2, OneEsMicrosoftWorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    |extend OneESTitle=Title\r\n    |extend OneESAssignedTo=AssignedToName\r\n    |extend OneESModifiedDate=ChangedDate;\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 1 or IsOnPrem == 1) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff,\r\n    modifiedDateMatch;\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PROD1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/34":{"id":"$fn_icmclusterlb/1/34","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentBugs\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet OneEsMicrosoftWorkItem = cluster('1es').database('microsoft').WorkItem\r\n    | extend OrganizationName = OrganizationName\r\n    | extend WorkItemId = System_Id\r\n    | extend Rev = System_Rev\r\n    | extend WorkItemType = System_WorkItemType\r\n    | extend TeamProject = System_TeamProject\r\n    | extend Title = System_Title\r\n    | extend AreaId = System_AreaId\r\n    | extend AreaPath = System_AreaPath\r\n    | extend AssignedToDisplayName = System_AssignedTo\r\n    | extend AssignedToId = \"\"\r\n    | extend AssignedToIsContainer = tobool(\"\")\r\n    | extend AssignedToName = System_AssignedTo\r\n    | extend AssignedToUniqueName = System_AssignedTo\r\n    | extend AttachedFileCount = tolong(\"\")\r\n    | extend AuthorizedAsDisplayName = \"\"\r\n    | extend AuthorizedAsId = \"\"\r\n    | extend AuthorizedAsIsContainer = tobool(\"\")\r\n    | extend AuthorizedAsUniqueName = \"\"\r\n    | extend AuthorizedDate = todatetime(\"\")\r\n    | extend BoardColumn = \"\"\r\n    | extend BoardColumnDone = tobool(\"\")\r\n    | extend BoardLane = \"\"\r\n    | extend ChangedByDisplayName = System_ChangedBy\r\n    | extend ChangedById = \"\"\r\n    | extend ChangedByIsContainer = tobool(\"\")\r\n    | extend ChangedByName = System_ChangedBy\r\n    | extend ChangedByUniqueName = System_ChangedBy\r\n    | extend OneESModifiedDate = System_ChangedDate\r\n    | extend ChangedDate = System_ChangedDate\r\n    | extend CreatedByDisplayName = System_CreatedBy\r\n    | extend CreatedById = \"\"\r\n    | extend CreatedByIsContainer = tobool(\"\")\r\n    | extend CreatedByName = System_CreatedBy\r\n    | extend CreatedByUniqueName = System_CreatedBy\r\n    | extend CreatedDate = System_CreatedDate\r\n    | extend Description = System_Description\r\n    | extend ExternalLinkCount = System_RelatedLinkCount\r\n    | extend History = System_History\r\n    | extend HyperLinkCount = tolong(\"\")\r\n    | extend IsDeleted = EtlIsDeleted\r\n    | extend IterationId = System_IterationId\r\n    | extend IterationPath = System_IterationPath\r\n    | extend NodeName = \"\"\r\n    | extend PersonId = tolong(\"\")\r\n    | extend Reason = System_Reason\r\n    | extend RelatedLinkCount = System_RelatedLinkCount\r\n    | extend RevisedDate = System_ChangedDate\r\n    | extend State = System_State\r\n    | extend Watermark = tolong(\"\")\r\n    | extend Data = Data\r\n    | extend EtlIngestDate = todatetime(EtlIngestDate)\r\n    | extend EtlProcessDate = EtlProcessDate\r\n    | extend SQLizerPartitionIndex = SQLizerPartitionIndex;\r\n// OneEsMicrosoftWorkItem\r\n// | where WorkItemId == 190510 and OrganizationName contains_cs \"microsoft.visualstudio.com\"\r\n// \r\nlet deletedItems = union cluster('1es').database(\"VSTSAnalytics\").WorkItemV2, OneEsMicrosoftWorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneEs = 1\r\n    | project OrganizationName, ExternalId, IsDeleted, DeletedFromOneEs;\r\nlet oneEsV1workitems = union cluster('1es').database('VSTSAnalytics').WorkItemV2, OneEsMicrosoftWorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    |extend OneESTitle=Title\r\n    |extend OneESAssignedTo=AssignedToName\r\n    |extend OneESModifiedDate=ChangedDate\r\n    | extend DeletedFromOneEs = 0;\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromTfs != true or DeletedFromOneEs != 1\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 1 or IsOnPrem == 1) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff,\r\n    modifiedDateMatch\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PROD2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/35":{"id":"$fn_icmclusterlb/1/35","entityType":"Function","body":"{\r\n    let icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentBugs\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IncidentId == 116852266 and ExternalId == 4545750\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet OneEsMicrosoftWorkItem = cluster('1es').database('microsoft').WorkItem\r\n    | extend OrganizationName = OrganizationName\r\n    | extend WorkItemId = System_Id\r\n    | extend Rev = System_Rev\r\n    | extend WorkItemType = System_WorkItemType\r\n    | extend TeamProject = System_TeamProject\r\n    | extend Title = System_Title\r\n    | extend AreaId = System_AreaId\r\n    | extend AreaPath = System_AreaPath\r\n    | extend AssignedToDisplayName = System_AssignedTo\r\n    | extend AssignedToId = \"\"\r\n    | extend AssignedToIsContainer = tobool(\"\")\r\n    | extend AssignedToName = System_AssignedTo\r\n    | extend AssignedToUniqueName = System_AssignedTo\r\n    | extend AttachedFileCount = tolong(\"\")\r\n    | extend AuthorizedAsDisplayName = \"\"\r\n    | extend AuthorizedAsId = \"\"\r\n    | extend AuthorizedAsIsContainer = tobool(\"\")\r\n    | extend AuthorizedAsUniqueName = \"\"\r\n    | extend AuthorizedDate = todatetime(\"\")\r\n    | extend BoardColumn = \"\"\r\n    | extend BoardColumnDone = tobool(\"\")\r\n    | extend BoardLane = \"\"\r\n    | extend ChangedByDisplayName = System_ChangedBy\r\n    | extend ChangedById = \"\"\r\n    | extend ChangedByIsContainer = tobool(\"\")\r\n    | extend ChangedByName = System_ChangedBy\r\n    | extend ChangedByUniqueName = System_ChangedBy\r\n    | extend OneESModifiedDate = System_ChangedDate\r\n    | extend ChangedDate = System_ChangedDate\r\n    | extend CreatedByDisplayName = System_CreatedBy\r\n    | extend CreatedById = \"\"\r\n    | extend CreatedByIsContainer = tobool(\"\")\r\n    | extend CreatedByName = System_CreatedBy\r\n    | extend CreatedByUniqueName = System_CreatedBy\r\n    | extend CreatedDate = System_CreatedDate\r\n    | extend Description = System_Description\r\n    | extend ExternalLinkCount = System_RelatedLinkCount\r\n    | extend History = System_History\r\n    | extend HyperLinkCount = tolong(\"\")\r\n    | extend IsDeleted = EtlIsDeleted\r\n    | extend IterationId = System_IterationId\r\n    | extend IterationPath = System_IterationPath\r\n    | extend NodeName = \"\"\r\n    | extend PersonId = tolong(\"\")\r\n    | extend Reason = System_Reason\r\n    | extend RelatedLinkCount = System_RelatedLinkCount\r\n    | extend RevisedDate = System_ChangedDate\r\n    | extend State = System_State\r\n    | extend Watermark = tolong(\"\")\r\n    | extend Data = Data\r\n    | extend EtlIngestDate = todatetime(EtlIngestDate)\r\n    | extend EtlProcessDate = EtlProcessDate\r\n    | extend SQLizerPartitionIndex = SQLizerPartitionIndex;\r\n// OneEsMicrosoftWorkItem\r\n// | where WorkItemId == 190510 and OrganizationName contains_cs \"microsoft.visualstudio.com\"\r\n// \r\nlet deletedItems = union cluster('1es').database(\"VSTSAnalytics\").WorkItemV2, OneEsMicrosoftWorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneEs = 1\r\n    | project OrganizationName, ExternalId, IsDeleted, DeletedFromOneEs;\r\nlet oneEsV1workitems = union cluster('1es').database('VSTSAnalytics').WorkItemV2, OneEsMicrosoftWorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    |extend OneESTitle=Title\r\n    |extend OneESAssignedTo=AssignedToName\r\n    |extend OneESModifiedDate=ChangedDate\r\n    | extend DeletedFromOneEs = 0;\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromTfs != true or DeletedFromOneEs != 1\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_Test2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/36":{"id":"$fn_icmclusterlb/1/36","entityType":"Function","body":"{\r\n    // Detect Multi Tenant Outages\r\n    GetPowerOutageFeatures(startDate, endDate)\r\n        | where UniqueMonitorCount > 3 \r\n            and HasSev2==true\r\n            and array_length(OriginatingTenants) > 1\r\n }","docstring":"Detect Multi-Tenant Outages","folder":"IcMML/PowerLoss/Prod","functionKind":"UnknownFunction","name":"DetectMultiTenantOutages","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/37":{"id":"$fn_icmclusterlb/1/37","entityType":"Function","body":"{\r\n// from 19 monitors\r\n// working date range: 6/2/17 - 3-29/19\r\n// 51797 record\r\n// 166 dc\r\n// 8 OriginatingTenantName\r\n// 116 OwningTeamName\r\n// 28 OwningTenantName\r\n// 4391 scale_unit\r\n// Title clusters:  Canary Sites, MDM Heartbeat, CrashingPartitionIsolated, PartitionLoadFailed, TsRestartsWithActivePartitions, DS Heartbeat per Tenant, VM critical failures, HeartBeatMonitor, Data unavailable alert, IaaSDataCenterFailureOngoing, NodeIsolationEventPublic, Partition does not seem to have been loaded, UnloadedPartitionCountPercentage, TCP Ping, ColdSite, HotSite\r\n// in which we categorize/cluster into (9+1 groups): Canary Sites, heartbeat, partition, VM critical, virtual machine, data unavailable, DataCenterFailure, TCP ping, hotsite, coldside\r\n//let startDate = ago(5d);\r\n//let endDate = now();\r\nlet LookbackTimePeriod = ago(365d);\r\nlet raw_data = cluster('Icmprod').database('IcmDataWarehouse').GetPowerOutageSymptoms_Dev(startTime, endTime);\r\nlet weight = GetPowerOutageSymptoms_Dev(LookbackTimePeriod, now())\r\n    | where Severity in (2,3)\r\n    | summarize score=count() by MonitorId, Severity\r\n    | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\nlet processed = raw_data\r\n   | join kind=leftouter (NotificationActions | project IncidentId, ServiceType, Status | where ServiceType =~ \"VOICE\" and Status =~ \"INPROGRESS\" ) on IncidentId\r\n   | summarize any(*) by IncidentId\r\n    | extend MonitorBySeverity = strcat(any_MonitorId, tostring(any_Severity))\r\n    | summarize SeveritySet=makeset(any_Severity), \r\n                VoiceCall = countif(isnotempty(any_ServiceType)),\r\n                UniqueMonitorCount=dcount(any_MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(any_OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(any_HitCount, 1000),\r\n                HitCountTotal = sum(any_HitCount),\r\n                HitCountAvg = avg(any_HitCount) by any_dc;\r\nprocessed\r\n    | mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n    | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n    | summarize Score=sum(1.0/score) by any_dc\r\n    | join processed on any_dc\r\n    | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n    | project-away SeveritySet\r\n    | extend num_incidents = array_length(IncidentIds)\r\n    | project dc = any_dc, Score, VoiceCall, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents\r\n//     | where UniqueMonitorBySeverityCount > 3 and Score > 0.01 and OnlyAppService==false and HasSev2==true\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPowerOutageFeaturesUnfilterred","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/38":{"id":"$fn_icmclusterlb/1/38","entityType":"Function","body":"{\r\n    // Detect Multi Tenant Outages Test\r\n    cluster('icmtest').database('IcmDataWarehouseTest').PowerLossOutage\r\n    | take 1\r\n    | extend dc = \"test\"\r\n }","docstring":"Detect Multi-Tenant Outages","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"DetectMultiTenantOutagesTest","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/39":{"id":"$fn_icmclusterlb/1/39","entityType":"Function","body":"{\r\n GetPowerOutageSymptomsDev(datetime(2019-05-01), datetime(2019-05-01 01:00:00))\r\n | take 1\r\n | extend IncidentId = \"123468545\"\r\n | extend dc = \"test\"\r\n}","docstring":"power outage related incidents","folder":"IcMML","functionKind":"UnknownFunction","name":"GetPowerOutageSymptomsTest","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/40":{"id":"$fn_icmclusterlb/1/40","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentBugs\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet deletedItems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneEs = 1\r\n    | project OrganizationName, ExternalId, IsDeleted, DeletedFromOneEs;\r\nlet oneEsV1workitems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    | extend OneESTitle=Title\r\n    | extend OneESAssignedTo=AssignedToName\r\n    | extend OneESModifiedDate=ChangedDate\r\n    | extend DeletedFromOneEs = 0\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"));\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromTfs != true or DeletedFromOneEs != 1\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 1 or IsOnPrem == 1) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff,\r\n    modifiedDateMatch\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PROD3","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/41":{"id":"$fn_icmclusterlb/1/41","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshot(true) | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentBugs\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle IsTombstoned = arg_min(IsTombstoned, *) by IncidentId, ExternalId_Temp, bin(ModifiedDate, 1tick)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs;\r\nlet deletedItems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneEs = 1\r\n    | project OrganizationName, ExternalId, IsDeleted, DeletedFromOneEs;\r\nlet oneEsV1workitems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    | extend OneESTitle=Title\r\n    | extend OneESAssignedTo=AssignedToName\r\n    | extend OneESModifiedDate=ChangedDate\r\n    | extend DeletedFromOneEs = 0\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"));\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshot(true) \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromTfs != true or DeletedFromOneEs != 1\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n    // all columns from incident bugs table\r\n    IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    // exclude columns\r\n    EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 1 or IsOnPrem == 1) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff,\r\n    modifiedDateMatch\r\n}","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PROD4","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/42":{"id":"$fn_icmclusterlb/1/42","entityType":"Function","body":"{\r\n    let ids=\r\n    range x from 1 to 1 step 1\r\n    | project IncidentId=parse_json(similarIncidentIds)\r\n    | mvexpand IncidentId\r\n    | project IncidentId = tolong(IncidentId);\r\n    let incidentIds=materialize(\r\n    IncidentsSnapshotV2()\r\n    | where IncidentId in (ids) \r\n    | project IncidentId, CreateDate, OccurringEnvironment, OccurringDatacenter, OccurringServiceInstanceId, OwningTenantName,  OwningTenantId, OwningTeamId, Severity, Status, Title, ReproSteps, ResolveDate, ResolvedBy, Mitigation, MitigatedBy, MitigateDate,  OwningContactId, IsNoise, IsSecurityRisk, IsCustomerImpacting, TsgId, HowFixed, Confidence='Low', RootCauseId\r\n    | where Status in ('MITIGATED', 'RESOLVED'));  \r\n    let rootcauseData = RootCauses | where RootCauseId in (toscalar(incidentIds | summarize makeset(RootCauseId))) \r\n    | summarize arg_max(Lens_IngestionTime, Title, Description, Category, Mitigation) by RootCauseId \r\n    | project RootCauseId, RootCauseTitle = Title, RootCauseDescription = Description, RootCauseCategory = Category, RootCauseMitigation = Mitigation; \r\n    incidentIds | join kind = leftouter(rootcauseData) on $left.RootCauseId == $right.RootCauseId \r\n    | project IncidentId, CreateDate, OccurringEnvironment, OccurringDatacenter, OccurringServiceInstanceId, OwningTenantName,  OwningTenantId, OwningTeamId, Severity, Status, Title, ReproSteps, ResolveDate, ResolvedBy, Mitigation, MitigatedBy, MitigateDate,  OwningContactId, IsNoise, IsSecurityRisk, IsCustomerImpacting, TsgId, HowFixed, Confidence, RootCauseTitle, RootCauseDescription, RootCauseCategory\r\n}","docstring":"Function to get details of similar incidents","folder":"IcMML","functionKind":"UnknownFunction","name":"GetSimilarIncidentsDetails","outputColumns":[],"inputParameters":[{"name":"similarIncidentIds","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/43":{"id":"$fn_icmclusterlb/1/43","entityType":"Function","body":"{\r\n    GetIcMinerTable\r\n    | where IncidentId in (incidentIds)\r\n    | project IncidentId, Actionable\r\n}","docstring":"Data pull for IsActionable","folder":"IcMML","functionKind":"UnknownFunction","name":"GetIsActionableBatch","outputColumns":[],"inputParameters":[{"name":"incidentIds","cslType":"dynamic","type":"System.Object"}]},"$fn_icmclusterlb/1/44":{"id":"$fn_icmclusterlb/1/44","entityType":"Function","body":"{\r\n    let tenants=\r\n    Tenants \r\n    | summarize arg_max(Lens_IngestionTime, TenantName) by TenantId;    \r\n    Teams\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId\r\n    | join  kind=leftouter  (\r\n        tenants\r\n    ) on $left.TenantId == $right.TenantId\r\n    | extend TenantName=iif(isnotempty(TenantName1), TenantName1, TenantName) \r\n    | project-away Lens_IngestionTime1, TenantId1, TenantName1\r\n}","docstring":"Get data for teamsnapshot(INTERNAL PURPOSE ONLY) table. Do not take dependency on this function.","folder":"IcMSnapshot","functionKind":"UnknownFunction","name":"GetTeamsSnapshotData","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/45":{"id":"$fn_icmclusterlb/1/45","entityType":"Function","body":"{\r\n    let IncidentPool = IncidentsSnapshot(true)\r\n        | where SourceCreateDate > startTime and SourceCreateDate < endTime;\r\n    let dc_list = dynamic(['AMZ07', 'SYD23', 'CBN06', 'CBN07', 'DUB07', 'TYO21', 'AMZ06', \r\n                       'DUB11', 'KUL01', 'CDM03', 'SIN20', 'AMS07', 'SYD21', 'MEL20', \r\n                       'CDM06', 'CBY07', 'CHI21', 'MEL21', 'AUH20', 'AMS06', 'MWH05', \r\n                       'DUB21', 'JNB20', 'MRS20', 'CPT20', 'JNB21', 'STG03', 'DUB09', \r\n                       'AMS21', 'OSA20', 'DUB10', 'MWH01', 'OSA22', 'MEL23', 'SAT20', \r\n                       'CYS01', 'SYD25', 'AMS22', 'DSM07', 'PHD20', 'GVA20', 'RED01', \r\n                       'GRN01', 'SYD24', 'CBR22', 'FRA21', 'CPQ21', 'SAT12', 'SIN22', \r\n                       'FOR01', 'RIO01', 'RIO20', 'BLZ24', 'BNZ14', 'DSM09', 'BNZ11', \r\n                       'SJC21', 'PHX10', 'MRS21', 'AMS12', 'GVX21', 'MMA01', 'SIN23', \r\n                       'PAR24', 'PNQ20', 'OSL20', 'PUS01', 'CBR20', 'SAT13', 'DUB24', \r\n                       'YTO22', 'SCL01', 'SYD22', 'BNZ13', 'STG01', 'TYO31', 'STG02', \r\n                       'CDM09', 'YTO23', 'SJC22', 'ZRH21', 'ZRH22', 'CYD01', 'GVX11', \r\n                       'LON23', 'AMS08', 'MZZ20', 'CYS05', 'MNZ21', 'AMS09', 'SAT10', \r\n                       'PNQ21', 'FRA23', 'ZRH20', 'SVG20', 'SYD26', 'SAT11', 'CHI22', \r\n                       'BNZ10', 'CBN09', 'CBN14', 'PHX70', 'AMS23', 'DSM10', 'GVX01', \r\n                       'PHX11', 'NAG20', 'DSM06', 'HKG20', 'CDM05', 'CBZ07', 'CBR21', \r\n                       'YTO21', 'PAR20', 'PAR21', 'PHX20', 'CYG01', 'PHD21', 'DUB08', \r\n                       'AMS20', 'MNZ20', 'CBZ06', 'DSM08', 'LON22', 'LON24', 'SAT09', \r\n                       'PUS04', 'BER30', 'CPQ23', 'CYS06', 'FRA22', 'CPQ22', 'SJC20', \r\n                       'SIN06', 'BLZ23', 'BLZ22', 'BLZ21', 'CDZ08', 'DUB12', 'AMS11', \r\n                       'OSL21', 'OSL22', 'PAR23', 'JGA20', 'DUB20', 'HEL01', 'TYO22', \r\n                       'TYO20', 'CYS02', 'PAR22', 'JNB22', 'SHA20', 'BJS20', 'CBN04', \r\n                       'MWZ02', 'MWH02', 'CYS03', 'SEL21', 'DXB20', 'PHX21', 'HKG21', \r\n                       'MWH04', 'MWH03', 'DSZ08', 'OSA21', 'CPQ20', 'BER20', 'CBR23', \r\n                       'PNQ22', 'TYO23', 'SIN21', 'SYD27', 'CPQ24', 'CBN10', 'CBN13', \r\n                       'CDM08', 'BNZ12', 'PHX80', 'AMS24', 'LON25', 'BY20', 'SHA', \r\n                       'SH3', 'BD3', 'SN6', 'BLA', 'SN2', 'DB5', 'HK2', 'CO4', 'SG2', \r\n                       'BLU', 'DZ5', 'SG1', 'BY3', 'BY5', 'SN8', 'BL7', 'BN3', 'BJ1', \r\n                       'CH4', 'BL4', 'BN2', 'SN4', 'MM1', 'BD8', 'CQ1', 'AM4', 'SN1', \r\n                       'BN6', 'BN8', 'SN3', 'BN7', 'SG3', 'SD5', 'CO2', 'DZ6', 'SN7', \r\n                       'DB3', 'DB4', 'DM2', 'AM2', 'BN1', 'CH3', 'CH2', 'BL5', 'AM3', \r\n                       'CH1', 'CW1', 'DM1', 'DM5', 'KW1', 'BZ7', 'PN1', 'SY3', 'SE1', \r\n                       'TY1', 'CQ2', 'BL6', 'AM1', 'DM3', 'DB6', 'LN1', 'CHA', 'PS1', \r\n                       'HKN', 'MA1', 'BYC', 'BL2', 'CO5', 'BY4', 'BN4', 'SH2', 'DD3', \r\n                       'BYB', 'AM5', 'VIE', 'BY2', 'DM4', 'CO1', 'BZ6', 'BL3', 'YQ1', \r\n                       'BG8', 'CO3', 'LO1', 'BY1', 'BJB', 'OS1', 'OS2', 'BN9', 'ML1', \r\n                       'BYA', 'YT1', 'SN5', 'CY4', 'FR1', 'LG1', 'BM1', 'MW1', 'CY3', 'YTB', 'AM0', 'CY2', 'MN2', 'SIN']); // manually add 'BM1', 'MW1', 'CY3', 'YTB', 'AM0', 'CY2', 'MN2'; \r\n    let dcregex = tolower(array_strcat(dc_list, '|')); \r\n    let correlationRegex = tolower(strcat('[\\\\-(Location)(PROD)]{0,1}(',dcregex,')[a-z0-9]{0,1}($|PRD|PROD|ODC|Adams|Whitney|_|CRM|phx|Baker|Crater|xphx|POD|\\\\d{3}_|\\\\-|Redwood|EDGE|Denali|\\\\dR\\\\d|Zion|Stage|YL1|AzF|Helens|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|Hood|\\\\dB\\\\d|\\\\.)'));\r\n    let DeviceNameMonitors = IncidentPool\r\n        | where MonitorId in (\"PartitionNotLoaded\",\r\n                      \"UnloadedPartitionCountPercentage\", \r\n                      \"TsRestartsWithActivePartitions\", \r\n                      \"CrashingPartitionIsolated\", \r\n                      \"PartitionLoadFailed\",\r\n                      \"DataUnavailable\",\r\n                      \"DataUnavailableForLongDuration\",\r\n                      \"NumberOfSecodaryRolesForQuorum\",\r\n                      \"Smoke Test Failure\",\r\n                      \"Cluster VIP 443 Reachability\",\r\n                      \"NsmPrimaryHeartBeatMonitor\",\r\n                      \"MDM Heartbeat - Cluster\",\r\n                      \"NodeIsolationEventPublic\",\r\n                      \"DS Heartbeat per Tenant\",\r\n                      \"PrimaryTracker_Fabricator\",\r\n                      \"VNetPingmeshPingCountPerCluster\",\r\n                      \"IaaSNodeFailureOngoing\",\r\n                      \"DevicesWithFaultyPSU\",\r\n                      \"TORDownAnalysis (AzureAll)\",\r\n                      \"UpgradeException_UDFD\",\r\n                      \"MrUnhealthyMonitor\",\r\n                      \"UpgradeException\",\r\n                      \"XStoreVmBlackoutsAnomalyXio\",\r\n                      \"DetectedRegressionForNMAgent\", \r\n                      \"DetectedRegressionForLM\", \r\n                      \"MissingInterClusterOutCanaryMonitor\",\r\n                      \"AtleastOnePrimary\",\r\n                      \"TenantAnomalousLatencySeparationOfDistributionsNRT\",\r\n                      \"XDS Connectivity Alert\",\r\n                      \"NMAgent-DS sync failure per node\",\r\n                      \"InstanceHeartBeatMonitor\",\r\n                      \"XSSE BadEnNodesIncidents\",\r\n                      \"FabricConnectivityMonitor\",\r\n                      \"DS Tenant Heartbeat\",\r\n                      \"RDSReachability\",\r\n                      \"HwProxyFailure\",\r\n                      \"Role Availability\",\r\n                      \"ServerDown\",\r\n                      \"ServiceBusRunnerMonitor\",\r\n                      \"StandardBrokerApp Application Unhealthy Monitor\",\r\n                      \"GatewayApp Application Unhealthy Monitor\",\r\n                      \"AllRunnersUnhealthyMonitor\",\r\n                      \"Service Healing Alarm\",\r\n                      \"Service Healing Disabled\",\r\n                      \"SlbV1Monitor\")\r\n        | extend dc_column = tolower(OccurringDeviceName)\r\n    ;\r\n    let DCMonitors = IncidentPool\r\n        | where MonitorId in (\"InterfaceFlapping\", \r\n                      \"InterfaceErrors\", \r\n                      \"InterfaceDown_HighSeverity\",\r\n                      \"PowerSupply_Failed\",\r\n                      \"IaaSFailureSpike\", \r\n                      \"IaaSDataCenterFailureOngoing\",\r\n                      \"75PercentT1down \")\r\n        | extend dc_column = tolower(OccurringDatacenter)\r\n    ;\r\n    let CorrelationIdMonitors = IncidentPool\r\n        | where MonitorId in (\"WAWSCanaryAlert\")\r\n        | extend dc_column = tolower(CorrelationId)\r\n    ;\r\n    let WebAppsMonitors = IncidentPool\r\n        | where Title contains \"Runtime_ColdSite\" \r\n            or Title contains \"Runtime_HotSite\"\r\n            or Title contains \"Linux_HotSite\"\r\n            or Title contains \"Linux_ColdSite\"\r\n             or Title contains \"Pingdom waws\"\r\n        | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", \"\")))))\r\n        | extend dc = tolower(OccurringDeviceName)\r\n    ;\r\n    let OtherMonitors = IncidentPool\r\n        | where MonitorId  == \"CanaryAutoEscalationMonitor\"\r\n        | extend dc_column = tolower(Title)\r\n        | union (\r\n        IncidentPool\r\n            | where RoutingId  == \"ArgusProdAlert\"\r\n            | extend MonitorId = \"ArgusProdAlert\"\r\n            | extend dc_column = tolower(OccurringDatacenter)\r\n        )\r\n    ;\r\n    let allIncidents = union \r\n        DeviceNameMonitors,\r\n        DCMonitors,\r\n        CorrelationIdMonitors,\r\n        OtherMonitors,\r\n        WebAppsMonitors;\r\n    allIncidents\r\n    | extend dc = extract(correlationRegex, 1, dc_column)\r\n    | where OccurringEnvironment != \"TEST\" and isnotempty(dc) // and OccurringEnvironment != \"PPE\" \r\n    | project IncidentId, SourceCreateDate, MonitorId, Severity, dc, Title, OriginatingTenantName, HitCount\r\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Dev","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms_Dev","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/46":{"id":"$fn_icmclusterlb/1/46","entityType":"Function","body":"{\r\n    let LookbackTimePeriod = ago(365d);\r\n    let raw_data = GetPowerOutageSymptoms_Dev(startDate, endDate);\r\n    let weight = GetPowerOutageSymptoms_Dev(LookbackTimePeriod, now())\r\n        | where Severity in (2,3)\r\n        | summarize score=count() by MonitorId, Severity\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | join kind=leftouter (NotificationActions | project IncidentId, ServiceType, Status | where ServiceType =~ \"VOICE\" and Status !in~ (\"SKIPPED\", \"NONE\", \"FILTERED\", \"DEFERRED\") ) on IncidentId\r\n        | summarize any(*) by IncidentId\r\n        | extend MonitorBySeverity = strcat(any_MonitorId, tostring(any_Severity))\r\n        | summarize SeveritySet=makeset(any_Severity), \r\n                VoiceCall = countif(isnotempty(any_ServiceType)),\r\n                UniqueMonitorCount=dcount(any_MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(any_OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(any_HitCount, 1000),\r\n                HitCountTotal = sum(any_HitCount),\r\n                HitCountAvg = avg(any_HitCount) by any_dc, bin(any_SourceCreateDate, 1h);\r\n    processed\r\n        | mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n        | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        | summarize Score=sum(1.0/score) by any_dc, any_SourceCreateDate\r\n        | join processed on any_dc, any_SourceCreateDate\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n        | project dc = any_dc, Score, any_SourceCreateDate, VoiceCall, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures_Hourly_Bin","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/47":{"id":"$fn_icmclusterlb/1/47","entityType":"Function","body":"{\r\n    let LookbackTimePeriod = ago(365d);\r\n    let raw_data = GetPowerOutageSymptoms_Dev(startDate, endDate);\r\n    let weight = GetPowerOutageSymptoms_Dev(LookbackTimePeriod, now())\r\n        | where Severity in (2,3)\r\n        | summarize score=count() by MonitorId, Severity\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | join kind=leftouter (NotificationActions | project IncidentId, ServiceType, Status | where ServiceType =~ \"VOICE\" and Status !in~ (\"SKIPPED\", \"NONE\", \"FILTERED\", \"DEFERRED\") ) on IncidentId\r\n        | summarize any(*) by IncidentId\r\n        | extend MonitorBySeverity = strcat(any_MonitorId, tostring(any_Severity))\r\n        | summarize SeveritySet=makeset(any_Severity), \r\n                VoiceCall = countif(isnotempty(any_ServiceType)),\r\n                UniqueMonitorCount=dcount(any_MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(any_OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(any_HitCount, 1000),\r\n                HitCountTotal = sum(any_HitCount),\r\n                HitCountAvg = avg(any_HitCount) by any_dc;\r\n    processed\r\n        | mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n        | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        | summarize Score=sum(1.0/score) by any_dc\r\n        | join processed on any_dc\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n        | project dc = any_dc, Score, VoiceCall, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Dev","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures_Dev","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/48":{"id":"$fn_icmclusterlb/1/48","entityType":"Function","body":"{\r\n    // Detect Multi Tenant Outages\r\n    GetPowerOutageFeatures_Dev(startDate, endDate)\r\n        | where UniqueMonitorCount > 3\r\n        | where VoiceCall > 0\r\n        | where NumTenants > 1\r\n }","docstring":"Detect Multi-Tenant Outages","folder":"IcMML/PowerLoss/Dev","functionKind":"UnknownFunction","name":"DetectMultiTenantOutages_Dev","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/49":{"id":"$fn_icmclusterlb/1/49","entityType":"Function","body":"{\r\n    let LookbackTimePeriod = ago(365d);\r\n    let raw_data = GetPowerOutageSymptoms_Dev(startDate, endDate);\r\n    let weight = GetPowerOutageSymptoms_Dev(LookbackTimePeriod, now())\r\n        | where Severity in (2,3)\r\n        | summarize score=count() by MonitorId, Severity\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | join kind=leftouter (NotificationActions | project IncidentId, ServiceType, Status | where ServiceType =~ \"VOICE\" and Status !in~ (\"SKIPPED\", \"NONE\", \"FILTERED\", \"DEFERRED\") ) on IncidentId\r\n        | summarize any(*) by IncidentId\r\n        | extend MonitorBySeverity = strcat(any_MonitorId, tostring(any_Severity))\r\n        | summarize SeveritySet=makeset(any_Severity), \r\n                VoiceCall = countif(isnotempty(any_ServiceType)),\r\n                UniqueMonitorCount=dcount(any_MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(any_OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(any_HitCount, 1000),\r\n                HitCountTotal = sum(any_HitCount),\r\n                HitCountAvg = avg(any_HitCount) by any_dc;\r\n    let existing_feature = processed\r\n        | mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n        | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        | summarize Score=sum(1.0/score) by any_dc\r\n        | join processed on any_dc\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n        | project dc = any_dc, Score, VoiceCall, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents;\r\n     let new_feature = existing_feature | project dc, IncidentIds\r\n        | mv-expand IncidentIds\r\n        | extend IncidentId=tolong(IncidentIds)\r\n        | join kind=inner (IncidentsSnapshot_V1 | where CreateDate >= startofday(startDate) and CreateDate <= endofday(endDate)\r\n        //| where OwningTenantName !contains 'mcio' \r\n        | project IncidentId, Severity, OwningTenantName) on IncidentId\r\n        //| sort by Severity asc\r\n        | summarize count() by OwningTenantName, dc\r\n        | summarize minTenantDistribution=min(count_), minTenantDistributionPercent=min(count_)*1.0/sum(count_) by dc;\r\n        existing_feature\r\n| join kind=leftouter (new_feature) on dc\r\n| project dc, Score, VoiceCall, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants, HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents, minTenantDistribution, minTenantDistributionPercent;\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Dev","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures_Dev1","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/50":{"id":"$fn_icmclusterlb/1/50","entityType":"Function","body":"{\r\n    let IncidentPool = materialize(cluster(\"aceswestus2.westus2.kusto.windows.net\").database(\"IcMData\").Incidents \r\n        | where CreateDate > startTime and CreateDate <= endTime\r\n        | summarize arg_max(EventCreatedTime, *) by IncidentId);\r\n    let dc_list = dynamic(['AMZ07', 'SYD23', 'CBN06', 'CBN07', 'DUB07', 'TYO21', 'AMZ06', \r\n                       'DUB11', 'KUL01', 'CDM03', 'SIN20', 'AMS07', 'SYD21', 'MEL20', \r\n                       'CDM06', 'CBY07', 'CHI21', 'MEL21', 'AUH20', 'AMS06', 'MWH05', \r\n                       'DUB21', 'JNB20', 'MRS20', 'CPT20', 'JNB21', 'STG03', 'DUB09', \r\n                       'AMS21', 'OSA20', 'DUB10', 'MWH01', 'OSA22', 'MEL23', 'SAT20', \r\n                       'CYS01', 'SYD25', 'AMS22', 'DSM07', 'PHD20', 'GVA20', 'RED01', \r\n                       'GRN01', 'SYD24', 'CBR22', 'FRA21', 'CPQ21', 'SAT12', 'SIN22', \r\n                       'FOR01', 'RIO01', 'RIO20', 'BLZ24', 'BNZ14', 'DSM09', 'BNZ11', \r\n                       'SJC21', 'PHX10', 'MRS21', 'AMS12', 'GVX21', 'MMA01', 'SIN23', \r\n                       'PAR24', 'PNQ20', 'OSL20', 'PUS01', 'CBR20', 'SAT13', 'DUB24', \r\n                       'YTO22', 'SCL01', 'SYD22', 'BNZ13', 'STG01', 'TYO31', 'STG02', \r\n                       'CDM09', 'YTO23', 'SJC22', 'ZRH21', 'ZRH22', 'CYD01', 'GVX11', \r\n                       'LON23', 'AMS08', 'MZZ20', 'CYS05', 'MNZ21', 'AMS09', 'SAT10', \r\n                       'PNQ21', 'FRA23', 'ZRH20', 'SVG20', 'SYD26', 'SAT11', 'CHI22', \r\n                       'BNZ10', 'CBN09', 'CBN14', 'PHX70', 'AMS23', 'DSM10', 'GVX01', \r\n                       'PHX11', 'NAG20', 'DSM06', 'HKG20', 'CDM05', 'CBZ07', 'CBR21', \r\n                       'YTO21', 'PAR20', 'PAR21', 'PHX20', 'CYG01', 'PHD21', 'DUB08', \r\n                       'AMS20', 'MNZ20', 'CBZ06', 'DSM08', 'LON22', 'LON24', 'SAT09', \r\n                       'PUS04', 'BER30', 'CPQ23', 'CYS06', 'FRA22', 'CPQ22', 'SJC20', \r\n                       'SIN06', 'BLZ23', 'BLZ22', 'BLZ21', 'CDZ08', 'DUB12', 'AMS11', \r\n                       'OSL21', 'OSL22', 'PAR23', 'JGA20', 'DUB20', 'HEL01', 'TYO22', \r\n                       'TYO20', 'CYS02', 'PAR22', 'JNB22', 'SHA20', 'BJS20', 'CBN04', \r\n                       'MWZ02', 'MWH02', 'CYS03', 'SEL21', 'DXB20', 'PHX21', 'HKG21', \r\n                       'MWH04', 'MWH03', 'DSZ08', 'OSA21', 'CPQ20', 'BER20', 'CBR23', \r\n                       'PNQ22', 'TYO23', 'SIN21', 'SYD27', 'CPQ24', 'CBN10', 'CBN13', \r\n                       'CDM08', 'BNZ12', 'PHX80', 'AMS24', 'LON25', 'BY20', 'SHA', \r\n                       'SH3', 'BD3', 'SN6', 'BLA', 'SN2', 'DB5', 'HK2', 'CO4', 'SG2', \r\n                       'BLU', 'DZ5', 'SG1', 'BY3', 'BY5', 'SN8', 'BL7', 'BN3', 'BJ1', \r\n                       'CH4', 'BL4', 'BN2', 'SN4', 'MM1', 'BD8', 'CQ1', 'AM4', 'SN1', \r\n                       'BN6', 'BN8', 'SN3', 'BN7', 'SG3', 'SD5', 'CO2', 'DZ6', 'SN7', \r\n                       'DB3', 'DB4', 'DM2', 'AM2', 'BN1', 'CH3', 'CH2', 'BL5', 'AM3', \r\n                       'CH1', 'CW1', 'DM1', 'DM5', 'KW1', 'BZ7', 'PN1', 'SY3', 'SE1', \r\n                       'TY1', 'CQ2', 'BL6', 'AM1', 'DM3', 'DB6', 'LN1', 'CHA', 'PS1', \r\n                       'HKN', 'MA1', 'BYC', 'BL2', 'CO5', 'BY4', 'BN4', 'SH2', 'DD3', \r\n                       'BYB', 'AM5', 'VIE', 'BY2', 'DM4', 'CO1', 'BZ6', 'BL3', 'YQ1', \r\n                       'BG8', 'CO3', 'LO1', 'BY1', 'BJB', 'OS1', 'OS2', 'BN9', 'ML1', \r\n                       'BYA', 'YT1', 'SN5', 'CY4', 'FR1', 'LG1', 'BM1', 'MW1', 'CY3', 'YTB', 'AM0', 'CY2', 'MN2', 'SIN']); // manually add 'BM1', 'MW1', 'CY3', 'YTB', 'AM0', 'CY2', 'MN2'; \r\n    let dcregex = tolower(array_strcat(dc_list, '|')); \r\n    let correlationRegex = tolower(strcat('[\\\\-(Location)(PROD)]{0,1}(',dcregex,')[a-z0-9]{0,1}($|PRD|PROD|ODC|Adams|Whitney|_|CRM|phx|Baker|Crater|xphx|POD|\\\\d{3}_|\\\\-|Redwood|EDGE|Denali|\\\\dR\\\\d|Zion|Stage|YL1|AzF|Helens|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|Hood|\\\\dB\\\\d|\\\\.)'));\r\n    let DeviceNameMonitors = IncidentPool\r\n        | where MonitorId in (\"PartitionNotLoaded\",\r\n                      \"UnloadedPartitionCountPercentage\", \r\n                      \"TsRestartsWithActivePartitions\", \r\n                      \"CrashingPartitionIsolated\", \r\n                      \"PartitionLoadFailed\",\r\n                      \"DataUnavailable\",\r\n                      \"DataUnavailableForLongDuration\",\r\n                      \"NumberOfSecodaryRolesForQuorum\",\r\n                      \"Smoke Test Failure\",\r\n                      \"Cluster VIP 443 Reachability\",\r\n                      \"NsmPrimaryHeartBeatMonitor\",\r\n                      \"MDM Heartbeat - Cluster\",\r\n                      \"NodeIsolationEventPublic\",\r\n                      \"DS Heartbeat per Tenant\",\r\n                      \"PrimaryTracker_Fabricator\",\r\n                      \"VNetPingmeshPingCountPerCluster\",\r\n                      \"IaaSNodeFailureOngoing\",\r\n                      \"DevicesWithFaultyPSU\",\r\n                      \"TORDownAnalysis (AzureAll)\",\r\n                      \"UpgradeException_UDFD\",\r\n                      \"MrUnhealthyMonitor\",\r\n                      \"UpgradeException\",\r\n                      //\"XStoreVmBlackoutsAnomalyXio\",\r\n                      \"DetectedRegressionForNMAgent\", \r\n                      \"DetectedRegressionForLM\", \r\n                      \"MissingInterClusterOutCanaryMonitor\",\r\n                      \"AtleastOnePrimary\",\r\n                      \"TenantAnomalousLatencySeparationOfDistributionsNRT\",\r\n                      \"XDS Connectivity Alert\",\r\n                      \"NMAgent-DS sync failure per node\",\r\n                      \"InstanceHeartBeatMonitor\",\r\n                      \"XSSE BadEnNodesIncidents\",\r\n                      \"FabricConnectivityMonitor\",\r\n                      \"DS Tenant Heartbeat\",\r\n                      \"RDSReachability\",\r\n                      \"HwProxyFailure\",\r\n                      \"Role Availability\",\r\n                      \"ServerDown\",\r\n                      \"ServiceBusRunnerMonitor\",\r\n                      \"StandardBrokerApp Application Unhealthy Monitor\",\r\n                      \"GatewayApp Application Unhealthy Monitor\",\r\n                      \"AllRunnersUnhealthyMonitor\",\r\n                      \"Service Healing Alarm\",\r\n                      \"Service Healing Disabled\",\r\n                      \"SlbV1Monitor\")\r\n        | extend dc_column = tolower(OccurringDeviceName)\r\n    ;\r\n    let DCMonitors = IncidentPool\r\n        | where MonitorId in (\"InterfaceFlapping\", \r\n                      \"InterfaceErrors\", \r\n                      \"InterfaceDown_HighSeverity\",\r\n                      \"PowerSupply_Failed\",\r\n                      \"IaaSFailureSpike\", \r\n                      \"IaaSDataCenterFailureOngoing\",\r\n                      \"75PercentT1down \")\r\n        | extend dc_column = tolower(OccurringDatacenter)\r\n    ;\r\n    let CorrelationIdMonitors = IncidentPool\r\n        | where MonitorId in (\"WAWSCanaryAlert\")\r\n        | extend dc_column = tolower(CorrelationId)\r\n    ;\r\n    let WebAppsMonitors = IncidentPool\r\n        | where Title contains \"Runtime_ColdSite\" \r\n            or Title contains \"Runtime_HotSite\"\r\n            or Title contains \"Linux_HotSite\"\r\n            or Title contains \"Linux_ColdSite\"\r\n             or Title contains \"Pingdom waws\"\r\n        | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", \"\")))))\r\n        | extend dc = tolower(OccurringDeviceName)\r\n    ;\r\n    let OtherMonitors = IncidentPool\r\n        | where MonitorId  == \"CanaryAutoEscalationMonitor\"\r\n        | extend dc_column = tolower(Title)\r\n        | union (\r\n        IncidentPool\r\n            | where RoutingId  == \"ArgusProdAlert\"\r\n            | extend MonitorId = \"ArgusProdAlert\"\r\n            | extend dc_column = tolower(OccurringDatacenter)\r\n        )\r\n    ;\r\n    let allIncidents = union \r\n        DeviceNameMonitors,\r\n        DCMonitors,\r\n        CorrelationIdMonitors,\r\n        OtherMonitors,\r\n        WebAppsMonitors;\r\n    allIncidents\r\n    | extend dc = extract(correlationRegex, 1, dc_column)\r\n    | where OccurringEnvironment != \"TEST\" and isnotempty(dc) // and OccurringEnvironment != \"PPE\" \r\n    | project IncidentId, SourceCreateDate=CreateDate, MonitorId, Severity, dc, Title, OriginatingTenantName=OwningTenantName, HitCount=0\r\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Dev/EventHub","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms_EventHub","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/51":{"id":"$fn_icmclusterlb/1/51","entityType":"Function","body":"{\r\n    let LookbackTimePeriod = ago(365d);\r\n    let raw_data = GetPowerOutageSymptoms_EventHub(startDate, endDate);\r\n //   let weight = GetPowerOutageSymptoms_EventHub(LookbackTimePeriod, now())\r\n //       | where Severity in (2,3)\r\n //       | summarize score=count() by MonitorId, Severity\r\n //       | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity))\r\n        | summarize SeveritySet=makeset(Severity), \r\n                UniqueMonitorCount=dcount(MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(HitCount, 1000),\r\n                HitCountTotal = sum(HitCount),\r\n                HitCountAvg = avg(HitCount) by dc;\r\n    processed\r\n        //| mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n        //| join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        //| summarize Score=sum(1.0/score) by dc\r\n        //| join processed on dc\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n        | project dc, Score=0, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents\r\n }","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Dev/EventHub","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures_EventHub","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/52":{"id":"$fn_icmclusterlb/1/52","entityType":"Function","body":"{\r\n    // Detect Multi Tenant Outages\r\n    GetPowerOutageFeatures_EventHub(startDate, endDate)\r\n        | where UniqueMonitorCount > 3\r\n        | where HasSev2 > 0\r\n        | where NumTenants > 1\r\n }","docstring":"Detect Multi-Tenant Outages","folder":"IcMML/PowerLoss/Dev/EventHub","functionKind":"UnknownFunction","name":"DetectMultiTenantOutages_EventHub","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/53":{"id":"$fn_icmclusterlb/1/53","entityType":"Function","body":"{\r\nlet teamIdList = parse_json(teamIdListStr);\r\ncluster('icmclusterbackup').database('IcmDataWarehouse').TeamMembership | where TeamId in  (teamIdList)\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId\r\n    | project TeamId, Members, Lens_IngestionTime\r\n    | extend MembersList = parse_json(Members)\r\n    | mv-expand MembersList\r\n    | extend ContactId = tolong(MembersList.ContactId)\r\n    | project TeamId, ContactId, Lens_IngestionTime\r\n    | summarize arg_max(Lens_IngestionTime, *) by ContactId\r\n    | join kind=inner \r\n    (\r\n        cluster('icmclusterbackup').database('IcmDataWarehouse').Contacts \r\n        | where Status == 'Active' \r\n            // and IsPrivate == 0\r\n            and Discipline !contains 'test'\r\n        | summarize arg_max(Lens_IngestionTime, *) by ContactId\r\n    ) on ContactId\r\n    | project ContactId, TeamId, FullName, FirstName, LastName, EmailAddress, Alias, Discipline, IsPrivate\r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetContactFromTeamList","outputColumns":[],"inputParameters":[{"name":"teamIdListStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/54":{"id":"$fn_icmclusterlb/1/54","entityType":"Function","body":"{\r\nlet incidentIdTable = table(incidentIdStrTable); \r\nlet candidateIncidentIds = incidentIdTable\r\n    | join kind=inner\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n        | where CreateDate >= startDate and CreateDate < endDate\r\n        | where Status in ('MITIGATED', 'RESOLVED')\r\n        | project IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet incidentHistory = materialize(\r\n    candidateIncidentIds\r\n    | join kind=inner\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentHistory\r\n        | where ChangeDate > startDate\r\n        | where (isnotnull(OwningTeamId) == true and ChangeCategories contains 'assignteam') // team change\r\n            or Status in ('MITIGATED', 'RESOLVED') // triaged status\r\n        | project HistoryId, IncidentId, OwningTeamId, Status, ChangeCategories, Lens_IngestionTime        \r\n    ) on IncidentId\r\n    | summarize arg_max(Lens_IngestionTime, *) by HistoryId\r\n    | project IncidentId, HistoryId, Status, OwningTeamId, ChangeCategories);\r\nlet mitigateHistory = incidentHistory | where Status in ('MITIGATED', 'RESOLVED')\r\n    | sort by IncidentId, HistoryId desc\r\n    | summarize HistoryList = make_list(HistoryId), StatusList = make_list(Status) by IncidentId\r\n    | extend TriagedHistoryId = case(StatusList[0] == 'MITIGATED', HistoryList[0], case(array_length(StatusList) > 1 and StatusList[1] == 'MITIGATED', HistoryList[1], HistoryList[0]))\r\n    | project IncidentId, TriagedHistoryId;\r\nlet triagedTeamId = mitigateHistory | join kind=inner\r\n    (incidentHistory | where isnotnull(OwningTeamId) and ChangeCategories contains 'assignteam') on IncidentId\r\n    | where HistoryId <= TriagedHistoryId\r\n    | summarize arg_max(HistoryId, OwningTeamId) by IncidentId\r\n    | project IncidentId, TriagedTeamId=OwningTeamId, TriagedHistoryId=HistoryId;\r\ntriagedTeamId\r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetTriagedTeamIdFirstMitigation","outputColumns":[],"inputParameters":[{"name":"incidentIdStrTable","cslType":"string","type":"System.String"},{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/55":{"id":"$fn_icmclusterlb/1/55","entityType":"Function","body":"{\r\n    let aliasList = parse_json(aliasListStr);\r\n    cluster('icmclusterbackup').database('IcmDataWarehouse').Contacts\r\n    | where Alias in (aliasList )\r\n    | where Status == \"Active\" \r\n        and Discipline !contains 'test'\r\n    | summarize arg_max(Lens_IngestionTime, *) by ContactId\r\n    | project ContactId, Alias, FullName, EmailAddress    \r\n    | join kind=inner\r\n    (\r\n    cluster('icmclusterbackup').database('IcmDataWarehouse').TeamMembership\r\n        | project TeamId, Members, Lens_IngestionTime\r\n        | extend MembersList = parse_json(Members)\r\n        | mv-expand MembersList\r\n        | extend ContactId = tolong(MembersList.ContactId)\r\n        // | project TeamId, ContactId, Lens_IngestionTime\r\n        | summarize arg_max(Lens_IngestionTime, *) by ContactId, TeamId\r\n    ) on ContactId\r\n    | join kind=inner \r\n    (\r\n    cluster('icmclusterbackup').database('IcmDataWarehouse').TeamsSnapshot_V1\r\n    | project TeamId, PublicTeamId, TenantName, TeamName\r\n    ) on TeamId\r\n    | project Alias, ContactId, FullName, EmailAddress, TeamId, TenantName, TeamName, PublicTeamId , Lens_IngestionTime\r\n    | sort by Alias, Lens_IngestionTime desc \r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetTeamInfoFromAliasList","outputColumns":[],"inputParameters":[{"name":"aliasListStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/56":{"id":"$fn_icmclusterlb/1/56","entityType":"Function","body":"{\n    // get AIR-helped incidents from App Insights\r\n    let AIRedIncidents = cluster('Icmtelemetry').database('icmlogsprocessed').AIRTransferEvents\r\n        | where TimeAtAIRTransfer >= startDate\r\n        //| project IncidentId, airedDate=TimeAtAIRTransfer, AuthId, OwningTeamIdAtAIRedTransfer=OwningTeamIdAtTransfer, OwningServiceIdAtAIRedTransfer=OwningServiceIdAtTransfer, PredictedTeamId, PredictedServiceId, ExpectedTeamId, ExpectedServiceId, isAIRRecommendationSelected, AIRRecommendationSelectedIndex;\r\n        | summarize (Timestamp, AuthId, OwningTeamIdAtAIRedTransfer, OwningServiceIdAtAIRedTransfer, PredictedTeamId, PredictedServiceId, ExpectedTeamId, ExpectedServiceId, isAIRRecommendationSelected, AIRRecommendationSelectedIndex) = arg_max(TimeAtAIRTransfer, AuthId, OwningTeamIdAtTransfer, OwningServiceIdAtTransfer, PredictedTeamId, PredictedServiceId, ExpectedTeamId, ExpectedServiceId, isAIRRecommendationSelected, AIRRecommendationSelectedIndex) by IncidentId;\r\n    // find triaged incidents assisted by AIR\r\n    AIRedIncidents\n    | join kind=inner\r\n    ( cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n        | where CreateDate >= startDate // within date range\r\n            and Status in (\"MITIGATED\", \"RESOLVED\") // triaged\r\n            and isnull(ParentIncidentId) // not a linked incident\r\n        | project IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId, Timestamp, AuthId, OwningTeamIdAtAIRedTransfer, OwningServiceIdAtAIRedTransfer, PredictedTeamId, PredictedServiceId, ExpectedTeamId, ExpectedServiceId, isAIRRecommendationSelected, AIRRecommendationSelectedIndex\r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetAIRedIncident","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/57":{"id":"$fn_icmclusterlb/1/57","entityType":"Function","body":"{\r\n    let rolloutDate = datetime(2020-03-20);\r\n    PostIncidentReportsSnapshot(true)\r\n    | where CreationDate >= start and CreationDate <= end  \r\n    | join (\r\n        IncidentsSnapshot(true) \r\n        | project IncidentId, PIRReportId, Severity, ImpactStartDate, MitigateDate, OutageDeclaredDate\r\n    ) on $left.CreationIncidentId == $right.IncidentId\r\n    | extend Sev = iif(PIRReportId == PIRReportId1 and CreationDate >= rolloutDate, Severity1, Severity)\r\n      , ImpactStartTime = iif(PIRReportId == PIRReportId1 and CreationDate >= rolloutDate, ImpactStartDate, coalesce(ImpactStart, ImpactStartDate))\r\n      , MitigationTime = iif(PIRReportId == PIRReportId1 and CreationDate >= rolloutDate, MitigateDate, coalesce(Mitigation, MitigateDate)) \r\n      , OutageDeclareTime = iif(PIRReportId == PIRReportId1 and CreationDate >= rolloutDate, OutageDeclaredDate1, OutageDeclaredDate)\r\n    | project-away PIRReportId1, IncidentId, Severity, Severity1, ImpactStart, ImpactStartDate, MitigateDate, Mitigation, OutageDeclaredDate, OutageDeclaredDate1\r\n}","docstring":"Get postmortems between start and end","functionKind":"UnknownFunction","name":"GetPostmortems","outputColumns":[],"inputParameters":[{"name":"start","cslType":"datetime","type":"System.DateTime"},{"name":"end","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/58":{"id":"$fn_icmclusterlb/1/58","entityType":"Function","body":"{\r\nlet incidentIdTable = table(incidentIdStrTable); \r\nlet candidateIncidentIds = incidentIdTable\r\n    | join kind=inner\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentsSnapshot_V1\r\n        | where CreateDate >= startDate and CreateDate < endDate\r\n        | where Status in ('MITIGATED', 'RESOLVED')\r\n        | project IncidentId, ResponsibleTeamId, OwningTenantId, OwningTeamName, OwningTeamId, IncidentType\r\n    ) on IncidentId\r\n    | project-away IncidentId1;\r\n///////////////////////////////////////////\r\n// get labels owningTeamdId\r\n///////////////////////////////////////////\r\n//\r\n// get joined history\r\n//\r\nlet candidateHistories = materialize(candidateIncidentIds | project IncidentId\r\n    | join hint.strategy=shuffle kind=inner (cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentHistory\r\n    | where ChangeDate >= startDate\r\n        | where isnotnull(OwningTeamId) or isnotempty(Status)\r\n        | project HistoryId,\r\n                IncidentId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                historyOwningTeamId = OwningTeamId,\r\n                historyOwningTeamName = OwningTeamName,\r\n                Lens_IngestionTime\r\n        ) on IncidentId\r\n    | summarize hint.strategy = shuffle arg_max(Lens_IngestionTime, *) by HistoryId\r\n    | project IncidentId,\r\n                HistoryId,\r\n                Status,\r\n                ChangeDate,\r\n                ChangeCategories,\r\n                historyOwningTeamId,\r\n                historyOwningTeamName);\r\n//\r\n// incidents with ResponsibleTeamId\r\n// the label is the ResponsibleTeamId\r\nlet label_IncidentWithResponsibleTeam = materialize(candidateIncidentIds\r\n    | where isnotnull(ResponsibleTeamId) and ResponsibleTeamId != OwningTeamId\r\n    | project IncidentId,\r\n        OwningTeamId=ResponsibleTeamId);\r\n//\r\n// incidents of Dynamics - Operations Center (DOC) teams\r\n// get the mitigation moment, the label is the team where ChangeDate <= MitigateTime\r\n//\r\nlet incidentDOCs = candidateIncidentIds\r\n    | where (OwningTenantId == 20730 or OwningTenantId == 21907)  and OwningTeamName !has 'AX' // keep incidents belong to DOC only\r\n        and OwningTeamName !has 'UnmonitoredAlerts' and OwningTeamName !has 'Staging' \r\n        and OwningTeamName has 'DYNAMICSOPERATIONSCENTER' and OwningTeamName !has 'Triage' \r\n        and OwningTeamName !has 'CMA' and OwningTeamName !has 'SAM'\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (label_IncidentWithResponsibleTeam \r\n        | project IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId, OwningTeamId;\r\n//\r\n// incidents from PowerBI\r\n//\r\nlet teams = materialize(cluster('Icmclusterbackup').database('IcmDataWarehouse').TeamsSnapshot_V1);\r\nlet incidentPowerBIIds = candidateIncidentIds\r\n    | where OwningTenantId == 10058\r\n    | join kind=leftanti  \r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n            | union (incidentDOCs | project IncidentId)\r\n    ) on IncidentId\r\n    | distinct IncidentId, IncidentType;\r\n// labels for PowerBI LiveSite\r\nlet incidentPowerBILiveSiteIds = incidentPowerBIIds | where IncidentType in (\"Live Site\",\"LiveSite\") | summarize by IncidentId;\r\nlet incidentPowerBILiveSites = cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentCustomFieldEntries | where Name =='powerbicomponentarea' \r\n    | project IncidentId, CustomFieldValue = Value\r\n    | join hint.strategy=shuffle kind=inner (incidentPowerBILiveSiteIds) on IncidentId // focus on PowerBILiveSite incidents\r\n    | join hint.strategy=shuffle kind=inner (\r\n        teams | where TenantId == 10058 // Only fetch teams for Power BI Tenant \r\n    ) on $left.CustomFieldValue == $right.TeamName\r\n    | project IncidentId , OwningTeamId=TeamId; // teams of PowerBILiveSite\r\n// labels for PowerBI CRI\r\nlet incidentPowerBICRIIds = incidentPowerBIIds | where IncidentType in (\"Customer Reported\",\"CustomerReported\") | summarize by IncidentId;\r\nlet history_PowerBICRI = incidentPowerBICRIIds \r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            | project HistoryId, IncidentId, historyOwningTeamId  // verify if we really need to use historyid here\r\n    ) on IncidentId;\r\nlet incidentPowerBICRIAfterMitigateTeams = history_PowerBICRI\r\n    | where isnotnull(historyOwningTeamId)\r\n    | summarize AfterMitigateTime=max(HistoryId) by IncidentId\r\n    | project IncidentId, AfterMitigateTime;\r\nlet label_PowerBICRI = materialize(incidentPowerBICRIAfterMitigateTeams\r\n    | join hint.strategy=shuffle kind=inner \r\n    (\r\n        history_PowerBICRI\r\n            | where isnotnull(historyOwningTeamId)\r\n            | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    | where HistoryId < AfterMitigateTime\r\n    | summarize OwningTeamId=arg_max(HistoryId, historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId);\r\n//\r\n// incidents having MITIGATED step only\r\n//\r\nlet incidentWithMitigatedIds = candidateHistories | where Status == \"MITIGATED\"\r\n    | summarize by IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (incidentDOCs | project IncidentId), \r\n            (incidentPowerBILiveSites | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | summarize by IncidentId;\r\nlet history_incidentWithMitigated = incidentWithMitigatedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n            | where Status == 'MITIGATED'\r\n            | project HistoryId, IncidentId\r\n    ) on IncidentId\r\n    | summarize MitigatedHistoryId = min(HistoryId) by IncidentId\r\n    ;\r\nlet incidentWithMitigatedTeams = history_incidentWithMitigated\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n        | where isnotnull(historyOwningTeamId) and ChangeCategories has 'assignteam'\r\n        | project IncidentId, HistoryId, historyOwningTeamId\r\n    ) on IncidentId\r\n    | where HistoryId <= MitigatedHistoryId\r\n    | summarize (HistoryId, OwningTeamId)=arg_max(HistoryId, historyOwningTeamId) by IncidentId\r\n    | project IncidentId, OwningTeamId;\r\n//\r\n// incidents with RESOLVED step only\r\n//\r\nlet incidentWithResolvedIds = candidateIncidentIds | project IncidentId\r\n    | join hint.strategy=shuffle kind=leftanti\r\n    (\r\n        label_IncidentWithResponsibleTeam | project IncidentId\r\n        | union \r\n            (incidentDOCs | project IncidentId), \r\n            (incidentPowerBILiveSites | project IncidentId), \r\n            (label_PowerBICRI | project IncidentId),\r\n            (incidentWithMitigatedTeams | project IncidentId)\r\n        | summarize by IncidentId\r\n    ) on IncidentId\r\n    | project IncidentId;\r\nlet label_incidentWithResolved = materialize(incidentWithResolvedIds\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n        | where Status == 'RESOLVED'\r\n        | project HistoryId, IncidentId\r\n    ) on IncidentId\r\n    | summarize ResolvedHistoryId = min(HistoryId) by IncidentId\r\n    | join hint.strategy=shuffle kind=inner\r\n    (\r\n        candidateHistories\r\n        | where isnotnull(historyOwningTeamId) and ChangeCategories has 'assignteam'\r\n        | project HistoryId, IncidentId, historyOwningTeamId\r\n    ) on IncidentId\r\n    | where HistoryId <= ResolvedHistoryId\r\n    | summarize (HistoryId, OwningTeamId) = arg_max(HistoryId, historyOwningTeamId) by IncidentId\r\n    | project IncidentId,\r\n        OwningTeamId);\r\n//\r\n// union all incidents\r\n//\r\nlet label_allIncidents = label_IncidentWithResponsibleTeam\r\n    | union incidentDOCs,\r\n        incidentPowerBILiveSites,\r\n        label_PowerBICRI,\r\n        incidentWithMitigatedTeams,\r\n        label_incidentWithResolved\r\n    | project IncidentId, TriagedTeamId = OwningTeamId;\r\nlabel_allIncidents\r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetTriagedTeamIdFullLogic","outputColumns":[],"inputParameters":[{"name":"incidentIdStrTable","cslType":"string","type":"System.String"},{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/59":{"id":"$fn_icmclusterlb/1/59","entityType":"Function","body":"{\r\nlet incidentIdTable = table(incidentIdStrTable); // IncidentId, TriagedHistoryId\r\nincidentIdTable\r\n    | join kind=inner\r\n    (\r\n        cluster('Icmclusterbackup').database('IcmDataWarehouse').IncidentHistory\r\n        | where ChangeDate >= startDate\r\n        | where isnotnull(OwningTeamId) and ChangeCategories has 'assignteam' // team change\r\n        | project HistoryId, IncidentId, OwningTeamId, Status, ChangeCategories, Lens_IngestionTime        \r\n    ) on IncidentId\r\n    | summarize arg_max(Lens_IngestionTime, *) by HistoryId\r\n    | where HistoryId <= TriagedHistoryId\r\n    | project IncidentId, HistoryId, OwningTeamId, TriagedTeamId, TriagedHistoryId\r\n    | sort by HistoryId asc \r\n    | summarize TransferTeamList=make_list(OwningTeamId), TransferHistoryIdList=make_list(HistoryId) by IncidentId, TriagedTeamId, TriagedHistoryId\r\n    | extend HopCount=array_length(TransferTeamList) - 1;\r\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetTransferHistory","outputColumns":[],"inputParameters":[{"name":"incidentIdStrTable","cslType":"string","type":"System.String"},{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/60":{"id":"$fn_icmclusterlb/1/60","entityType":"Function","body":"{\ntable(aliasTableStr) | join kind=inner\r\n(\r\ncluster('icmprod').database('IcmDataWarehouse').Contacts\r\n    | where Status == \"Active\" \r\n        and Discipline !contains 'test'\r\n    | summarize arg_max(Lens_IngestionTime, *) by ContactId\r\n    | project ContactId, Alias, FirstName, FullName, EmailAddress\r\n) on Alias\n| join kind=inner\r\n    (\r\n    cluster('icmprod').database('IcmDataWarehouse').TeamMembership\r\n        | project TeamId, Members, Lens_IngestionTime\r\n        | extend MembersList = parse_json(Members)\r\n        | mv-expand MembersList\r\n        | extend ContactId = tolong(MembersList.ContactId)\r\n        // | project TeamId, ContactId, Lens_IngestionTime\r\n        | summarize arg_max(Lens_IngestionTime, *) by ContactId, TeamId\r\n    ) on ContactId\r\n    | join kind=inner \r\n    (\r\n    cluster('icmprod').database('IcmDataWarehouse').TeamsSnapshot_V1\r\n    | project TeamId, PublicTeamId, TenantName, TeamName\r\n    ) on TeamId\r\n    | summarize arg_max(Lens_IngestionTime, *) by Alias\r\n    | project Alias, ContactId, FirstName, FullName, EmailAddress, TeamId, TenantName, TeamName, PublicTeamId , Lens_IngestionTime\n}","docstring":"Get contact information of members in a team list","folder":"IcMML/Utility","functionKind":"UnknownFunction","name":"GetAliasInfo","outputColumns":[],"inputParameters":[{"name":"aliasTableStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/61":{"id":"$fn_icmclusterlb/1/61","entityType":"Function","body":"{\r\nlet IncidentPool = materialize(IncidentsSnapshot_V1\r\n        | where CreateDate > startTime and CreateDate <= endTime        \r\n        );\r\n// filter by monitor\r\nlet monitorPool = dynamic(['CanaryAutoEscalationMonitor', 'NsmPrimaryHeartBeatMonitor', 'VNetPingmeshPingCountPerCluster', \r\n                           'AtleastOnePrimary', 'Cluster VIP 443 Reachability', 'NumberOfSecodaryRolesForQuorum', \r\n                           'TsRestartsWithActivePartitions', 'MDM Heartbeat - Cluster', 'PartitionNotLoaded', \r\n                           'UnloadedPartitionCountPercentage', 'DS Tenant Heartbeat', 'ServiceBusRunnerMonitor', \r\n                           'FabricConnectivityMonitor', 'IaaSFailureSpike', 'RDSReachability', 'NodeIsolationEventPublic', \r\n                           'AllRunnersUnhealthyMonitor', 'PrimaryTracker_Fabricator', '75PercentT1down ', 'Service Healing Alarm', \r\n                           'DS Heartbeat per Tenant', 'DataUnavailable', 'MissingInterClusterOutCanaryMonitor', \r\n                           'IaaSDataCenterFailureOngoing', 'Role Availability', 'XSSE BadEnNodesIncidents', 'Smoke Test Failure', \r\n                           'TORDownAnalysis (AzureAll)', 'Pingdom', 'SlbV1Monitor']);\r\nlet filterByMonitor = IncidentPool\r\n    | project IncidentId, Title, RoutingId, MonitorId\r\n    | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", iff(RoutingId == \"ArgusProdAlert\", \"ArgusProdAlert\", MonitorId))))))\r\n    | where MonitorId in (monitorPool)\r\n    | project IncidentId;\r\n// extract dc info\r\nlet dc_list = toscalar(cluster('https://aceswestus2.westus2.kusto.windows.net').database('IcMData').DC_Alias | project Alias | extend len=strlen(Alias) | sort by len desc | summarize make_list(Alias));\r\nlet dcregex = tolower(array_strcat(dc_list, '|'));\r\nlet expert_regex = tolower(strcat('[\\\\-(Location)(PROD)]{0,1}(', dcregex,')[a-z0-9]{0,1}($|PRD|PROD|ODC|Adams|Whitney|_|CRM|phx|Baker|Crater|xphx|POD|\\\\d{3}_|\\\\-|Redwood|EDGE|Denali|\\\\dR\\\\d|Zion|Stage|YL1|AzF|Helens|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|Hood|\\\\dB\\\\d|\\\\.)'));\r\n// get dc by expert knowledge\r\nlet incidentWithDC = filterByMonitor\r\n    | join kind=inner\r\n    (\r\n        IncidentPool\r\n    ) on IncidentId\r\n    | extend dc_col = iff(MonitorId in ('PartitionNotLoaded', 'UnloadedPartitionCountPercentage', 'TsRestartsWithActivePartitions', \r\n                                        'CrashingPartitionIsolated', 'PartitionLoadFailed', 'DataUnavailable', 'DataUnavailableForLongDuration', \r\n                                        'NumberOfSecodaryRolesForQuorum', 'Smoke Test Failure', 'Cluster VIP 443 Reachability', 'NsmPrimaryHeartBeatMonitor', \r\n                                        'MDM Heartbeat - Cluster', 'NodeIsolationEventPublic', 'DS Heartbeat per Tenant', 'PrimaryTracker_Fabricator', \r\n                                        'VNetPingmeshPingCountPerCluster', 'IaaSNodeFailureOngoing', 'DevicesWithFaultyPSU', 'TORDownAnalysis (AzureAll)', \r\n                                        'UpgradeException_UDFD', 'MrUnhealthyMonitor', 'UpgradeException', 'XStoreVmBlackoutsAnomalyXio', 'DetectedRegressionForNMAgent', \r\n                                        'DetectedRegressionForLM', 'MissingInterClusterOutCanaryMonitor', 'AtleastOnePrimary', 'TenantAnomalousLatencySeparationOfDistributionsNRT', \r\n                                        'XDS Connectivity Alert', 'NMAgent-DS sync failure per node', 'InstanceHeartBeatMonitor', 'XSSE BadEnNodesIncidents', \r\n                                        'FabricConnectivityMonitor', 'DS Tenant Heartbeat', 'RDSReachability', 'HwProxyFailure', 'Role Availability', \r\n                                        'ServerDown', 'ServiceBusRunnerMonitor', 'StandardBrokerApp Application Unhealthy Monitor', \r\n                                        'GatewayApp Application Unhealthy Monitor', 'AllRunnersUnhealthyMonitor', 'Service Healing Alarm', \r\n                                        'Service Healing Disabled', 'SlbV1Monitor', 'InterfaceFlapping', 'InterfaceErrors', 'InterfaceDown_HighSeverity', \r\n                                        'PowerSupply_Failed', 'IaaSFailureSpike', 'IaaSDataCenterFailureOngoing', '75PercentT1down ') and isnotnull(OccurringDeviceName), \r\n                            tolower(OccurringDeviceName), \r\n                         iff(MonitorId == 'WAWSCanaryAlert' and isnotnull(CorrelationId), \r\n                            tolower(CorrelationId),\r\n                         iff(Title contains 'Runtime_ColdSite' or Title contains 'Runtime_HotSite' or Title contains 'Linux_HotSite' or Title contains 'Linux_ColdSite' or Title contains 'Pingdom waws',\r\n                            tolower(OccurringDeviceName),\r\n                         iff(RoutingId == 'ArgusProdAlert' and isnotnull(OccurringDatacenter),\r\n                            tolower(OccurringDatacenter),\r\n                         iff(MonitorId == 'CanaryAutoEscalationMonitor' and isnotempty(Title), \r\n                            tolower(Title), '')))))\r\n    | extend dc_expert = tostring(extract(expert_regex, 1, dc_col))\r\n    | project-away dc_col, IncidentId1;\r\n// get dc by meta fields\r\nlet sourceIncidentId_regex = tolower(strcat('[\\\\/\\\\._\\\\-]{{0,1}}(', dcregex, ')[a-z0-9]{{0,1}}($|PROD|PRD)'));\r\nlet correlationId_regex = tolower(strcat('[\\\\/\\\\._\\\\-(DSMS)\\\\:(LOCATION\\\\[)(LOCATION)(AZNHPROD)]{{0,1}}(', dcregex,')[A-Z0-9]{{0,1}}($|PROD|PRD|PR\\\\d|STAGE|AZ|TST|_|ZION|RAINIER|ADAM|HELEN|\\\\-|DCFX|BAKER|WHITNEY|SCH|BAP|\\\\]|PHY|ANAP|;|POD|AAP|:|SEU|LM|LB|EDGE|OLYMPUS|F\\\\d|\\\\.AP\\\\.|VUT|ODCOR|CRM|GRORFER|YL1|ODSTL|\\\\d{{3}}_|ODA)'));\r\nlet raisingDeviceName_regex = tolower(strcat('[D]{{0,1}}(', dcregex,')[A-Z0-9]{{0,1}}($|AEAP|PRD|YL1|\\\\d[A-Z]\\\\d|\\\\-|\\\\d{{3}}DL|0VUT|VUT|DEU|\\\\d{{4,}}\\\\-\\\\d{{3}}|JP|SB|STAGE|AZF|AU|USA|\\\\d{{7,8}}$)'));\r\nlet occurringDeviceName_regex = tolower(strcat('[\\\\-(LOCATION)(PROD)]{{0,1}}(', dcregex, ')[A-Z0-9]{{0,1}}($|PRD|PROD|ODC|ADAMS|WHITNEY|_|CRM|PHX|BAKER|CRATER|XPHX|POD|\\\\d{{3}}_|\\\\-|REDWOOD|EDGE|DENALI|\\\\dR\\\\d|ZION|STAGE|YL1|AZF|HELENS|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|HOOD|\\\\dB\\\\d|\\\\.)'));\r\nlet incidentWithDC_metaField = incidentWithDC\r\n    | where isempty(dc_expert)\r\n    | extend sourceIncidentId_dc = extract(sourceIncidentId_regex, 1, SourceIncidentId),\r\n            correlationId_dc = extract(correlationId_regex, 1, CorrelationId),\r\n            //raisingDeviceName_dc = extract(raisingDeviceName_regex, 1, RaisingDeviceName),\r\n            occurringDeviceName_dc = extract(occurringDeviceName_regex, 1, OccurringDeviceName)\r\n    | where isnotempty(sourceIncidentId_dc) or isnotempty(correlationId_dc) or isnotempty(occurringDeviceName_dc)\r\n    | extend dc_list = pack_array(sourceIncidentId_dc, correlationId_dc, occurringDeviceName_dc)\r\n    | project IncidentId, dc_list\r\n    | mv-expand dc_list\r\n    | extend dc_meta = tostring(dc_list)\r\n    | where isnotempty(dc_meta)\r\n    | summarize dc_count = count() by IncidentId, dc_meta\r\n    | summarize dc_meta=arg_max(dc_count, dc_meta) by IncidentId\r\n    | project IncidentId, dc_meta\r\n    ;\r\nlet IncidentPool_DC = incidentWithDC\r\n    | join kind=leftouter \r\n    (\r\n        incidentWithDC_metaField\r\n    ) on IncidentId\r\n    | extend dc=iff(isempty(dc_expert), tostring(dc_meta), tostring(dc_expert))\r\n    //| where isnotempty(dc)\r\n    | project-away IncidentId1\r\n    | join kind = leftouter(cluster('https://aceswestus2.westus2.kusto.windows.net').database('IcMData').DC_Alias | extend Alias=tolower(Alias), DCMT_Id = tolower(DCMT_Id)) on $left.dc == $right.Alias\r\n    | where OccurringEnvironment != \"TEST\" and isnotempty(DCMT_Id) // and OccurringEnvironment != \"PPE\" \r\n    | project IncidentId, SourceCreateDate=CreateDate, MonitorId, Severity, dc=tolower(DCMT_Id), Title, OriginatingTenantName=OwningTenantName, HitCount=0\r\n    ;\r\nIncidentPool_DC\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Dev/V3","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms_V3_Dev","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/62":{"id":"$fn_icmclusterlb/1/62","entityType":"Function","body":"{\r\nlet IncidentPool =IncidentsSnapshot_V1\r\n        | where CreateDate > startTime and CreateDate <= endTime        \r\n        ;\r\n// filter by monitor\r\nlet monitorPool = cluster('icmprodbackup').database('Icmanalytics').SymptomMonitors | summarize makelist(MonitorId);\r\nlet outliers = dynamic([\r\n'CanaryAutoEscalationMonitor4',\r\n'Cluster VIP 443 Reachability3',\r\n'DataUnavailable4',\r\n'DevicesWithFaultyPSU4',\r\n'DS Heartbeat per Tenant4',\r\n'DS Tenant Heartbeat4',\r\n'IaaSDataCenterFailureOngoing4',\r\n'IaaSFailureSpike4',\r\n'MDM Heartbeat - Cluster4',\r\n'NMAgent-DS sync failure per node4',\r\n'NodeIsolationEventPublic3',\r\n'NodeIsolationEventPublic4',\r\n'NsmPrimaryHeartBeatMonitor4',\r\n'PartitionLoadFailed4',\r\n'PartitionNotLoaded4',\r\n'PowerSupply_Failed4',\r\n'PrimaryTracker_Fabricator3',\r\n'RDSReachability4',\r\n'ServerDown4',\r\n'SlbV1Monitor4',\r\n'Smoke Test Failure4',\r\n'TsRestartsWithActivePartitions4',\r\n'UnloadedPartitionCountPercentage4',\r\n'XStoreVmBlackoutsAnomalyXio4'\r\n]);\r\nlet filterByMonitor = materialize(IncidentPool\r\n    | project IncidentId, Title, RoutingId, MonitorId, Severity\r\n    | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", iff(RoutingId == \"ArgusProdAlert\", \"ArgusProdAlert\", MonitorId))))))\r\n    | where MonitorId in (monitorPool)\r\n    | project IncidentId, MonitorId, Severity);\r\nlet frequency =filterByMonitor\n    | summarize count() by MonitorId, Severity;\ndatatable(MonitorId:string)[\"dummy\"]\r\n    | extend MonitorId = toscalar(monitorPool)\r\n    | mvexpand MonitorId to typeof(string)\r\n    | extend dummy=1 | join kind=inner (datatable(Severity:int)[1,2,3,4] | extend dummy=1) on dummy\r\n    | join kind=leftouter(frequency) on MonitorId, Severity\n    | project-away dummy, dummy1, MonitorId1, Severity1\n    | project MonitorId, Severity, Score=1.0/(1+(iff(isnull(count_),0,count_)))\n    | extend MonitorSeverity = strcat(MonitorId, tostring(Severity))\n    | project MonitorId, Severity, Score = iff(MonitorSeverity in (outliers), 0.0, Score)      \n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Dev/V3","functionKind":"UnknownFunction","name":"GetFrequencyStats","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/63":{"id":"$fn_icmclusterlb/1/63","entityType":"Function","body":"{\r\nlet IncidentPool = materialize(IncidentsSnapshot_V1\r\n        | where CreateDate > startTime and CreateDate <= endTime        \r\n        );\r\n// filter by monitor\r\nlet monitorPool = dynamic([\"CanaryAutoEscalationMonitor\",\r\n \"NsmPrimaryHeartBeatMonitor\",\r\n \"VNetPingmeshPingCountPerCluster\",\r\n \"AtleastOnePrimary\",\r\n \"Cluster VIP 443 Reachability\",\r\n \"NumberOfSecodaryRolesForQuorum\",\r\n \"TsRestartsWithActivePartitions\",\r\n \"MDM Heartbeat - Cluster\",\r\n \"PartitionNotLoaded\",\r\n \"UnloadedPartitionCountPercentage\",\r\n \"DS Tenant Heartbeat\",\r\n \"ServiceBusRunnerMonitor\",\r\n \"FabricConnectivityMonitor\",\r\n \"IaaSFailureSpike\",\r\n \"RDSReachability\",\r\n \"NodeIsolationEventPublic\",\r\n \"AllRunnersUnhealthyMonitor\",\r\n \"PrimaryTracker_Fabricator\",\r\n \"75PercentT1down \",\r\n \"Service Healing Alarm\",\r\n \"DS Heartbeat per Tenant\",\r\n \"DataUnavailable\",\r\n \"MissingInterClusterOutCanaryMonitor\",\r\n \"IaaSDataCenterFailureOngoing\",\r\n \"Role Availability\",\r\n \"XSSE BadEnNodesIncidents\",\r\n \"Smoke Test Failure\",\r\n \"TORDownAnalysis (AzureAll)\",\r\n \"Pingdom\",\r\n \"SlbV1Monitor\",\r\n \"CrashingPartitionIsolated\",\r\n \"Runtime_HotSite\",\r\n \"Linux_HotSite\",\r\n \"Runtime_ColdSite\",\r\n \"XStoreVmBlackoutsAnomalyXio\",\r\n \"WAWSCanaryAlert\",\r\n \"PowerSupply_Failed\",\r\n \"DevicesWithFaultyPSU\",\r\n \"ServerDown\",\r\n \"InstanceHeartBeatMonitor\",\r\n \"InterfaceDown_HighSeverity\",\r\n \"PartitionLoadFailed\",\r\n \"NMAgent-DS sync failure per node\",\r\n \"StandardBrokerApp Application Unhealthy Monitor\"\r\n]);\r\nlet filterByMonitor = IncidentPool\r\n    | project IncidentId, Title, RoutingId, MonitorId\r\n    | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", iff(RoutingId == \"ArgusProdAlert\", \"ArgusProdAlert\", MonitorId))))))\r\n    | where MonitorId in (monitorPool)\r\n    | project IncidentId, MonitorId; \r\n// extract dc info\r\nlet dc_list = toscalar(cluster('https://aceswestus2.westus2.kusto.windows.net').database('IcMData').DC_Alias | project Alias | extend len=strlen(Alias) | sort by len desc | summarize make_list(Alias));\r\nlet dcregex = tolower(array_strcat(dc_list, '|'));\r\nlet expert_regex = tolower(strcat('[\\\\-(Location)(PROD)]{0,1}(', dcregex,')[a-z0-9]{0,1}($|PRD|PROD|ODC|Adams|Whitney|_|CRM|phx|Baker|Crater|xphx|POD|\\\\d{3}_|\\\\-|Redwood|EDGE|Denali|\\\\dR\\\\d|Zion|Stage|YL1|AzF|Helens|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|Hood|\\\\dB\\\\d|\\\\.)'));\r\n// get dc by expert knowledge\r\nlet incidentWithDC = filterByMonitor\r\n    | join kind=inner\r\n    (\r\n        IncidentPool\r\n    ) on IncidentId\r\n    | extend dc_col = iff(MonitorId in ('PartitionNotLoaded', 'UnloadedPartitionCountPercentage', 'TsRestartsWithActivePartitions', \r\n                                        'CrashingPartitionIsolated', 'PartitionLoadFailed', 'DataUnavailable', 'DataUnavailableForLongDuration', \r\n                                        'NumberOfSecodaryRolesForQuorum', 'Smoke Test Failure', 'Cluster VIP 443 Reachability', 'NsmPrimaryHeartBeatMonitor', \r\n                                        'MDM Heartbeat - Cluster', 'NodeIsolationEventPublic', 'DS Heartbeat per Tenant', 'PrimaryTracker_Fabricator', \r\n                                        'VNetPingmeshPingCountPerCluster', 'IaaSNodeFailureOngoing', 'DevicesWithFaultyPSU', 'TORDownAnalysis (AzureAll)', \r\n                                        'UpgradeException_UDFD', 'MrUnhealthyMonitor', 'UpgradeException', 'XStoreVmBlackoutsAnomalyXio', 'DetectedRegressionForNMAgent', \r\n                                        'DetectedRegressionForLM', 'MissingInterClusterOutCanaryMonitor', 'AtleastOnePrimary', 'TenantAnomalousLatencySeparationOfDistributionsNRT', \r\n                                        'XDS Connectivity Alert', 'NMAgent-DS sync failure per node', 'InstanceHeartBeatMonitor', 'XSSE BadEnNodesIncidents', \r\n                                        'FabricConnectivityMonitor', 'DS Tenant Heartbeat', 'RDSReachability', 'HwProxyFailure', 'Role Availability', \r\n                                        'ServerDown', 'ServiceBusRunnerMonitor', 'StandardBrokerApp Application Unhealthy Monitor', \r\n                                        'GatewayApp Application Unhealthy Monitor', 'AllRunnersUnhealthyMonitor', 'Service Healing Alarm', \r\n                                        'Service Healing Disabled', 'SlbV1Monitor', 'InterfaceFlapping', 'InterfaceErrors', 'InterfaceDown_HighSeverity', \r\n                                        'PowerSupply_Failed', 'IaaSFailureSpike', 'IaaSDataCenterFailureOngoing', '75PercentT1down ') and isnotnull(OccurringDeviceName), \r\n                            tolower(OccurringDeviceName), \r\n                         iff(MonitorId == 'WAWSCanaryAlert' and isnotnull(CorrelationId), \r\n                            tolower(CorrelationId),\r\n                         iff(Title contains 'Runtime_ColdSite' or Title contains 'Runtime_HotSite' or Title contains 'Linux_HotSite' or Title contains 'Linux_ColdSite' or Title contains 'Pingdom waws',\r\n                            tolower(OccurringDeviceName),\r\n                         iff(RoutingId == 'ArgusProdAlert' and isnotnull(OccurringDatacenter),\r\n                            tolower(OccurringDatacenter),\r\n                         iff(MonitorId == 'CanaryAutoEscalationMonitor' and isnotempty(Title), \r\n                            tolower(Title), '')))))\r\n    | extend dc_expert = tostring(extract(expert_regex, 1, dc_col))\r\n    | project-away dc_col, IncidentId1;\r\n// get dc by meta fields\r\nlet sourceIncidentId_regex = tolower(strcat('[\\\\/\\\\._\\\\-]{{0,1}}(', dcregex, ')[a-z0-9]{{0,1}}($|PROD|PRD)'));\r\nlet correlationId_regex = tolower(strcat('[\\\\/\\\\._\\\\-(DSMS)\\\\:(LOCATION\\\\[)(LOCATION)(AZNHPROD)]{{0,1}}(', dcregex,')[A-Z0-9]{{0,1}}($|PROD|PRD|PR\\\\d|STAGE|AZ|TST|_|ZION|RAINIER|ADAM|HELEN|\\\\-|DCFX|BAKER|WHITNEY|SCH|BAP|\\\\]|PHY|ANAP|;|POD|AAP|:|SEU|LM|LB|EDGE|OLYMPUS|F\\\\d|\\\\.AP\\\\.|VUT|ODCOR|CRM|GRORFER|YL1|ODSTL|\\\\d{{3}}_|ODA)'));\r\nlet raisingDeviceName_regex = tolower(strcat('[D]{{0,1}}(', dcregex,')[A-Z0-9]{{0,1}}($|AEAP|PRD|YL1|\\\\d[A-Z]\\\\d|\\\\-|\\\\d{{3}}DL|0VUT|VUT|DEU|\\\\d{{4,}}\\\\-\\\\d{{3}}|JP|SB|STAGE|AZF|AU|USA|\\\\d{{7,8}}$)'));\r\nlet occurringDeviceName_regex = tolower(strcat('[\\\\-(LOCATION)(PROD)]{{0,1}}(', dcregex, ')[A-Z0-9]{{0,1}}($|PRD|PROD|ODC|ADAMS|WHITNEY|_|CRM|PHX|BAKER|CRATER|XPHX|POD|\\\\d{{3}}_|\\\\-|REDWOOD|EDGE|DENALI|\\\\dR\\\\d|ZION|STAGE|YL1|AZF|HELENS|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|HOOD|\\\\dB\\\\d|\\\\.)'));\r\nlet incidentWithDC_metaField = incidentWithDC\r\n    | where isempty(dc_expert)\r\n    | extend sourceIncidentId_dc = extract(sourceIncidentId_regex, 1, SourceIncidentId),\r\n            correlationId_dc = extract(correlationId_regex, 1, CorrelationId),\r\n            //raisingDeviceName_dc = extract(raisingDeviceName_regex, 1, RaisingDeviceName),\r\n            occurringDeviceName_dc = extract(occurringDeviceName_regex, 1, OccurringDeviceName)\r\n    | where isnotempty(sourceIncidentId_dc) or isnotempty(correlationId_dc) or isnotempty(occurringDeviceName_dc)\r\n    | extend dc_list = pack_array(sourceIncidentId_dc, correlationId_dc, occurringDeviceName_dc)\r\n    | project IncidentId, dc_list\r\n    | mv-expand dc_list\r\n    | extend dc_meta = tostring(dc_list\r\n    )\r\n    | where isnotempty(dc_meta)\r\n    | summarize dc_count = count() by IncidentId, dc_meta\r\n    | summarize dc_meta=arg_max(dc_count, dc_meta) by IncidentId\r\n    | project IncidentId, dc_meta\r\n    ;\r\nlet IncidentPool_DC = incidentWithDC\r\n    | join kind=leftouter \r\n    (\r\n        incidentWithDC_metaField\r\n    ) on IncidentId\r\n    | extend dc=iff(isempty(dc_expert), tostring(dc_meta), tostring(dc_expert))\r\n    | where isnotempty(dc)\r\n    | project-away IncidentId1\r\n    | join kind = leftouter(cluster('https://aceswestus2.westus2.kusto.windows.net').database('IcMData').DC_Alias | extend Alias=tolower(Alias), DCMT_Id = tolower(DCMT_Id)) on $left.dc == $right.Alias\r\n    | where OccurringEnvironment != \"TEST\" and isnotempty(DCMT_Id) // and OccurringEnvironment != \"PPE\" \r\n    | project IncidentId, SourceCreateDate=CreateDate, MonitorId, Severity, dc=tolower(DCMT_Id), Title, OriginatingTenantName=OwningTenantName, HitCount=0\r\n    ;\r\nIncidentPool_DC\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Dev/V3","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms_V3","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/64":{"id":"$fn_icmclusterlb/1/64","entityType":"Function","body":"{\r\n    let LookbackWeights = dynamic([6.93858644,6.54201137,-0.29647282,-4.33581111,14.31012755,5.74105826]);\r\n    let LookbackBias = -5.07016565;\r\n    let raw_data = GetPowerOutageSymptoms_V3(startDate, endDate);\r\n    let weight = cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(300d), now())\r\n        | project-rename Score300 = Score\r\n        | join cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(200d), now()) on MonitorId, Severity\r\n        | project-rename Score200 = Score\r\n        | join cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(100d), now()) on MonitorId, Severity\r\n        | project-rename Score100 = Score\r\n        | join cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(50d), now()) on MonitorId, Severity\r\n        | project-rename Score50 = Score\r\n        | join cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(30d), now()) on MonitorId, Severity\r\n        | project-rename Score30 = Score\r\n        | join cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetFrequencyStats(ago(10d), now()) on MonitorId, Severity\r\n        | project-rename Score10 = Score\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity));\r\n    let processed = raw_data\r\n        | extend MonitorBySeverity = strcat(MonitorId, tostring(Severity))\r\n        | join kind= leftouter (weight) on MonitorBySeverity\r\n        | summarize SeveritySet=makeset(Severity), \r\n                UniqueMonitorCount=dcount(MonitorId), \r\n                UniqueMonitorbySeverityCount=dcount(MonitorBySeverity), \r\n                MonitorBySeveritySet=makeset(MonitorBySeverity, 1000), \r\n                OriginatingTenants=makeset(OriginatingTenantName, 1000), \r\n                IncidentIds=makeset(IncidentId, 1000),\r\n                HitCount = makeset(HitCount, 1000),\r\n                HitCountTotal = sum(HitCount),\r\n                Score = 1/(1+exp(-(LookbackBias+\r\n                sum(LookbackWeights[0]*Score300\r\n                    + LookbackWeights[1]*Score200\r\n                    + LookbackWeights[2]*Score100\r\n                    + LookbackWeights[3]*Score50\r\n                    + LookbackWeights[4]*Score30\r\n                    + LookbackWeights[5]*Score10)))),\r\n                HitCountAvg = avg(HitCount) by dc;\r\n    processed\r\n        //| mv-expand MonitorBySeveritySet to typeof(string) limit 100\r\n       // | join kind = leftouter weight on $left.MonitorBySeveritySet == $right.MonitorBySeverity\r\n        //| summarize Score=sum(Score) by dc\r\n        //| join processed on dc\r\n        | extend HasSev2 = tostring(SeveritySet) contains \"2\", OnlyAppService = (array_length(OriginatingTenants) == 1 and OriginatingTenants[0] == \"App Service (Web Apps)\")\r\n        | project-away SeveritySet\r\n        | extend num_incidents = array_length(IncidentIds)\r\n        | project dc, Score, UniqueMonitorbySeverityCount, UniqueMonitorCount, MonitorBySeveritySet, OriginatingTenants, NumTenants=array_length(OriginatingTenants), HitCountTotal, HitCountAvg, IncidentIds, HasSev2, num_incidents\n}","docstring":"Get metrics for detecting power outages","folder":"IcMML/PowerLoss/Dev/V3","functionKind":"UnknownFunction","name":"GetPowerOutageFeatures_V3","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/65":{"id":"$fn_icmclusterlb/1/65","entityType":"Function","body":"{\r\nlet scoutIncident = cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n| where CreateDate >= startTime and CreateDate <= endTime\r\n| where OwningTeamId == 66319 // ICMINCIDENTMANAGEMENTSERVICE\\PotentialOutages\r\n| where Title startswith scoutTitlePattern // \"Potential outage impacting multiple services\"\r\n| project IncidentId;\r\n// related incidents from OutageScopeIncident\r\nlet outageScopeIncident = materialize(\r\ncluster('icmcluster.kusto.windows.net').database('Outage').OutageScopeResult\r\n| where Lens_IngestionTime >= startTime\r\n| extend extractedScoutIncident = extract(strcat('(', strcat_array(toscalar (scoutIncident | summarize make_set(IncidentId)), '|'), ')'), 1, Json)\r\n| where isnotempty( extractedScoutIncident)\r\n| summarize arg_max(Lens_IngestionTime, *) by Id\r\n| project ParentId, Json\r\n| extend JsonObj = tostring(parse_json(Json)['ScopedIncidentIds'])\r\n| extend ScopeIncidentList = parse_json(JsonObj)\r\n| project ParentId, ScopeIncidentList\r\n| mv-expand ScopeIncidentList\r\n| extend IncidentId = tolong(ScopeIncidentList['IncidentId'])\r\n| join kind=inner \r\n(\r\n    scoutIncident\r\n) on IncidentId\r\n| project ParentId, ScoutIncident=IncidentId\r\n| join kind=inner \r\n(\r\n    cluster('icmcluster.kusto.windows.net').database('Outage').OutageScopeResult\r\n    | where Lens_IngestionTime >= startTime\r\n) on ParentId\r\n| project ScoutIncident, Json\r\n| extend JsonObj = tostring(parse_json(Json)['ScopedIncidentIds'])\r\n| extend ScopeIncidentList = parse_json(JsonObj)\r\n| project ScoutIncident, ScopeIncidentList\r\n| mv-expand ScopeIncidentList\r\n| extend IncidentId = tolong(ScopeIncidentList['IncidentId'])\r\n| distinct ScoutIncident, IncidentId\r\n| where isnotempty(IncidentId)\r\n);\r\n// incidents linked by the scout itself\r\nlet incidentrelations = materialize(cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentRelationships\r\n    | where RelationshipType !in ('INVALID')\r\n    | where ParentIncidentId in (toscalar (scoutIncident | summarize make_set(IncidentId))) or ChildIncidentId  in (toscalar (scoutIncident | summarize make_set(IncidentId)))\r\n    | project ParentIncidentId, ChildIncidentId);\r\nlet child2Parent = materialize(\r\n    scoutIncident\r\n    | join kind=inner\r\n    (\r\n        incidentrelations\r\n    ) on $left.IncidentId == $right.ChildIncidentId\r\n    | project ScoutIncident=IncidentId, IncidentId=ParentIncidentId\r\n    );\r\nlet parent2Child = materialize(\r\n    scoutIncident\r\n    | join kind=inner\r\n    (\r\n        incidentrelations\r\n    ) on $left.IncidentId == $right.ParentIncidentId\r\n    | project ScoutIncident=IncidentId, IncidentId=ChildIncidentId \r\n    | union\r\n    (\r\n        child2Parent\r\n        | join\r\n        (   incidentrelations\r\n        ) on $left.IncidentId == $right.ParentIncidentId\r\n        | project ScoutIncident, IncidentId=ChildIncidentId\r\n    )\r\n    );\r\n// check outage declared time for each outage incidents\r\nlet scoutRelatedIncident = materialize (\r\noutageScopeIncident\r\n| union child2Parent, parent2Child\r\n| distinct ScoutIncident, IncidentId\r\n| where ScoutIncident != IncidentId\r\n);\r\nlet relatedOutage = materialize (\r\nscoutRelatedIncident\r\n| summarize by IncidentId\r\n| join kind=inner \r\n    (\r\n        cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n        | where CreateDate >= startTime\r\n        | where IsOutage == 1\r\n        | project IncidentId\r\n    ) on IncidentId\r\n| join kind=inner\r\n(\r\n    cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentHistory\r\n    | where ChangeDate >= startTime\r\n    | where IsOutage == 1\r\n    | project IncidentId, ChangeDate, Lens_IngestionTime\r\n) on IncidentId\r\n| summarize arg_min(Lens_IngestionTime, *) by IncidentId\r\n| project IncidentId, OutageDeclaredTime = ChangeDate\r\n);\r\nlet scoutCreationTime =materialize (\r\nscoutRelatedIncident\r\n| summarize by ScoutIncident\r\n| join kind=inner \r\n    (\r\n        cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n        | where CreateDate >= startTime\r\n        | project IncidentId, CreateDate\r\n    ) on $left.ScoutIncident == $right.IncidentId\r\n| project ScoutIncident, ScoutCreationTime=CreateDate\r\n);\r\nscoutRelatedIncident\n| join\r\n(\r\nrelatedOutage\r\n) on IncidentId\n| join kind=leftouter \r\n(\r\nscoutCreationTime\r\n) on ScoutIncident\r\n| project ScoutIncident, ScoutCreationTime, IncidentId, OutageDeclaredTime\r\n| extend SavedTTD_inMinute = datetime_diff('minute', OutageDeclaredTime, ScoutCreationTime)\r\n// | sort by ScoutIncident desc, SavedTTD_inMinute desc\r\n}","docstring":"Get Outages Related to Scout's Incidents","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"GetPowerlossOutputRelatedIncident","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"},{"name":"scoutTitlePattern","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/66":{"id":"$fn_icmclusterlb/1/66","entityType":"Function","body":"{\r\nlet scoutTitlePattern = 'Potential outage impacting multiple services';\r\nlet scoutIncidentRelatedOutage = cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').GetPowerlossOutputRelatedIncident(startTime, endTime, scoutTitlePattern)\r\n| join kind=leftantisemi \r\n(\r\n    cluster('icmtest.kusto.windows.net').database('IcmDataWarehouseTest').PowerlossScoutRelatedOutage\r\n) on ScoutIncident, $left.IncidentId == $right.OutageIncident\r\n;\r\nlet scoutIncidentInfo = materialize (\nscoutIncidentRelatedOutage\n| summarize by ScoutIncident\n| project IncidentId=ScoutIncident\n// find linked incidents\n| join kind=inner\n(cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentRelationships\n| where RelationshipType !in ('INVALID')\n| project ParentIncidentId, ChildIncidentId\n) on $left.IncidentId == $right.ParentIncidentId\n| project IncidentId, LinkedIncident=ChildIncidentId\n| join kind=inner\r\n(cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n    | where CreateDate >= startTime and CreateDate <= endTime\r\n    | project LinkedIncident=IncidentId, Severity, OriginatingTenantName, CreateDate\r\n) on LinkedIncident\r\n| summarize Sev1_Count=countif(Severity == 1), Sev2_Count=countif(Severity == 2), Sev3_Count=countif(Severity == 3), Sev4_Count=countif(Severity == 4), OriginatingTenantCount=dcount(OriginatingTenantName), OriginatingTenantSet=make_set(OriginatingTenantName) by IncidentId\n| join kind=inner\r\n(\r\ncluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n     | where CreateDate >= startTime and CreateDate <= endTime\r\n     | project IncidentId, Title\r\n) on IncidentId\r\n| extend ImpactedDC=extract(\"detected in DC:\\\\s*(.+)\", 1, Title)\r\n| project ScoutIncident=IncidentId, ImpactedDC, Sev1_Count, Sev2_Count, Sev3_Count, Sev4_Count, OriginatingTenantCount, OriginatingTenantSet\n);\nlet relatedOutageInfo = materialize (\nscoutIncidentRelatedOutage\n| summarize by IncidentId\n| join kind=inner\r\n(cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n    | where CreateDate >= startTime and CreateDate <= endTime\n    | project IncidentId, Severity, OwningTeamName, OwningTenantName\n) on IncidentId\n| project OutageIncident=IncidentId, OutageSeverity=Severity, OutageTeam=OwningTeamName, OutageTenant=OwningTenantName\n);\nscoutIncidentRelatedOutage\n| join kind=inner \n(\n    scoutIncidentInfo\n) on ScoutIncident\n| join kind=inner \n(\n    relatedOutageInfo\n) on $left.IncidentId == $right.OutageIncident\n| extend Ingestion_Time=now()\n| project ScoutIncident, ScoutCreationTime, ImpactedDC, Sev1_Count, Sev2_Count, Sev3_Count, Sev4_Count, OriginatingTenantCount, OriginatingTenantSet, OutageIncident, OutageSeverity, OutageTeam, OutageTenant, OutageDeclaredTime, SavedTTD_inMinute, Ingestion_Time\r\n| extend EventOutageId = strcat(replace('T', ' ', extract('(.+)\\\\.\\\\d+', 1, tostring(ScoutCreationTime))), 'UTC @ ', toupper(ImpactedDC), ' (', tostring(ScoutIncident), ')')\r\n}","docstring":"Ingest Outages Related to Scout's Incidents into PowerlossScoutRelatedOutage","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"GetPowerlossRelatedOutageIncremental","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/67":{"id":"$fn_icmclusterlb/1/67","entityType":"Function","body":"{\r\n//let endDate = datetime(2020-07-01);\r\n//let timespanindays = 30d;\r\n//let owningTeamIds = dynamic([32606,73723,51792,62601,63348,63447,63958,63979,64456,63348,10426,10612,11002]);\r\nlet filtered_severities = iff(array_length( severities) == 0, dynamic([0,1,2,3,4]), severities);\r\nlet icmdbname='IcMDataWarehouse';\r\nlet sparckdbname='Icmanalytics';\r\nlet newendDate=min_of(endDate, startofday(now()));\r\n// Get the list of valid team ids and corresponding tenant ids.\r\nlet validTeams = materialize(database(icmdbname).Teams | where TeamId in (owningTeamIds) | summarize teamids=make_set(TeamId), tenantids=make_set(TenantId));\r\nlet validTeamIds = toscalar(validTeams | project teamids);\r\nlet validTenantIds = toscalar(validTeams | project tenantids);\r\n// Get the latest end date for which insights are available\r\nlet latestEndDate = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate <= newendDate and EndDate > newendDate - 7d\r\n| summarize max(EndDate));\r\n// Get the lastest compute time \r\nlet latestComputeTime = toscalar(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| summarize max(ComputeTime));\r\n// Get the insights details for the latest dates and valid teams.\r\n// Get empty environment recommended action list\r\nlet EmptyEnvironmentRecommendation = materialize(database(sparckdbname).EmptyEnvironmentStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyEnvironment), RecommendedEnvironmentValue=any(NewOccurringEnvironment), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEnvironmentAction=pack_all()\r\n| summarize AddEnvironmentAction=tostring(make_list(AddEnvironmentAction)) by OwningTeamId)\r\n;\r\n// Get empty correlation id recommended action list\r\nlet EmptyCorrelationIdRecommendation = materialize(database(sparckdbname).EmptyCorrelationIdStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), SampleIncidentId=any(SampleIncidentId), NumIncidents=sum(NumIncidentsWithEmptyCorrelationId), RecommendedCorrelationIdValue=any(NewCorrelationId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddCorrelationIdAction=pack_all()\r\n| summarize AddCorrelationIdAction=tostring(make_list(AddCorrelationIdAction)) by OwningTeamId)\r\n;\r\n// Get empty match fields recommended action list\r\nlet EmptyMatchFieldsRecommendation = materialize(database(sparckdbname).EmptyMatchFieldsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidentsWithMatchingEmptyDC=sum(NumIncWithMatchingEmptyDC), \r\nNumIncidentsWithMatchingEmptyDG=sum(NumIncWithMatchingEmptyDG), NumIncidentsWithMatchingEmptyDN=sum(NumIncWithMatchingEmptyDN),\r\nNumIncidentsWithMatchingEmptySID=sum(NumIncWithMatchingEmptySID), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, SourceName, RoutingId\r\n| project OwningTeamId, AddEmptyMatchingFieldsAction=pack_all()\r\n| summarize AddEmptyMatchingFieldsAction=tostring(make_list(AddEmptyMatchingFieldsAction)) by OwningTeamId)\r\n;\r\n// Get creation date window recommended action list\r\nlet CreationDateWindowRecommendation = materialize(database(sparckdbname).CreationDateWindowStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), OldCreationDateWindow=any(OldCreationDateWindow), RecommendedCreationDateWindow = any(NewCreationDateWindow), ActionId=any(UniqueId) by CorrelationRuleId, OwningTeamId\r\n| project OwningTeamId, IncreaseCreationDateWindowAction=pack_all()\r\n| summarize IncreaseCreationDateWindowAction=tostring(make_list(IncreaseCreationDateWindowAction)) by OwningTeamId)\r\n;\r\n// Get auto-mitigation recommended action list\r\nlet AutomitigationRecommendation = materialize(database(sparckdbname).AutomitigationStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), RecommendedIncrementTime=tolong(any(DeltaMitigateTime)), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, IncreaseTTMAction=pack_all()\r\n| summarize IncreaseTTMAction=tostring(make_list(IncreaseTTMAction)) by OwningTeamId)\r\n;\r\n// Get distinct correlation id recommended action list\r\nlet DistinctCorrelationIdsRecommendation = materialize(database(sparckdbname).DistinctCorrelationIdsStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize MonitorUrl=any(MonitorUrl), NumIncidents=sum(NumInitialIncidents), NumDistinctCorrelationIdValues=sum(NumDistinctCorrelationIds), SampleIncidentId=any(SampleIncidentId), \r\nRecommendedCorrelationIdValue=any(NewCorrelationId), RecommendedDataCenterValue=any(NewOccurringDatacenter), RecommendedDeviceGroupValue=any(NewOccurringDeviceGroup), \r\nRecommendedDeviceNameValue=any(NewOccurringDeviceName), RecommendedServiceInstancIdValue=any(NewOccurringServiceInstanceId), ActionId=any(UniqueId) by OwningTeamId, MonitorId, RoutingId, SourceName\r\n| project OwningTeamId, UnifyCorrelationIdAction=pack_all()\r\n| summarize UnifyCorrelationIdAction=tostring(make_list(UnifyCorrelationIdAction)) by OwningTeamId)\r\n;\r\n// Get new correlation rule recommended action list\r\nlet NewCorrelationRulesRecommendation = materialize(database(sparckdbname).NewCorrelationRulesStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| where IsRecommendationFound == 1\r\n| summarize RuleType=\"new\", NumIncidents=sum(NumInitialIncidents), SampleIncidentId=any(SampleIncidentId), ActionId=any(UniqueId) by TenantId, TenantName, OwningTeamId, RoutingId, CorrelationId, \r\nEnvironment, Datacenter, DeviceGroup, DeviceName, ServiceInstanceId, ModifiedBy, Description, Priority, MatchDatacenter, MatchDeviceGroup, MatchDeviceName, MatchServiceInstanceId, MatchSeverity,\r\nCreationDateWindow, Mode, IncludeOriginatingTenant\r\n| project OwningTeamId, AddCorrelationRuleAction=pack_all()\r\n| summarize AddCorrelationRuleAction=tostring(make_list(AddCorrelationRuleAction)) by OwningTeamId)\r\n;\r\n// Get the overall incident volume reduction for all teams\r\nlet IncidentVolumeBySeverity=materialize(validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids)\r\n| extend severities=filtered_severities\r\n| mv-expand severities\r\n| project OwningTeamId, Severity=tostring(severities)\r\n| join kind=leftouter(database(sparckdbname).SummaryStats\r\n| where EndDate == latestEndDate and StartDate == latestEndDate - timespanindays\r\n| where ComputeTime == latestComputeTime\r\n| where OwningTeamId in (validTeamIds)\r\n| where Severity in (filtered_severities)\r\n| extend Severity=tostring(Severity)\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume) on OwningTeamId, Severity\r\n| project OwningTeamId, Severity, InitialVolume=iff(isnull( InitialVolume), 0, InitialVolume), \r\nFinalVolume=iff(isnull( FinalVolume), 0, FinalVolume),\r\nPercentageReduction=iff(isnull(PercentageReduction), 0.0, PercentageReduction))\r\n;\r\nlet IncidentVolumeAllSeverities=materialize(IncidentVolumeBySeverity\r\n| summarize Severity='all', InitialVolume=sum(InitialVolume), FinalVolume=sum(FinalVolume) by OwningTeamId\r\n| extend PercentageReduction=(InitialVolume-FinalVolume)*100.0/InitialVolume)\r\n;\r\nlet IncidentVolume=materialize(IncidentVolumeBySeverity\r\n| union IncidentVolumeAllSeverities)\r\n;\r\nlet IncidentVolumeObject=materialize(IncidentVolume \r\n| project OwningTeamId, IncidentVolume=pack(\"Severity\", Severity, \"InitialVolume\", InitialVolume, \"FinalVolume\", FinalVolume, \"PercentageReduction\" , PercentageReduction)\r\n| summarize IncidentVolume=tostring(make_list(IncidentVolume)), \r\nInitialIncidentVolume=sumif(tolong(IncidentVolume.InitialVolume), IncidentVolume.Severity =~ \"all\"),\r\nFinalIncidentVolume=sumif(tolong(IncidentVolume.FinalVolume), IncidentVolume.Severity =~ \"all\") by OwningTeamId\r\n| extend PercentageVolumeReduction=(InitialIncidentVolume-FinalIncidentVolume)*100.0/InitialIncidentVolume)\r\n;\r\nlet Result=materialize(validTeams\r\n| mv-expand teamids\r\n| project OwningTeamId=tolong(teamids), StartDate=latestEndDate-timespanindays, EndDate=latestEndDate\r\n| join kind=leftouter (IncidentVolumeObject) on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyEnvironmentRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyCorrelationIdRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter EmptyMatchFieldsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter CreationDateWindowRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter AutomitigationRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter DistinctCorrelationIdsRecommendation on OwningTeamId\r\n| project-away OwningTeamId1\r\n| join kind=leftouter NewCorrelationRulesRecommendation on OwningTeamId\r\n| project-away OwningTeamId1)\r\n;\r\nResult\r\n| extend HelpLink = \"https://genevamondocs.azurewebsites.net/alerts/AdvancedTopics/HealthModel/UseHealthModel.html#for-incident-aggregation\"\r\n// InitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction are not used anymore. Need to remove after updating the API.\r\n| project OwningTeamId, StartDate, EndDate, \r\nInitialIncidentVolume, FinalIncidentVolume, PercentageVolumeReduction, \r\nIncidentVolume, AddEnvironmentAction, AddCorrelationIdAction, AddEmptyMatchingFieldsAction, UnifyCorrelationIdAction, IncreaseCreationDateWindowAction, IncreaseTTMAction, AddCorrelationRuleAction, HelpLink\r\n}","docstring":"Get IcM Insights for a team","folder":"IcMML","functionKind":"UnknownFunction","name":"GetVolumeInsightsDetails_V1","outputColumns":[],"inputParameters":[{"name":"owningTeamIds","cslType":"dynamic","type":"System.Object"},{"name":"timespanindays","cslType":"timespan","type":"System.TimeSpan","cslDefaultValue":"time(30.00:00:00)"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"},{"name":"severities","cslType":"dynamic","type":"System.Object"}]},"$fn_icmclusterlb/1/68":{"id":"$fn_icmclusterlb/1/68","entityType":"Function","body":"{\r\n    let now = now();\r\n    let startTime = toscalar(IncidentHistory | where HistoryId  == startHistoryId | project ChangeDate);\r\n    let endTime = toscalar(IncidentHistory | where HistoryId  == endHistoryId | project ChangeDate);\r\n    let teamLevelConfig = materialize(AutoCorrelationConfig\r\n    | summarize arg_max(Lens_IngestionTime, *) by AutoCorrelationConfigId\r\n    | where EntityIdType == \"Team\" and IsAutoCorrelationEnabled == 1 and SendEmailIntervalInMinutes > 0\r\n    | extend EnabledOnTeam = 1\r\n    | project TeamId = EntityId, EnabledOnTeam);\r\n    let serviceLevelConfig = materialize(AutoCorrelationConfig\r\n    | summarize arg_max(Lens_IngestionTime, *) by AutoCorrelationConfigId\r\n    | where EntityIdType == \"Service\" and IsAutoCorrelationEnabled == 1 and SendEmailIntervalInMinutes > 0\r\n    | extend EnabledOnService = 1\r\n    | project TenantId = EntityId, EnabledOnService);\r\n    let enabledTeams = materialize(Teams\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId\r\n    | where IsTombstoned != 1\r\n    | join kind=leftouter teamLevelConfig on TeamId\r\n    | join kind=leftouter serviceLevelConfig on TenantId\r\n    | where (AutoCorrelationConfigOverrideService == 1 and EnabledOnTeam == 1) or (AutoCorrelationConfigOverrideService != 1 and EnabledOnService == 1)\r\n    | project TeamId);\r\n    let acesLinks = materialize(IncidentHistory\r\n    | where HistoryId > startHistoryId\r\n    | where HistoryId <= endHistoryId\r\n    | where ChangedBy == \"IcmAutoCorrelation\"\r\n    | where ChangeDescription == \"Marked incident as duplicate\"\r\n    | summarize by ParentIncidentId, RelationshipChildId\r\n    | project ParentIncidentId, ChildIncidentId = RelationshipChildId);\r\n    let childIncidents = materialize(Incidents\r\n    | where IncidentId in ((acesLinks | project  ChildIncidentId))\r\n    | where Severity <= 2\r\n    | summarize arg_max(Lens_IngestionTime, IncidentId, Title, CreateDate) by IncidentId\r\n    | extend ChildIncident = pack('IncidentId', IncidentId, 'Title', Title, 'CreateDate', CreateDate)\r\n    | project IncidentId, ChildIncident);\r\n    let incidents = materialize(Incidents\r\n    | where IncidentId in ((acesLinks | project ParentIncidentId))\r\n    | summarize arg_max(Lens_IngestionTime, IncidentId, OwningTeamId, Title, Severity, CreateDate, ImpactStartDate, OwningContactAlias, OwningContactId, Status) by IncidentId\r\n    | extend OwningContactId = tolong(OwningContactId));\r\n    let owners = materialize(Contacts\r\n    | where ContactId in ((incidents | where isnotempty(OwningContactId)\r\n    | project OwningContactId))\r\n    | summarize arg_max(Lens_IngestionTime, OwnerEmailAddress = EmailAddress) by ContactId);\r\n    let teams = materialize(Teams\r\n    | where TeamId in ((incidents | project OwningTeamId))\r\n    | where TeamId in (enabledTeams)\r\n    | summarize arg_max(Lens_IngestionTime, TeamId, TeamName, TenantName, Alias, AliasDomain) by TeamId\r\n    | extend TeamEmailAddress = strcat(Alias, \"@\", AliasDomain));\r\n    let teamSchedules = materialize(cluster('icmcluster.kusto.windows.net').database('DirectoryServicePROD').TeamSchedule\r\n    | where TeamId in ((teams | project TeamId))\r\n    | summarize arg_max(IngestTime, *) by TeamId   \r\n    | mv-expand oncall = parse_json(TeamOnCallSlotsInUtcJson)\r\n    | extend ContactId = tolong(oncall.ContactId)\r\n    | distinct TeamId, ContactId);\r\n    let schedules = materialize(cluster('icmcluster.kusto.windows.net').database('DirectoryServicePROD').ContactTeamSchedule\r\n    | where TeamId in ((teams | project TeamId))\r\n    | summarize arg_max(IngestTime, ContactOnCallSlotsInUtcJson) by TeamId, ContactId\r\n    | mv-expand oncall = parse_json(ContactOnCallSlotsInUtcJson)\r\n    | extend startDate=todatetime(oncall.StartTime), endDate=todatetime(oncall.EndTime)\r\n    | where startDate <= now and endDate > now\r\n    | project TeamId, ContactId\r\n    | join kind = inner teamSchedules on TeamId, ContactId);\r\n    let oncallcontacts = materialize(Contacts\r\n    | where ContactId in ((schedules | project ContactId))\r\n    | summarize arg_max(Lens_IngestionTime, EmailAddress) by ContactId);\r\n    let dris = materialize(schedules\r\n    | join kind=inner oncallcontacts on ContactId\r\n    | summarize drisEmailAddresses = make_set(EmailAddress) by TeamId);\r\n    acesLinks\r\n    | join kind=inner childIncidents on $left.ChildIncidentId==$right.IncidentId\r\n    | summarize ChildIncidents = make_set(ChildIncident) by ParentIncidentId\r\n    | join kind=inner incidents on $left.ParentIncidentId == $right.IncidentId\r\n    | join kind=inner teams on $left.OwningTeamId == $right.TeamId\r\n    | join kind=leftouter owners on $left.OwningContactId == $right.ContactId\r\n    | extend p = pack(\"ParentIncidentId\", ParentIncidentId, \"OwningTenantName\", TenantName, \"OwningTeamName\", TeamName, \"Title\", Title, \"Severity\", Severity, \"CreateDate\", CreateDate, \"ImpactStartDate\", ImpactStartDate, \"OwningContactAlias\", OwningContactAlias, \"OwningcontactId\", OwningContactId, \"Status\", Status, \"ChildIncidents\", ChildIncidents)\r\n    | summarize LinkGroups = make_set(p), make_set(TeamEmailAddress), make_set_if(OwnerEmailAddress, isnotempty(OwnerEmailAddress)) by TeamId, TeamName\r\n    | join kind = leftouter dris on TeamId\r\n    | project TeamId, TeamName, EmailAddresses = set_union(set_TeamEmailAddress, drisEmailAddresses, set_OwnerEmailAddress), LinkGroups, StartTime=startTime, EndTime=endTime\r\n}","docstring":"Get the parent-child auto correlation made by ACES","folder":"AutoCorrelation","functionKind":"UnknownFunction","name":"GetAutoCorrelationsV2","outputColumns":[],"inputParameters":[{"name":"startHistoryId","cslType":"long","type":"System.Int64"},{"name":"endHistoryId","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/69":{"id":"$fn_icmclusterlb/1/69","entityType":"Function","body":"{\r\nlet IncidentPool = materialize(cluster('icmprod').database('IcmDataWarehouse').IncidentsSnapshot(true)\r\n        | where CreateDate > startTime and CreateDate <= endTime        \r\n        // | summarize arg_max(EventCreatedTime, *) by IncidentId\r\n        );\r\n// filter by monitor\r\nlet filterByMonitor = IncidentPool\r\n    | project IncidentId, Title, RoutingId, MonitorId\r\n    | extend MonitorId = iff(Title contains \"Runtime_ColdSite\", \"Runtime_ColdSite\",\r\n                         iff(Title contains \"Runtime_HotSite\", \"Runtime_HotSite\",\r\n                         iff(Title contains \"Linux_HotSite\", \"Linux_HotSite\",\r\n                         iff(Title contains \"Linux_ColdSite\", \"Linux_ColdSite\",\r\n                         iff(Title contains \"Pingdom\", \"Pingdom\", iff(RoutingId == \"ArgusProdAlert\", \"ArgusProdAlert\", MonitorId))))))\r\n    | where isnotempty(MonitorId)\r\n    | project IncidentId, MonitorId;\r\n// extract dc info\r\nlet dc_list = toscalar(cluster('icmprod').database('Icmanalytics').DC_Alias | project Alias | extend len=strlen(Alias) | sort by len desc | summarize make_list(Alias));\r\nlet dcregex = tolower(array_strcat(dc_list, '|'));\r\nlet expert_regex = tolower(strcat('[\\\\-(Location)(PROD)]{0,1}(', dcregex,')[a-z0-9]{0,1}($|PRD|PROD|ODC|Adams|Whitney|_|CRM|phx|Baker|Crater|xphx|POD|\\\\d{3}_|\\\\-|Redwood|EDGE|Denali|\\\\dR\\\\d|Zion|Stage|YL1|AzF|Helens|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|Hood|\\\\dB\\\\d|\\\\.)'));\r\n// get dc by expert knowledge\r\nlet incidentWithDC = filterByMonitor\r\n    | join kind=inner\r\n    (\r\n        IncidentPool\r\n    ) on IncidentId\r\n    | extend dc_col = iff(MonitorId in ('PartitionNotLoaded', 'UnloadedPartitionCountPercentage', 'TsRestartsWithActivePartitions', \r\n                                        'CrashingPartitionIsolated', 'PartitionLoadFailed', 'DataUnavailable', 'DataUnavailableForLongDuration', \r\n                                        'NumberOfSecodaryRolesForQuorum', 'Smoke Test Failure', 'Cluster VIP 443 Reachability', 'NsmPrimaryHeartBeatMonitor', \r\n                                        'MDM Heartbeat - Cluster', 'NodeIsolationEventPublic', 'DS Heartbeat per Tenant', 'PrimaryTracker_Fabricator', \r\n                                        'VNetPingmeshPingCountPerCluster', 'IaaSNodeFailureOngoing', 'DevicesWithFaultyPSU', 'TORDownAnalysis (AzureAll)', \r\n                                        'UpgradeException_UDFD', 'MrUnhealthyMonitor', 'UpgradeException', 'XStoreVmBlackoutsAnomalyXio', 'DetectedRegressionForNMAgent', \r\n                                        'DetectedRegressionForLM', 'MissingInterClusterOutCanaryMonitor', 'AtleastOnePrimary', 'TenantAnomalousLatencySeparationOfDistributionsNRT', \r\n                                        'XDS Connectivity Alert', 'NMAgent-DS sync failure per node', 'InstanceHeartBeatMonitor', 'XSSE BadEnNodesIncidents', \r\n                                        'FabricConnectivityMonitor', 'DS Tenant Heartbeat', 'RDSReachability', 'HwProxyFailure', 'Role Availability', \r\n                                        'ServerDown', 'ServiceBusRunnerMonitor', 'StandardBrokerApp Application Unhealthy Monitor', \r\n                                        'GatewayApp Application Unhealthy Monitor', 'AllRunnersUnhealthyMonitor', 'Service Healing Alarm', \r\n                                        'Service Healing Disabled', 'SlbV1Monitor', 'InterfaceFlapping', 'InterfaceErrors', 'InterfaceDown_HighSeverity', \r\n                                        'PowerSupply_Failed', 'IaaSFailureSpike', 'IaaSDataCenterFailureOngoing', '75PercentT1down ') and isnotnull(OccurringDeviceName), \r\n                            tolower(OccurringDeviceName), \r\n                         iff(MonitorId == 'WAWSCanaryAlert' and isnotnull(CorrelationId), \r\n                            tolower(CorrelationId),\r\n                         iff(Title contains 'Runtime_ColdSite' or Title contains 'Runtime_HotSite' or Title contains 'Linux_HotSite' or Title contains 'Linux_ColdSite' or Title contains 'Pingdom waws',\r\n                            tolower(OccurringDeviceName),\r\n                         iff(RoutingId == 'ArgusProdAlert' and isnotnull(OccurringDatacenter),\r\n                            tolower(OccurringDatacenter),\r\n                         iff(MonitorId == 'CanaryAutoEscalationMonitor' and isnotempty(Title), \r\n                            tolower(Title), '')))))\r\n    | extend dc_expert = tostring(extract(expert_regex, 1, dc_col))\r\n    | project-away dc_col, IncidentId1;\r\n// get dc by meta fields\r\nlet sourceIncidentId_regex = tolower(strcat('[\\\\/\\\\._\\\\-]{0,1}(', dcregex, ')[a-z0-9]{0,1}($|PROD|PRD)'));\r\nlet correlationId_regex = tolower(strcat('[\\\\/\\\\._\\\\-(DSMS)\\\\:(LOCATION\\\\[)(LOCATION)(AZNHPROD)]{0,1}(', dcregex,')[A-Z0-9]{0,1}($|PROD|PRD|PR\\\\d|STAGE|AZ|TST|_|ZION|RAINIER|ADAM|HELEN|\\\\-|DCFX|BAKER|WHITNEY|SCH|BAP|\\\\]|PHY|ANAP|;|POD|AAP|:|SEU|LM|LB|EDGE|OLYMPUS|F\\\\d|\\\\.AP\\\\.|VUT|ODCOR|CRM|GRORFER|YL1|ODSTL|\\\\d{3}_|ODA)'));\r\nlet raisingDeviceName_regex = tolower(strcat('[D]{0,1}(', dcregex,')[A-Z0-9]{0,1}($|AEAP|PRD|YL1|\\\\d[A-Z]\\\\d|\\\\-|\\\\d{3}DL|0VUT|VUT|DEU|\\\\d{4,}\\\\-\\\\d{3}|JP|SB|STAGE|AZF|AU|USA|\\\\d{7,8}$)'));\r\nlet occurringDeviceName_regex = tolower(strcat('[\\\\-(LOCATION)(PROD)]{0,1}(', dcregex, ')[A-Z0-9]{0,1}($|PRD|PROD|ODC|ADAMS|WHITNEY|_|CRM|PHX|BAKER|CRATER|XPHX|POD|\\\\d{3}_|\\\\-|REDWOOD|EDGE|DENALI|\\\\dR\\\\d|ZION|STAGE|YL1|AZF|HELENS|AAP|ODA|EUR|CRM|SWISS|01N|ICM|UAE|APC|TST|SCH|GME|CP\\\\d|\\\\dE\\\\d|GRORFER|HOOD|\\\\dB\\\\d|\\\\.)'));\r\nlet incidentWithDC_metaField = incidentWithDC\r\n    | where isempty(dc_expert)\r\n    | extend sourceIncidentId_dc = extract(sourceIncidentId_regex, 1, SourceIncidentId),\r\n            correlationId_dc = extract(correlationId_regex, 1, CorrelationId),\r\n            occurringDeviceName_dc = extract(occurringDeviceName_regex, 1, OccurringDeviceName)\r\n    | where isnotempty(sourceIncidentId_dc) or isnotempty(correlationId_dc) or isnotempty(occurringDeviceName_dc)\r\n    | extend dc_list = pack_array(sourceIncidentId_dc, correlationId_dc, occurringDeviceName_dc)\r\n    | project IncidentId, dc_list\r\n    | mv-expand dc_list\r\n    | extend dc_meta = tostring(dc_list\r\n    )\r\n    | where isnotempty(dc_meta)\r\n    | summarize dc_count = count() by IncidentId, dc_meta\r\n    | summarize arg_max(dc_count, dc_meta) by IncidentId\r\n    | project IncidentId, dc_meta\r\n    ;   \r\nlet IncidentPool_DC = incidentWithDC\r\n    | join kind=leftouter \r\n    (\r\n        incidentWithDC_metaField\r\n    ) on IncidentId\r\n    | extend dc=iff(isempty(dc_expert), tostring(dc_meta), tostring(dc_expert))\r\n    | where isnotempty(dc)\r\n    | project-away IncidentId1\r\n    | join kind = leftouter(cluster('icmprod').database('Icmanalytics').DC_Alias | extend Alias=tolower(Alias), DCMT_Id = tolower(DCMT_Id)) on $left.dc == $right.Alias\r\n    | where OccurringEnvironment != \"TEST\" and isnotempty(DCMT_Id) // and OccurringEnvironment != \"PPE\" \r\n    | project IncidentId, SourceCreateDate=CreateDate, MonitorId, Severity, dc=tolower(DCMT_Id), Title, OriginatingTenantName=OwningTenantName, HitCount=0\r\n    ;\r\nIncidentPool_DC\n}","docstring":"power outage related incidents","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"GetPowerOutageSymptoms_CaliDC","outputColumns":[],"inputParameters":[{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/70":{"id":"$fn_icmclusterlb/1/70","entityType":"Function","body":"{\r\n    let IncidentIdTable = table(IncidentIdTableStr);\r\n    IncidentRelationships\r\n        | join kind=inner\r\n        (\r\n            IncidentIdTable\r\n        ) on $left.ParentIncidentId == $right.IncidentId\r\n        | project IncidentId, DirectChildren=ChildIncidentId\r\n        | summarize by IncidentId, DirectChildren;\r\n}","docstring":"get direct children incidents","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"getDirectChildrenIncident","outputColumns":[],"inputParameters":[{"name":"IncidentIdTableStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/71":{"id":"$fn_icmclusterlb/1/71","entityType":"Function","body":"{\r\n    let IncidentIdTable = table(IncidentIdTableStr);\r\n    IncidentRelationships\r\n        | join kind=inner\r\n        (\r\n            IncidentIdTable\r\n        ) on $left.ChildIncidentId == $right.IncidentId\r\n        | project IncidentId, DirectParent=ParentIncidentId\r\n        | summarize by IncidentId, DirectParent;\r\n}","docstring":"get direct parent incidents","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"getDirectParentIncident","outputColumns":[],"inputParameters":[{"name":"IncidentIdTableStr","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/72":{"id":"$fn_icmclusterlb/1/72","entityType":"Function","body":"{\r\n    let firstDegree = materialize(\r\n        cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').getDirectRelatedIncident(incidentIdList, startTime, endTime)\r\n    );\r\n    let secondDegree_incidentIdList = toscalar(firstDegree \r\n        | project IncidentId = RelatedIncidentId\r\n        | summarize make_set(IncidentId)\r\n    ); \r\n    let secondDegree = materialize (\r\n        cluster('icmprod.kusto.windows.net').database('IcmDataWarehouse').getDirectRelatedIncident(secondDegree_incidentIdList, startTime, endTime)\r\n    );\r\n    let firstSecond = materialize(\r\n        firstDegree\r\n        | join kind=leftouter \r\n        (\r\n            secondDegree\r\n            | project SecondDegreeRelatedIncidentId=RelatedIncidentId, RelatedIncidentId=IncidentId\r\n        ) on RelatedIncidentId\r\n        | project IncidentId, RelatedIncidentId, SecondDegreeRelatedIncidentId\r\n    );\r\n    firstSecond\r\n    | project IncidentId, RelatedIncidentId\r\n    | union \r\n    (\r\n        firstSecond\r\n        | project IncidentId, RelatedIncidentId=SecondDegreeRelatedIncidentId\r\n    )\r\n    | summarize by IncidentId, RelatedIncidentId\r\n}","docstring":"get 2nd degree related incident incidents; have issue when scaling up with more than 1000 seeding incidents in both first and second degree","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"getSecondDegreeRelatedIncident","outputColumns":[],"inputParameters":[{"name":"incidentIdList","cslType":"dynamic","type":"System.Object"},{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/73":{"id":"$fn_icmclusterlb/1/73","entityType":"Function","body":"{\r\n    let IncidentIdTable = table(IncidentIdTableStr);\r\n    // linked in discussion entry\r\n    IncidentDescriptions\r\n    | where Date >= startTime and Date < endTime\r\n    | extend mentionedIncidentId = extract(strcat('\\\\D(', array_strcat(toscalar(IncidentIdTable | summarize make_set(IncidentId)), '|'), ')\\\\D'), 1, Text)\r\n    | where isnotempty(mentionedIncidentId)\r\n    | project MentioningIncidentId=IncidentId, mentionedIncidentId\r\n    | extend IncidentId=tolong(mentionedIncidentId)\r\n    | summarize by IncidentId, MentioningIncidentId;  \r\n}","docstring":"get incidents mentioning the target incidents in discussion entries","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"getMentioningIncident","outputColumns":[],"inputParameters":[{"name":"IncidentIdTableStr","cslType":"string","type":"System.String"},{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/74":{"id":"$fn_icmclusterlb/1/74","entityType":"Function","body":"{\r\n    // let incidentIdList = parse_json(incidentIdListStr);\r\n    // get the IncidentId table\r\n    let incidentIdTableObj = print IncidentId=incidentIdList;\r\n    let incidentIdTable = incidentIdTableObj\r\n        | mv-expand IncidentId\r\n        | extend IncidentId = tolong(IncidentId)\r\n        | summarize by IncidentId;    \r\n    // direct parent\r\n    let directParent = getDirectParentIncident('incidentIdTable');\r\n    // direct children\r\n    let directChildren = getDirectChildrenIncident('incidentIdTable');\r\n    // linked in discussion entry\r\n    let mentioningIncident = getMentioningIncident('incidentIdTable', startTime, endTime);\r\n    // get all related incident\r\n    directParent | project IncidentId, RelatedIncidentId=DirectParent\r\n    | union \r\n        (directChildren | project IncidentId, RelatedIncidentId=DirectChildren),\r\n        (mentioningIncident | project IncidentId, RelatedIncidentId=MentioningIncidentId)\r\n    | summarize by IncidentId, RelatedIncidentId\r\n    | where IncidentId != 1 and RelatedIncidentId != 1 // there is an issue where IncidentId == 1 links to a lot of incidents (millions)\r\n}","docstring":"get 1st degree related incident incidents","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"getDirectRelatedIncident","outputColumns":[],"inputParameters":[{"name":"incidentIdList","cslType":"dynamic","type":"System.Object"},{"name":"startTime","cslType":"datetime","type":"System.DateTime"},{"name":"endTime","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/75":{"id":"$fn_icmclusterlb/1/75","entityType":"Function","body":"{\r\nlet creationTime = cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentsSnapshot(true)\r\n    | where IncidentId == incidentId\r\n    | project CreateDate;\r\nlet startTime = datetime_add('hour', -24, toscalar(creationTime));\r\n// related incidents from OutageScopeIncident\r\nlet outageScopeIncident = materialize(\r\ncluster('icmcluster.kusto.windows.net').database('Outage').OutageScopeResult\r\n| where Lens_IngestionTime >= startTime\r\n| where Json has tostring(incidentId)\r\n| summarize arg_max(Lens_IngestionTime, *) by Id\r\n| project ParentId, Json\r\n| extend JsonObj = tostring(parse_json(Json)['ScopedIncidentIds'])\r\n| extend ScopeIncidentList = parse_json(JsonObj)\r\n| project ParentId, ScopeIncidentList\r\n| mv-expand ScopeIncidentList\r\n| extend IncidentId = tolong(ScopeIncidentList['IncidentId'])\r\n| where IncidentId != incidentId\r\n| summarize by IncidentId\r\n);\r\n// incidents linked by the scout itself\r\nlet linkedIncidents = getSecondDegreeRelatedIncident(parse_json(strcat('[', tostring(incidentId), ']')), startTime, datetime_add('hour', 24, toscalar(creationTime)))\r\n    | project IncidentId = RelatedIncidentId;\r\n// check outage declared time for each outage incidents\r\noutageScopeIncident\r\n| union linkedIncidents\r\n| summarize by IncidentId\r\n| join kind=inner \r\n    (\r\n        cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentsSnapshot(true)\r\n        | where CreateDate >= startTime\r\n        | where IsOutage == 1\r\n        | project IncidentId\r\n    ) on IncidentId\r\n| join kind=inner\r\n(\r\n    cluster('icmcluster.kusto.windows.net').database('IcMDataWarehouse').IncidentHistory\r\n    | where ChangeDate >= startTime\r\n    | where IsOutage == 1\r\n    | project IncidentId, ChangeDate, Lens_IngestionTime\r\n) on IncidentId\r\n| summarize arg_max(Lens_IngestionTime, *) by IncidentId\r\n| project IncidentId, OutageDeclaredTime = ChangeDate\r\n| extend SavedTTD_inMinute = datetime_diff('minute', OutageDeclaredTime, toscalar(creationTime))\r\n| sort by OutageDeclaredTime desc\r\n }","docstring":"Find Related Outages","folder":"IcMML/PowerLoss/Util","functionKind":"UnknownFunction","name":"GetRelatedOutages","outputColumns":[],"inputParameters":[{"name":"incidentId","cslType":"long","type":"System.Int64"}]},"$fn_icmclusterlb/1/76":{"id":"$fn_icmclusterlb/1/76","entityType":"Function","body":"{\r\n    DriHealth_OnCallSurvey_KRStudio_V1\r\n}","docstring":"This function gets the latest DRI Health Survey Response Rate for OKR Studio","folder":"DriHealthSurvey","functionKind":"UnknownFunction","name":"Get_DriHealth_OnCallSurvey_KRStudio","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/77":{"id":"$fn_icmclusterlb/1/77","entityType":"Function","body":"{\r\n    Teams\r\n    | summarize arg_max(Lens_IngestionTime, *) by TeamId\r\n    | join kind = leftouter (TeamServiceTreeMapping | summarize arg_max(Lens_IngestionTime, *) by TeamId) on TeamId\r\n    | project TeamId, TenantId, MappedServiceTreeEntities\r\n    | project-rename TeamMappedServiceTreeEntities = MappedServiceTreeEntities\r\n    | join kind = leftouter (TenantServiceTreeMapping | summarize arg_max(Lens_IngestionTime, *) by TenantId) on TenantId\r\n    | project TeamId, TenantId, TeamMappedServiceTreeEntities, MappedServiceTreeEntities\r\n    | project-rename TenantMappedServiceTreeEntities = MappedServiceTreeEntities\r\n    | extend ServiceTreeEntities = iff(TeamMappedServiceTreeEntities == \"[]\" or TeamMappedServiceTreeEntities == \"\", TenantMappedServiceTreeEntities, TeamMappedServiceTreeEntities),\r\n        MappingLevel = iff(TeamMappedServiceTreeEntities != \"[]\" and TeamMappedServiceTreeEntities != \"\", \"Team\", iff(TenantMappedServiceTreeEntities != \"[]\" and TenantMappedServiceTreeEntities != \"\", \"Tenant\", \"\"))\r\n    | project TeamId, TenantId, ServiceTreeEntities, MappingLevel\r\n}","folder":"ServiceTreeMapping","functionKind":"UnknownFunction","name":"GetAllTeamServiceTreeMapping","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/78":{"id":"$fn_icmclusterlb/1/78","entityType":"Function","body":"{\r\n//BEGIN NOTES*****************************************************************************************************************\r\n//10/22/2019 - vincebl - v6 - New version: Added IsAzureScope in the dssSErviceTree block. Added filter in teamMapReferenced block for the referenced team id inheritance for Azure scoped services only.\r\n//10/30/2019 - vincebl - v6 - Update: Added IsTenantTombstoned.\r\n//11/4/2019 - vincebl - v6 - Update:  Added coalesce for IsAzureScope in the main logic to account for Referenced team scope.\r\n//2/20/2020 - vincebl - v8 - reverted to v6 and added a coalesce for the IsTenantTombstoned. Version 7 had and arg_max that caused the joins to miss some tenant/team data.\r\n//6/18/2020 -rboyce - v8 - added logic to show which tenant or team setting for phonecalls.\r\n//7/7/2020 - vincebl - v8 - added PhonecallThresholdName\r\n//8/27/2020 - vincebl - v8 - added ServiceTypeClassification (ie Online, Manual, Client, etc)\r\n//9/25/2020 - vincebl - v8 - issue with service lifecycle not showing up for some due to the join on cloud. Commented the second join property and validated that there are no duplicates. | join kind = leftouter serviceLifecycle on ServiceOid //and $left.CloudName==$right.AzureCloud https://msazure.visualstudio.com/One/_sprints/taskboard/AzureDataScience/One/Azure/Iron/2020S20?workitem=8402058\r\n//9/25/2020 - chmish  -v8  - reverting the previous change as this is leading to duplicate\r\n//9/28/2020 - vincebl - v9 - optimized by removing some of the extends into the project.\r\n//11/6/2020 - vincebl - v9 - made updates to remove logic in the wrapper function.\r\n//11/6/2020 - vincebl - v1 - New Name: this removes the snapshot references and uses the raw table directly and requires Kusto input parameters to support USSec/USNat. https://msazure.visualstudio.com/One/_workitems/edit/8736446\r\n//3/11/2021 - vincebl - v1 - Added IsTestTenant. Updated the IsAzureScope to use Oid's instead of Names and reshuffled the ordering to capture all of the \"Azure\" org.\r\n//3/29/2021 - vincebl - v1 - added webapps and logicapps back to azure scope to deal with the reorg as a short-term solution.\r\n//4/1/2021 - vincebl - v1 - removing all mv-expand as it's not allowed in cross cluster scenarios.\r\n//END NOTES*******************************************************************************************************************\r\n//\r\n//BEGIN PARAMETERS*************************************\r\nlet dssKustoEndPoint = \"genevareference.westcentralus.kusto.windows.net\"; //Public\r\n//let dssKustoEndPoint = \"genevareference.usnatwest.kusto.core.eaglex.ic.gov\"; //USNat\r\n//let dssKustoEndPoint = \"datastudiostreaming.kusto.core.microsoft.scloud\"; //USSec\r\n//let icmKustoEndPoint = icmEndPoint;\r\n//END PARAMETERS***************************************\r\n//\r\n//\r\n//BEGIN TESTING PARAMETERS - MUST COMMENT BEFORE UPDATING THE FUNCTION***************\r\n//let dssEndPoint = \"genevareference.westcentralus.kusto.windows.net\";\r\n//\r\n//-------> DSS Public = datastudiostreaming.kusto.windows.net\r\n//-------> DSS USNat = genevareference.usnatwest.kusto.core.eaglex.ic.gov\r\n//-------> DSS USSec = datastudiostreaming.kusto.core.microsoft.scloud\r\n//\r\n//END TESTING PARAMETERS*************************************************************\r\n//\r\n//BEGIN SOURCE DATA************************************\r\nlet icmTenant =\r\n    materialize(\r\n                database('IcMDataWarehouse').Tenants\r\n                | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by TenantId \r\n                | project TenantId, TenantName, PublicId, FrontEndCategoryName, Silo, IsTombstoned, SupportedSilos, PhoneCallSeverityThreshold, IncidentManagerTeamId, ExecutiveIncidentManagerTeamId,\r\n                          IsTestTenant = \r\n                                        case(  \r\n                                                Silo =~ \"TestSilo\", 1,\r\n                                                TenantName in~ (\r\n                                                                    'PETSHOP',\r\n                                                                    'AzureIcmTestOnly',\r\n                                                                    'Synthetic Spock Bot',\r\n                                                                    'Synthetic Spock Bot2',\r\n                                                                    'V3 Synthetic Spock Bot'\r\n                                                               ), 1,\r\n                                               TenantId in (25259,23550,4,23550,26522,24495,25743,25489,26486,26487,26488,26489,24950,25081,21372,10,10049,12,23224,25274,26431,26435,26490,26524,26526,26798,26869,21502,22484,22340,21509,26430,25310,26690,26689,26671,26437,24564,24565,24585,24586,24587,24588,24589,21150,24588,24520,24584,24593,24591,24590,22401), 1,\r\n                                               FrontEndCategoryName  in ('TestDemos','Testing For Demos','DeepakTestBL2VL1IMP001SvcCategory','TestFrontEndCategory'), 1,\r\n                                               0\r\n                                             )\r\n               );\r\nlet icmTeam =\r\n    materialize(\r\n                database('IcMDataWarehouse').Teams\r\n                | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by TeamId \r\n                | join hint.shufflekey=TenantId kind = leftouter (icmTenant | project TenantId, IsTestTenant) on TenantId\r\n                | project \r\n                        TeamId,\r\n                        TenantName,\r\n                        TenantId,\r\n                        TeamName,\r\n                        PublicTeamId,\r\n                        IsTombstoned,\r\n                        CreatedBy,\r\n                        CreatedDate,\r\n                        ModifiedBy,\r\n                        ModifiedDate,\r\n                        Alias,\r\n                        AliasDomain,\r\n                        ReferencedTeamId,\r\n                        AllowIncidentAssignment,\r\n                        AllowRequestAssistance,\r\n                        PhoneCallSeverityThreshold,\r\n                        PhoneCallDayTimeRestrictions,\r\n                        Description,\r\n                        EligibleAsIncidentManager,\r\n                        EligibleAsExecutiveIncidentManager,\r\n                        IncidentManagerTeamId,\r\n                        ExecutiveIncidentManagerTeamId,\r\n                        RequestAssistanceSetting,\r\n                        IsPrivate,\r\n                        AutoCorrelationConfigOverrideService,\r\n                        IsTestTenant = case(isempty(IsTestTenant), 0, IsTestTenant)\r\n                );\r\nlet dssServiceMetadata =\r\n    materialize(\r\n                cluster(dssKustoEndPoint).database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot\r\n                | where Type in~ (\"ServiceRing\",\"ServiceTypeClassification\",\"ServiceLifecycleStage\")\r\n               );\r\nlet dssServiceCommonMetadata = \r\n    materialize(\r\n                cluster(dssKustoEndPoint).database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot\r\n               );\r\nlet dssServiceTree =\r\n    cluster(dssKustoEndPoint).database('Shared').DataStudio_ServiceTree_Hierarchy_Snapshot //DSS\r\n    | extend MappingId = toguid(case(Level =~ \"Component\", ComponentId, ServiceId)),\r\n             ServiceOid = toguid(ServiceId),\r\n             ServiceGroupOid = toguid(ServiceGroupId),\r\n             TeamGroupOid = toguid(TeamGroupId),\r\n             DivisionOid = toguid(DivisionId),\r\n             OrganizationOid = toguid(OrganizationId);\r\n//              IsAzureScope = //case(OrganizationName in (\"Azure\", \"Identity\", \"Cloud Operations + Innovation\", \"Security\"), 1, 0);    \r\n//                                 case(\r\n//                                       OrganizationOid in (\r\n//                                                             \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\",\r\n//                                                             \"6600c204-2193-4414-a555-ecf9b29c6e45\",\r\n//                                                             \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\",\r\n//                                                             \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"\r\n//                                                          ), 1,\r\n//                                       0\r\n//                                      );\r\nlet icmServiceMap =\r\n    database('IcMDataWarehouse').GetAllTeamServiceTreeMapping() //ICM\r\n    | project TeamId, TenantId, ServiceTreeEntities = todynamic(replace(@'\\[|]','',ServiceTreeEntities)), MappingLevel\r\n    | project ServiceTreeId = toguid(ServiceTreeEntities.ServiceTreeEntityId),\r\n              TeamId, \r\n              TenantId, \r\n              ServiceMappingLevel=MappingLevel, \r\n              ServiceType = tostring(toupper(ServiceTreeEntities.ServiceTreeEntityType)), \r\n              ServiceTreeMetaDataId = tolong(ServiceTreeEntities.ServiceTreeMetaDataId)\r\n    | where isnotempty(ServiceTreeMetaDataId);\r\n//     | mv-expand todynamic(ServiceTreeEntities)\r\n//     | project ServiceTreeId = toguid(ServiceTreeEntities.ServiceTreeEntityId), \r\n//               TeamId, \r\n//               TenantId, \r\n//               ServiceMappingLevel=MappingLevel, \r\n//               ServiceType = tostring(toupper(ServiceTreeEntities.ServiceTreeEntityType)), \r\n//               ServiceTreeMetaDataId = tolong(ServiceTreeEntities.ServiceTreeMetaDataId)\r\n//     | where isnotempty(ServiceTreeMetaDataId);\r\n//END SOURCE DATA**************************************\r\n//\r\nlet serviceTreeHierarchyWithIcmTeams =\r\n    icmServiceMap \r\n    | join kind = leftouter dssServiceTree on $left.ServiceTreeId==$right.MappingId\r\n    | summarize ComponentIdList = tostring(make_set(ComponentId)), ComponentName = tostring(make_set(ComponentName)), Created = max(Created), Modified = max(Modified) by DivisionName, DivisionOid, OrganizationName, OrganizationOid, ServiceGroupName, ServiceGroupOid, TeamGroupName, TeamGroupOid, ServiceName, ServiceOid, TeamId, ServiceType, ServiceMappingLevel; //, IsAzureScope;\r\nlet manualService =\r\n    dssServiceMetadata\r\n    | where Type in~ (\"ServiceRing\",\"ServiceTypeClassification\",\"ServiceLifecycleStage\")\r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | project ServiceId, ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | where tostring(ServiceTypeClassification) == \"Manual Process Service\"\r\n    | project mpServiceOid = toguid(ServiceId);\r\n//     | where Type =~ \"ServiceTypeClassification\"\r\n//     | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n//     | where tostring(ServiceTypeClassification) == \"Manual Process Service\"\r\n//     | project mpServiceOid = toguid(ServiceId);\r\nlet serviceClassificationType =\r\n    dssServiceMetadata\r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | project ServiceId, ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | project scServiceOid = toguid(ServiceId), ServiceTypeClassification = tostring(ServiceTypeClassification);\r\n//     | where Type =~ \"ServiceTypeClassification\"\r\n//     | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n//     | project scServiceOid = toguid(ServiceId), ServiceTypeClassification = tostring(ServiceTypeClassification);\r\nlet serviceLifecycle =\r\n    dssServiceMetadata\r\n    | where Type =~ \"ServiceLifecycleStage\"\r\n    | project CurrentServiceLifecycleStage = tostring(todynamic(Value).ServiceLifecycleStage), \r\n              ServiceOid = toguid(ServiceId), \r\n              NextServivceLifecycleStage = case(\r\n                                                    tostring(tostring(todynamic(Value).ServiceLifecycleStage))=~\"In Development\", \"Private Preview\",\r\n                                                    tostring(tostring(todynamic(Value).ServiceLifecycleStage))=~\"Private Preview\", \"Public Preview\",\r\n                                                    tostring(tostring(todynamic(Value).ServiceLifecycleStage))=~\"Public Preview\", \"GA\",\r\n                                                    tostring(tostring(todynamic(Value).ServiceLifecycleStage))=~\"GA\", \"Closing Down\",\r\n                                                    tostring(tostring(todynamic(Value).ServiceLifecycleStage))=~\"Closing Down\", \"Retired\",\r\n                                                \"\"), \r\n              AzureCloud;\r\n//     | where Type =~ \"ServiceLifecycleStage\"\r\n//     | mv-expand CurrentServiceLifecycleStage = todynamic(Value).ServiceLifecycleStage\r\n//     | project CurrentServiceLifecycleStage = tostring(CurrentServiceLifecycleStage), \r\n//               ServiceOid = toguid(ServiceId), \r\n//               NextServivceLifecycleStage = case(\r\n//                                                     tostring(CurrentServiceLifecycleStage)=~\"In Development\", \"Private Preview\",\r\n//                                                     tostring(CurrentServiceLifecycleStage)=~\"Private Preview\", \"Public Preview\",\r\n//                                                     tostring(CurrentServiceLifecycleStage)=~\"Public Preview\", \"GA\",\r\n//                                                     tostring(CurrentServiceLifecycleStage)=~\"GA\", \"Closing Down\",\r\n//                                                     tostring(CurrentServiceLifecycleStage)=~\"Closing Down\", \"Retired\",\r\n//                                                 \"\"), \r\n//               AzureCloud;\r\nlet serviceRing =\r\n    dssServiceMetadata\r\n    | where Type =~ \"ServiceRing\"\r\n    | project srServiceOid = toguid(ServiceId), ServiceRing = tostring(todynamic(Value).ServiceRing)\r\n    | distinct *;\r\n//     | where Type =~ \"ServiceRing\"\r\n//     | mv-expand ServiceRing = todynamic(Value).ServiceRing\r\n//     | project srServiceOid = toguid(ServiceId), ServiceRing = tostring(ServiceRing)\r\n//     | distinct *;\r\nlet pmOwner =    \r\n    dssServiceCommonMetadata\r\n    | project ServiceOid = toguid(ServiceId),\r\n              PmOwnerAlias = tolower(tostring(split(PMOwner,\";\")[0]));\r\n//     | extend values = replace(\";\",\",\",PMOwner)\r\n//     | extend string0 = split(values,\",\")\r\n//     | summarize set0 = make_set(string0) by ServiceId\r\n//     | summarize PmOwnerAlias = make_list(set0) by ServiceId\r\n//     | extend PartitionRank = range(1, array_length(PmOwnerAlias), 1)\r\n//     | mvexpand PmOwnerAlias, PartitionRank\r\n//     | project ServiceOid = toguid(ServiceId), PmOwnerAlias = tolower(tostring(PmOwnerAlias)), RowNum = tolong(PartitionRank)\r\n//     | where RowNum == 1; \r\nlet devOwner =\r\n    dssServiceCommonMetadata\r\n    | project ServiceOid = toguid(ServiceId),\r\n              DevOwnerAlias = tolower(tostring(split(DevOwner,\";\")[0]));\r\n//     | extend values = replace(\";\",\",\",DevOwner)\r\n//     | extend string0 = split(values,\",\")\r\n//     | summarize set0 = make_set(string0) by ServiceId\r\n//     | summarize DevOwnerAlias = make_list(set0) by ServiceId\r\n//     | extend PartitionRank = range(1, array_length(DevOwnerAlias), 1)\r\n//     | mvexpand DevOwnerAlias, PartitionRank\r\n//     | project ServiceOid = toguid(ServiceId), DevOwnerAlias = tolower(tostring(DevOwnerAlias)), RowNum = tolong(PartitionRank)\r\n//     | where RowNum == 1; \r\nlet cloud =\r\n    icmTenant\r\n    | distinct TenantId, Silo\r\n    | extend Silo = case(\r\n                                Silo =~ \"Public\", \"Public\",\r\n                                Silo =~ \"Fairfax/ITAR\", \"Fairfax\",\r\n                                Silo =~ \"BlackForest\", \"Blackforest\",\r\n                                Silo =~ \"China/Gallatin\", \"Mooncake\",\r\n                                \"Public\"\r\n                              ); \r\nlet tenant =\r\n    icmTenant\r\n    | project \r\n        TenantId, \r\n        IsTenantTombstoned=IsTombstoned,\r\n        FrontEndCategoryName = case(FrontEndCategoryName == \"Cloud ES\", \"Azure\", FrontEndCategoryName),\r\n        TenantPhoneCallSeverityThreshold = PhoneCallSeverityThreshold,\r\n        Silo;         \r\nlet teams =\r\n    icmTeam\r\n    | join kind = leftouter cloud on TenantId\r\n    | project \r\n        TenantName, \r\n        TenantId, \r\n        TeamName, \r\n        TeamId, \r\n        PublicTeamId,\r\n        IsTeamTombstoned=IsTombstoned, \r\n        ManageTeamsLink = strcat(\"https://portal.microsofticm.com/imp/v3/administration/teamdashboard/details?id=\",tostring(TeamId)), \r\n        ReferencedTeamId,\r\n        AllowIncidentAssignment,\r\n        AllowRequestAssistance,\r\n        PhoneCallDayTimeRestrictions,\r\n        PhoneCallSeverityThreshold,\r\n        TeamPhoneCallSeverityThreshold=PhoneCallSeverityThreshold,\r\n        CloudName = Silo,\r\n        IsTestTenant;\r\nlet teamMap =\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on TeamId;\r\nlet teamMapReferenced = //AKA Virtual team.  Only honors this for the FrontendCategoryName\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on $left.ReferencedTeamId==$right.TeamId\r\n    | join kind = leftouter tenant on $left.TenantId==$right.TenantId\r\n    | project-away TenantPhoneCallSeverityThreshold\r\n    | where FrontEndCategoryName in~ (\"Azure\", \"Azure Security Engineering\", \"Identity\", \"MCIO\", \"Microsoft Dynamics\"); //Referenced team mapping only applied on Azure scope services\r\nteams\r\n| join kind = leftouter teamMap on TeamId\r\n| join kind = leftouter teamMapReferenced on TeamId\r\n    | extend IsMissingIcmServiceTreeMapReferencedTeam = case(isempty(ServiceOid1), bool(true), bool(false))\r\n    | extend IsUsingReferencedServiceMapping = case(isempty(ServiceOid) and IsMissingIcmServiceTreeMapReferencedTeam == bool(false), 1, 0)\r\n| join kind = leftouter manualService on $left.ServiceOid==$right.mpServiceOid\r\n    | extend DivisionName = coalesce(DivisionName, DivisionName1),\r\n             OrganizationName = coalesce(OrganizationName, OrganizationName1),\r\n             ServiceGroupName = coalesce(ServiceGroupName, ServiceGroupName1),\r\n             ServiceName = coalesce(ServiceName, ServiceName1),\r\n             DivisionOid = coalesce(DivisionOid, DivisionOid1),\r\n             OrganizationOid = coalesce(OrganizationOid, OrganizationOid1),\r\n             ServiceGroupOid = coalesce(ServiceGroupOid, ServiceGroupOid1),\r\n             ServiceOid = coalesce(ServiceOid, ServiceOid1),\r\n             ServiceMappingLevel = coalesce(ServiceMappingLevel, ServiceMappingLevel1),\r\n             ServiceType = coalesce(ServiceType, ServiceType1)\r\n| join kind = leftouter serviceLifecycle on ServiceOid and $left.CloudName==$right.AzureCloud //Commented on 9/25/2020. see notes. //Reverted back to handle dupes\r\n| join kind = leftouter devOwner on ServiceOid\r\n| join kind = leftouter pmOwner on ServiceOid\r\n| join kind = leftouter serviceRing on $left.ServiceOid==$right.srServiceOid\r\n| join kind = leftouter tenant on TenantId \r\n| join kind = leftouter serviceClassificationType on $left.ServiceOid==$right.scServiceOid\r\n    | extend OrganizationName = case(isempty(OrganizationName), FrontEndCategoryName, OrganizationName)\r\n    | extend OrganizationOid = case(OrganizationName == \"Azure\" and isempty(OrganizationOid), toguid(\"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"), OrganizationOid)\r\n| project \r\n    TenantName, \r\n    TenantId, \r\n    IsTenantTombstoned = coalesce(IsTenantTombstoned, IsTenantTombstoned1),\r\n    TeamName, \r\n    TeamId, \r\n    IsTeamTombstoned, \r\n    IsMissingIcmServiceTreeMap = case(isempty(ServiceOid) == bool(true), bool(true), bool(false)), \r\n    IsUsingReferencedServiceMapping,\r\n    IsMissingServiceTreeHierarchy = case(isempty(ServiceOid) == bool(true) and isempty(DivisionName), bool(true), bool(false)),\r\n    ManageTeamsLink, \r\n    DivisionName= case(\r\n                        isempty(DivisionName) \r\n                        and OrganizationOid in (\r\n                                                \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\",\r\n                                                \"6600c204-2193-4414-a555-ecf9b29c6e45\",\r\n                                                \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\",\r\n                                                \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"\r\n                                               ), \"Cloud + AI Platform\", \r\n                        DivisionName\r\n                      ),\r\n    OrganizationName,// = case(isempty(OrganizationName), FrontEndCategoryName, OrganizationName), \r\n    ServiceGroupName,\r\n    TeamGroupName,\r\n    ServiceName,\r\n    PmOwnerAlias,\r\n    DevOwnerAlias,\r\n    CloudName = coalesce(CloudName, CloudName1),\r\n    DivisionOid = case(\r\n                        isempty(DivisionOid) \r\n                        and OrganizationOid in (\r\n                                                \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\",\r\n                                                \"6600c204-2193-4414-a555-ecf9b29c6e45\",\r\n                                                \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\",\r\n                                                \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"\r\n                                               ), \"85dd10f4-5484-48fa-b11f-6e6ab07f8d4c\", \r\n                        DivisionName\r\n                      ),\r\n    OrganizationOid,\r\n    ServiceGroupOid,\r\n    TeamGroupOid,\r\n    ServiceOid,\r\n    ServiceMappingLevel, \r\n    ServiceType,\r\n    ServiceTypeClassification,\r\n    ServiceRing,\r\n    PublicTeamId,\r\n    IsManualProcess = iif(isnotempty(mpServiceOid),1,0),\r\n    CurrentServiceLifecycleStage,\r\n    ServiceCreated = coalesce(Created, Created1),\r\n    ServiceModified = coalesce(Modified, Modified1),\r\n    ReferencedTeamId,\r\n    AllowIncidentAssignment,\r\n    AllowRequestAssistance,\r\n    PhoneCallDayTimeRestrictions,\r\n    PhoneCallSeverityThreshold = coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold),\r\n    PhoneCallSeverityThresholdName =case(coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == -1,\"Disabled\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 0, \"SEV 0 Only\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 1, \"SEV 0-1\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 2, \"SEV 0-2\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 3, \"SEV 0-3\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 4, \"SEV 0-4\",\r\n                                         \"Unknown\"\r\n                                        ),\r\n    //IsAzureScope = case(isempty(coalesce(IsAzureScope, IsAzureScope1)), 0, coalesce(IsAzureScope, IsAzureScope1)),\r\n    IsAzureScope = \r\n                    case(\r\n                          OrganizationOid in (\r\n                                                \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\",\r\n                                                \"6600c204-2193-4414-a555-ecf9b29c6e45\",\r\n                                                \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\",\r\n                                                \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"\r\n                                             )\r\n                          or\r\n                          ServiceGroupOid in (\r\n                                                \"b196f682-8245-4486-9bb6-9a3cd2726dc6\", //WebApps and LogicApps\r\n                                                \"8e6fa8b4-fc36-44a7-a0f2-795b81957344\"  //Azure Data added 4/1/21 due to reorg\r\n                                                \"9b546d4d-9930-4c38-b8ff-93fcd5aaa1ab\" //IoT added 4/1/2021 due to reorg\r\n                                             ), 1,\r\n                          0\r\n                         ),\r\n    IsTestTenant\r\n}","docstring":"Get the ServiceTree mapping info for IcmTenant/Team","folder":"Reporting","functionKind":"UnknownFunction","name":"GetIcmServiceTreePublic","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/79":{"id":"$fn_icmclusterlb/1/79","entityType":"Function","body":"{  \r\n//BEGIN NOTES**************************\r\n//11/3/2020 - v1 - vincebl - initial function creation.\r\n//END NOTES****************************\r\n//\r\nlet startTime = startDate;\r\nlet endTime = endDate;\r\n//\r\n//BEGIN TEST PARAMETERS: THESE ARE USED FOR TESTING AND NEED TO BE COMMENTED PRIOR TO ALTERING THE FUNCTION*******************\r\n// let startTime = now(-7d);\r\n// let endTime = now();\r\n// let dssKustoEndPoint = \"datastudiostreaming.kusto.windows.net\";\r\n//END TEST PARAMETERS*********************************************************************************************************\r\n//\r\nlet serviceTree =\r\n    database('IcMDataWarehouse').GetIcmServiceTreePublic()\r\n    | sort by TeamId asc\r\n    | project DivisionOid, OrganizationName, ServiceGroupName, TeamGroupName, ServiceName, TenantId, ServiceOid, TeamId, IsAzureScope, CloudName; //ICM\r\ndatabase('IcMDataWarehouse').IncidentBugs\r\n| where CreatedDate >= startTime and CreatedDate <= endTime\r\n| sort by IncidentId asc, ExternalId asc, Lens_IngestionTime desc, ModifiedDate desc, CreatedDate desc\r\n| serialize rownum = row_number(1, prev(IncidentId) != IncidentId and prev(ExternalId) != ExternalId)\r\n| summarize hint.strategy=shuffle arg_min(rownum, *) by IncidentId, ExternalId\r\n| where IsTombstoned == 0 and tolong(ExternalId) > 0 and UnSyncableFromTfs != true and DeletedFromTfs != 1\r\n| project\r\n        IncidentBugMappingId,\r\n        IncidentId,\r\n        BugId,\r\n        Type,\r\n        Description,\r\n        ExternalId = tolong(ExternalId),\r\n        Owner,\r\n        Delivery= case(\r\n                        Delivery == 1 or Delivery has_any (\"short\") , \"ShortTerm\",                              \r\n                        Delivery ==2 or Delivery has_any (\"long\") , \"LongTerm\",                              \r\n                        Delivery==3 or Delivery has_any (\"medium\"),\"MediumTerm\",\r\n                        \"Undetermined\"),\r\n        DeliveryETA = case(\r\n                            Delivery == 1 or Delivery has_any (\"short\"),14,                              \r\n                            Delivery==3 or Delivery has_any (\"medium\"),182,                              \r\n                            Delivery ==2 or Delivery has_any (\"long\"),365,\r\n                            0),\r\n        Source = tolower(Source),\r\n        IsTombstoned,\r\n        CreatedDate,\r\n        ModifiedDate,\r\n        ModifiedBy,\r\n        Lens_IngestionTime,\r\n        Status,\r\n        Status_Adjusted = case(\r\n                                    Status contains \"complete\", \"Closed\",\r\n                                    Status contains \"close\", \"Closed\",\r\n                                    Status contains \"done\", \"Closed\",\r\n                                    Status contains \"resolve\", \"Closed\",\r\n                                    Status contains \"mitigate\", \"Closed\",\r\n                                    Status contains \"remove\",\"Closed\",\r\n                                    Status contains \"cut\",\"Closed\",\r\n                                    Status contains \"cancel\",\"Closed\",\r\n                                    Status contains \"reject\",\"Closed\",\r\n                                    Status contains \"inactive\",\"Closed\",\r\n                                    Status contains \"wont fix\",\"Closed\",\r\n                                    Status contains \"n/a\",\"Closed\",\r\n                                    Status\r\n                                 ),\r\n        AdditionalData,\r\n        UnSyncableFromTfs,\r\n        DeletedFromTfs,\r\n        UnSyncableReason,\r\n        RepairType = case( \r\n                            Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                            Type ==7, \"Notification\",\r\n                            Type ==8, \"Engagement\",\r\n                            Type ==9, \"Test/Release\",\r\n                            Type ==10, \"Process\",\r\n                            Type ==11, \"New11\",\r\n                            Type ==12, \"New12\",\r\n                            Type ==13, \"New13\",\r\n                            \"Undetermined\"\r\n                         ),\r\n        OwningSource = tolower(tostring(todynamic(AdditionalData).Source)),\r\n        OwningServiceId = tolong(todynamic(AdditionalData).RepairItemOwningServiceId),\r\n        OwningTeamId = tolong(todynamic(AdditionalData).RepairItemOwningTeamId)\r\n| join hint.shufflekey=OwningTeamId kind = leftouter serviceTree on $left.OwningTeamId==$right.TeamId\r\n}","docstring":"Get IcM Repairs","folder":"Reporting","functionKind":"UnknownFunction","name":"GetIcmRepairsPublic","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/80":{"id":"$fn_icmclusterlb/1/80","entityType":"Function","body":"{\r\n    materialized_view('IncidentsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each incident. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"IncidentsDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/81":{"id":"$fn_icmclusterlb/1/81","entityType":"Function","body":"{\r\n    materialized_view('TenantsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each tenant. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"TenantsDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/82":{"id":"$fn_icmclusterlb/1/82","entityType":"Function","body":"{\r\n    materialized_view('TeamsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each team. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"TeamsDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/83":{"id":"$fn_icmclusterlb/1/83","entityType":"Function","body":"{\r\n    materialized_view('PostIncidentReportsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each postmortem. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"PostIncidentReportsDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/84":{"id":"$fn_icmclusterlb/1/84","entityType":"Function","body":"{\r\n    materialized_view('IncidentCustomFieldEntriesDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each incident custom field entry. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"IncidentCustomFieldEntriesDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/85":{"id":"$fn_icmclusterlb/1/85","entityType":"Function","body":"{\r\n    materialized_view('IncidentImpactedTenantsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of impacted tenants for each incident. The result set is expected to have about 1 hour of data latency.","folder":"Dedup","functionKind":"UnknownFunction","name":"IncidentImpactedTenantsDedup","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/86":{"id":"$fn_icmclusterlb/1/86","entityType":"Function","body":"{\r\n    materialized_view('IncidentsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each incident. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"IncidentsSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/87":{"id":"$fn_icmclusterlb/1/87","entityType":"Function","body":"{\r\n    materialized_view('TenantsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each tenant. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"TenantsSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/88":{"id":"$fn_icmclusterlb/1/88","entityType":"Function","body":"{\r\n    materialized_view('TeamsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each team. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"TeamsSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/89":{"id":"$fn_icmclusterlb/1/89","entityType":"Function","body":"{\r\n    materialized_view('PostIncidentReportsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each postmortem. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"PostIncidentReportsSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/90":{"id":"$fn_icmclusterlb/1/90","entityType":"Function","body":"{\r\n    materialized_view('IncidentCustomFieldEntriesDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of each incident custom field entry. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"IncidentCustomFieldEntriesSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/91":{"id":"$fn_icmclusterlb/1/91","entityType":"Function","body":"{\r\n    materialized_view('IncidentImpactedTenantsDedupView')\r\n}","docstring":"Returns a materialized view containing only the latest version of impacted tenants for each incident. The result set is expected to have about 1 hour of data latency.","folder":"Snapshot","functionKind":"UnknownFunction","name":"IncidentImpactedTenantsSnapshotV2","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/92":{"id":"$fn_icmclusterlb/1/92","entityType":"Function","body":"{ \r\n    let deletedClaims = AuthZRoleClaims\r\n    | where Status == 'Deprecated';\r\n    AuthZRoleClaims\r\n    | where RoleName == roleName and TenantId == tenantId and ClaimId !in (deletedClaims)\r\n    | summarize arg_max(Lens_IngestionTime, *) by ClaimId\r\n    | join kind = leftouter TenantSilos on $left.SiloId == $right.SiloId\r\n    | project ClaimId, RoleName, ClaimType, Claim, CloudInstance=Name\r\n}","docstring":"Get role claims given tenant ID and role name","functionKind":"UnknownFunction","name":"GetRoleClaimsForTenant","outputColumns":[],"inputParameters":[{"name":"tenantId","cslType":"int","type":"System.Int32"},{"name":"roleName","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/93":{"id":"$fn_icmclusterlb/1/93","entityType":"Function","body":"{\r\n    let Tenants = TenantsSnapshotV2()\r\n    | project FrontEndCategoryName, TenantId, TenantName, Silo\r\n    | extend FrontEndCategoryName = case(FrontEndCategoryName == \"Cloud ES\", \"Azure\", FrontEndCategoryName)\r\n    | join kind = leftouter (\r\n        TeamsSnapshotV2()\r\n        | project TeamName, TeamId, TenantId\r\n    ) on TenantId \r\n    | project-away TenantId1;\r\n    Tenants\r\n    | join hint.shufflekey=TeamId kind=leftouter (GetServiceOidPublishV10()) on TeamId\r\n    | extend OrganizationName = case(isempty(OrganizationName), FrontEndCategoryName, OrganizationName)\r\n    | project-away TeamId1, TeamName1, TenantName1, TenantId1\r\n    | distinct *\r\n}","docstring":"Returns the ServiceOid for IcmTenant/Team","folder":"ServiceTree/Prod","functionKind":"UnknownFunction","name":"GetServiceOid","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/94":{"id":"$fn_icmclusterlb/1/94","entityType":"Function","body":"{\r\n//BEGIN NOTES*****************************************************************************************************************\r\n//10/22/2019 - vincebl - v6 - New version: Added IsAzureScope in the dssSErviceTree block. Added filter in teamMapReferenced block for the referenced team id inheritance for Azure scoped services only.\r\n//10/30/2019 - vincebl - v6 - Update: Added IsTenantTombstoned.\r\n//11/4/2019 - vincebl - v6 - Update:  Added coalesce for IsAzureScope in the main logic to account for Referenced team scope.\r\n//2/20/2020 - vincebl - v8 - reverted to v6 and added a coalesce for the IsTenantTombstoned. Version 7 had and arg_max that caused the joins to miss some tenant/team data.\r\n//6/18/2020 -rboyce - v8 - added logic to show which tenant or team setting for phonecalls.\r\n//7/7/2020 - vincebl - v8 - added PhonecallThresholdName\r\n//8/27/2020 - vincebl - v8 - added ServiceTypeClassification (ie Online, Manual, Client, etc)\r\n//9/25/2020 - vincebl - v8 - issue with service lifecycle not showing up for some due to the join on cloud. Commented the second join property and validated that there are no duplicates. | join kind = leftouter serviceLifecycle on ServiceOid //and $left.CloudName==$right.AzureCloud https://msazure.visualstudio.com/One/_sprints/taskboard/AzureDataScience/One/Azure/Iron/2020S20?workitem=8402058\r\n//9/25/2020 - chmish  -v8  - reverting the previous change as this is leading to duplicate\r\n//9/28/2020 - vincebl - v9 - optimized by removing some of the extends into the project.\r\n//1/27/2023 - sjingoi - v9 - changed cluster reference from datastudiostreaming to genevareference\r\n//1/27/2023 - sjingoi - v9 - migrated to using V2 of snapshot functions\r\n//END NOTES*******************************************************************************************************************\r\nlet dssServiceTree =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_Hierarchy_Snapshot\r\n    | extend MappingId = toguid(case(Level =~ \"Component\", ComponentId, ServiceId)),\r\n             ServiceOid = toguid(ServiceId),\r\n             ServiceGroupOid = toguid(ServiceGroupId),\r\n             TeamGroupOid = toguid(TeamGroupId),\r\n             DivisionOid = toguid(DivisionId),\r\n             OrganizationOid = toguid(OrganizationId),\r\n             IsAzureScope = case(OrganizationName in (\"Azure\", \"Identity\", \"Cloud Operations + Innovation\", \"Security\"), 1, 0);    \r\nlet icmServiceMap =\r\n    GetAllTeamServiceTreeMapping()\r\n    | mv-expand todynamic(ServiceTreeEntities)\r\n    | project ServiceTreeId = toguid(ServiceTreeEntities.ServiceTreeEntityId), \r\n              TeamId, \r\n              TenantId, \r\n              ServiceMappingLevel=MappingLevel, \r\n              ServiceType = tostring(toupper(ServiceTreeEntities.ServiceTreeEntityType)), \r\n              ServiceTreeMetaDataId = tolong(ServiceTreeEntities.ServiceTreeMetaDataId)\r\n    | where isnotempty(ServiceTreeMetaDataId);\r\nlet serviceTreeHierarchyWithIcmTeams =\r\n    icmServiceMap \r\n    | join kind = leftouter dssServiceTree on $left.ServiceTreeId==$right.MappingId\r\n    | summarize ComponentIdList = tostring(make_set(ComponentId)), ComponentName = tostring(make_set(ComponentName)), Created = max(Created), Modified = max(Modified) by DivisionName, DivisionOid, OrganizationName, OrganizationOid, ServiceGroupName, ServiceGroupOid, TeamGroupName, TeamGroupOid, ServiceName, ServiceOid, TeamId, ServiceType, ServiceMappingLevel, IsAzureScope;\r\nlet manualService =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | where tostring(ServiceTypeClassification) == \"Manual Process Service\"\r\n    | project mpServiceOid = toguid(ServiceId);\r\nlet serviceClassificationType =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | project scServiceOid = toguid(ServiceId), ServiceTypeClassification = tostring(ServiceTypeClassification);\r\nlet serviceLifecycle =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot\r\n    | where Type =~ \"ServiceLifecycleStage\"\r\n    | mv-expand CurrentServiceLifecycleStage = todynamic(Value).ServiceLifecycleStage\r\n    | project CurrentServiceLifecycleStage = tostring(CurrentServiceLifecycleStage), \r\n              ServiceOid = toguid(ServiceId), \r\n              NextServivceLifecycleStage = case(\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"In Development\", \"Private Preview\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Private Preview\", \"Public Preview\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Public Preview\", \"GA\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"GA\", \"Closing Down\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Closing Down\", \"Retired\",\r\n                                                \"\"), \r\n              AzureCloud;\r\nlet serviceRing =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceRing\"\r\n    | mv-expand ServiceRing = todynamic(Value).ServiceRing\r\n    | project srServiceOid = toguid(ServiceId), ServiceRing = tostring(ServiceRing);\r\nlet pmOwner =    \r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot \r\n    | extend values = replace(\";\",\",\",PMOwner)\r\n    | extend string0 = split(values,\",\")\r\n    | summarize set0 = makeset(string0) by ServiceId\r\n    | summarize PmOwnerAlias = makelist(set0) by ServiceId\r\n    | extend PartitionRank = range(1, arraylength(PmOwnerAlias), 1)\r\n    | mvexpand PmOwnerAlias, PartitionRank\r\n    | project ServiceOid = toguid(ServiceId), PmOwnerAlias = tolower(tostring(PmOwnerAlias)), RowNum = tolong(PartitionRank)\r\n    | where RowNum == 1; \r\nlet devOwner =\r\n    cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot \r\n    | extend values = replace(\";\",\",\",DevOwner)\r\n    | extend string0 = split(values,\",\")\r\n    | summarize set0 = makeset(string0) by ServiceId\r\n    | summarize DevOwnerAlias = makelist(set0) by ServiceId\r\n    | extend PartitionRank = range(1, arraylength(DevOwnerAlias), 1)\r\n    | mvexpand DevOwnerAlias, PartitionRank\r\n    | project ServiceOid = toguid(ServiceId), DevOwnerAlias = tolower(tostring(DevOwnerAlias)), RowNum = tolong(PartitionRank)\r\n    | where RowNum == 1; \r\nlet cloud =\r\n    TenantsSnapshotV2()\r\n    | distinct TenantId, Silo\r\n    | extend Silo = case(\r\n                                Silo =~ \"Public\", \"Public\",\r\n                                Silo =~ \"Fairfax/ITAR\", \"Fairfax\",\r\n                                Silo =~ \"BlackForest\", \"Blackforest\",\r\n                                Silo =~ \"China/Gallatin\", \"Mooncake\",\r\n                                \"Public\"\r\n                              ); \r\nlet tenant =\r\n    TenantsSnapshotV2()  \r\n    | project \r\n        TenantId, \r\n        IsTenantTombstoned=IsTombstoned,\r\n        FrontEndCategoryName,\r\n        TenantPhoneCallSeverityThreshold = PhoneCallSeverityThreshold\r\n        ; \r\nlet teams =\r\n    TeamsSnapshotV2()\r\n    | extend ManageTeamsLink = strcat(\"https://portal.microsofticm.com/imp/v3/administration/teamdashboard/details?id=\",tostring(TeamId))\r\n    | join kind = leftouter cloud on TenantId\r\n    | project \r\n        TenantName, \r\n        TenantId, \r\n        TeamName, \r\n        TeamId, \r\n        PublicTeamId,\r\n        IsTeamTombstoned=IsTombstoned, \r\n        ManageTeamsLink, \r\n        ReferencedTeamId,\r\n        AllowIncidentAssignment,\r\n        AllowRequestAssistance,\r\n        PhoneCallDayTimeRestrictions,\r\n        PhoneCallSeverityThreshold,\r\n        TeamPhoneCallSeverityThreshold=PhoneCallSeverityThreshold,\r\n        CloudName = Silo\r\n        ;\r\nlet teamMap =\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on TeamId;\r\nlet teamMapReferenced = //AKA Virtual team.  Only honors this for the FrontendCategoryName\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on $left.ReferencedTeamId==$right.TeamId\r\n    | join kind = leftouter tenant on $left.TenantId==$right.TenantId\r\n    | project-away TenantPhoneCallSeverityThreshold\r\n    | where FrontEndCategoryName in~ (\"Azure\", \"Azure Security Engineering\", \"Identity\", \"MCIO\", \"Microsoft Dynamics\"); //Referenced team mapping only applied on Azure scope services\r\nteams\r\n| join kind = leftouter teamMap on TeamId\r\n| join kind = leftouter teamMapReferenced on TeamId\r\n    | extend IsMissingIcmServiceTreeMapReferencedTeam = iif(isempty(ServiceOid1), bool(true), bool(false))\r\n    | extend IsUsingReferencedServiceMapping = iif(isempty(ServiceOid) and IsMissingIcmServiceTreeMapReferencedTeam == bool(false), 1, 0)\r\n| join kind = leftouter manualService on $left.ServiceOid==$right.mpServiceOid\r\n    | extend DivisionName = coalesce(DivisionName, DivisionName1),\r\n             OrganizationName = coalesce(OrganizationName, OrganizationName1),\r\n             ServiceGroupName = coalesce(ServiceGroupName, ServiceGroupName1),\r\n             ServiceName = coalesce(ServiceName, ServiceName1),\r\n             DivisionOid = coalesce(DivisionOid, DivisionOid1),\r\n             OrganizationOid = coalesce(OrganizationOid, OrganizationOid1),\r\n             ServiceGroupOid = coalesce(ServiceGroupOid, ServiceGroupOid1),\r\n             ServiceOid = coalesce(ServiceOid, ServiceOid1),\r\n             ServiceMappingLevel = coalesce(ServiceMappingLevel, ServiceMappingLevel1),\r\n             ServiceType = coalesce(ServiceType, ServiceType1)\r\n| join kind = leftouter serviceLifecycle on ServiceOid and $left.CloudName==$right.AzureCloud //Commented on 9/25/2020. see notes. //Reverted back to handle dupes\r\n| join kind = leftouter devOwner on ServiceOid\r\n| join kind = leftouter pmOwner on ServiceOid\r\n| join kind = leftouter serviceRing on $left.ServiceOid==$right.srServiceOid\r\n| join kind = leftouter tenant on TenantId\r\n| join kind = leftouter serviceClassificationType on $left.ServiceOid==$right.scServiceOid\r\n    | extend IsMissingIcmServiceTreeMap = case(isempty(ServiceOid), bool(true), bool(false))\r\n| project \r\n    TenantName, \r\n    TenantId, \r\n    IsTenantTombstoned = coalesce(IsTenantTombstoned, IsTenantTombstoned1),\r\n    TeamName, \r\n    TeamId, \r\n    IsTeamTombstoned, \r\n    IsMissingIcmServiceTreeMap, \r\n    IsUsingReferencedServiceMapping,\r\n    IsMissingServiceTreeHierarchy = case(IsMissingIcmServiceTreeMap == bool(true) and isempty(DivisionName), bool(true), bool(false)),\r\n    ManageTeamsLink, \r\n    DivisionName,\r\n    OrganizationName,\r\n    ServiceGroupName,\r\n    TeamGroupName,\r\n    ServiceName,\r\n    PmOwnerAlias,\r\n    DevOwnerAlias,\r\n    CloudName = coalesce(CloudName, CloudName1),\r\n    DivisionOid,\r\n    OrganizationOid,\r\n    ServiceGroupOid,\r\n    TeamGroupOid,\r\n    ServiceOid,\r\n    ServiceMappingLevel, \r\n    ServiceType,\r\n    ServiceTypeClassification,\r\n    ServiceRing,\r\n    PublicTeamId,\r\n    IsManualProcess = iif(isnotempty(mpServiceOid),1,0),\r\n    CurrentServiceLifecycleStage,\r\n    ServiceCreated = coalesce(Created, Created1),\r\n    ServiceModified = coalesce(Modified, Modified1),\r\n    ReferencedTeamId,\r\n    AllowIncidentAssignment,\r\n    AllowRequestAssistance,\r\n    PhoneCallDayTimeRestrictions,\r\n    PhoneCallSeverityThreshold = coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold),\r\n    PhoneCallSeverityThresholdName =case(coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == -1,\"Disabled\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 0, \"SEV 0 Only\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 1, \"SEV 0-1\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 2, \"SEV 0-2\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 3, \"SEV 0-3\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 4, \"SEV 0-4\",\r\n                                         \"Unknown\"\r\n                                        ),\r\n    IsAzureScope = case(isempty(coalesce(IsAzureScope, IsAzureScope1)), 0, coalesce(IsAzureScope, IsAzureScope1))   \r\n}","docstring":"Returns the ServiceOid for IcmTenant/Team","folder":"ServiceTree/Prod","functionKind":"UnknownFunction","name":"GetServiceOidPublishV9","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/95":{"id":"$fn_icmclusterlb/1/95","entityType":"Function","body":"{\r\n    datatable(FnUse:string) [\r\n    \"IncidentCustomFieldEntriesSnapshot\",\r\n    \"IncidentCustomFieldEntriesSnapshot()\",\r\n    \"IncidentCustomFieldEntriesSnapshot(true)\",\r\n    \"IncidentCustomFieldEntriesSnapshot(True)\",\r\n    \"IncidentCustomFieldEntriesSnapshot_V1\",\r\n    \"IncidentCustomFieldEntriesSnapshot_V1_Current\",\r\n    \"IncidentImpactedTenantsSnapshot( true )\",\r\n    \"IncidentImpactedTenantsSnapshot()\",\r\n    \"IncidentImpactedTenantsSnapshot_V1\",\r\n    \"IncidentImpactedTenantsSnapshot_V1_Current\",\r\n    \"IncidentsSnapshot\",\r\n    \"IncidentsSnapshot( true )\",\r\n    \"IncidentsSnapshot()\",\r\n    \"IncidentsSnapshot(false)\",\r\n    \"IncidentsSnapshot(False)\",\r\n    \"IncidentsSnapshot(IncludeLatestIncidents = true)\",\r\n    \"IncidentsSnapshot(IncludeLatestIncidents=true)\",\r\n    \"IncidentsSnapshot(IncludeLatestIncidents=True)\",\r\n    \"IncidentsSnapshot(IncludeLatestRecords=true)\",\r\n    \"IncidentsSnapshot(true)\",\r\n    \"IncidentsSnapshot(True)\",\r\n    \"IncidentsSnapshot(TRUE)\",\r\n    \"IncidentsSnapshot_V1\",\r\n    \"IncidentsSnapshot_V1_Current\",\r\n    \"PostIncidentReportsSnapshot\",\r\n    \"PostIncidentReportsSnapshot( true )\",\r\n    \"PostIncidentReportsSnapshot()\",\r\n    \"PostIncidentReportsSnapshot(IncludeLatestRecords=true)\",\r\n    \"PostIncidentReportsSnapshot(true)\",\r\n    \"PostIncidentReportsSnapshot_V1\",\r\n    \"PostIncidentReportsSnapshot_V1_Current\",\r\n    \"TeamsSnapshot\",\r\n    \"TeamsSnapshot( false )\",\r\n    \"TeamsSnapshot( IncludeLatestRecords=false )\",\r\n    \"TeamsSnapshot()\",\r\n    \"TeamsSnapshot(false)\",\r\n    \"TeamsSnapshot(IncludeLatestRecords=True)\",\r\n    \"TeamsSnapshot(true)\",\r\n    \"TeamsSnapshot(True)\",\r\n    \"TeamsSnapshot_V1\",\r\n    \"TenantsSnapshot\",\r\n    \"TenantsSnapshot( false )\",\r\n    \"TenantsSnapshot()\",\r\n    \"TenantsSnapshot(false)\",\r\n    \"TenantsSnapshot(true)\",\r\n    \"TenantsSnapshot_V1\"\r\n    ]\r\n}","functionKind":"UnknownFunction","name":"GetSnapshotV1Names","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/96":{"id":"$fn_icmclusterlb/1/96","entityType":"Function","body":"{\r\n    datatable(FnUse:string) [\r\n    \"IncidentCustomFieldEntriesSnapshotV2\",\r\n\"IncidentCustomFieldEntriesSnapshotV2()\",\r\n\"IncidentCustomFieldEntriesSnapshotV2(true)\",\r\n\"IncidentImpactedTenantsSnapshotV2\",\r\n\"IncidentImpactedTenantsSnapshotV2( IncludeLatestRecords=true )\",\r\n\"IncidentImpactedTenantsSnapshotV2()\",\r\n\"IncidentSnapshotV2\",\r\n\"IncidentSnapshotV2()\",\r\n\"IncidentsSnapshotV2\",\r\n\"IncidentsSnapshotV2()\",\r\n\"IncidentsSnapshotV2(false)\",\r\n\"IncidentsSnapshotV2(False)\",\r\n\"IncidentsSnapshotv2(true)\",\r\n\"IncidentsSnapshotV2(true)\",\r\n\"IncidentsSnapshotV2(True)\",\r\n\"PostIncidentReportsSnapshotV2\",\r\n\"PostIncidentReportsSnapshotV2()\",\r\n\"PurgedIncidentsSnapshotV2\",\r\n\"PurgedIncidentsSnapshotV2()\",\r\n\"TeamsSnapshotV2\",\r\n\"TeamsSnapshotV2( IncludeLatestRecords=false )\",\r\n\"TeamsSnapshotV2()\",\r\n\"TeamsSnapshotV2(89379)\",\r\n\"TeamsSnapshotV2(False)\",\r\n\"TenantsSnapshotV2\",\r\n\"TenantsSnapshotV2( IncludeLatestRecords=false )\",\r\n\"TenantsSnapshotV2()\"\r\n    ]\r\n}","functionKind":"UnknownFunction","name":"GetSnapshotV2Names","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/97":{"id":"$fn_icmclusterlb/1/97","entityType":"Function","body":"{\r\nlet bugBase =\r\n    materialize(database('IcmDataWarehouse').IncidentBugs  \r\n    | where (Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d))) and IncidentBugMappingId > 0\r\n    | sort by IncidentId asc, ExternalId asc, Lens_IngestionTime desc, ModifiedDate desc, CreatedDate desc\r\n    | serialize rownum = row_number(1, prev(IncidentId) != IncidentId and prev(ExternalId) != ExternalId)\r\n    | summarize hint.strategy=shuffle arg_min(rownum, *) by IncidentId, ExternalId);\r\nlet icmTeams = \r\n    database('IcmDataWarehouse').TeamsSnapshotV2() | project TeamId, TenantId, TeamName;let ExternalLinkConfigServiceLevel = database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = tostring(Value.Instance)\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\n//BEGIN Option2************************************************************************************************************\r\nlet repairOwner =\r\n    bugBase \r\n    | where isnotempty(AdditionalData)\r\n    | project AdditionalData\r\n    | parse AdditionalData with * 'Source\":\"' DisplayText '\"' *\r\n    | parse AdditionalData with * 'RepairItemOwningServiceId\":\"' TenantId '\"' *\r\n    | where isnotempty(DisplayText) == bool(true)\r\n    | project DisplayText = toupper(DisplayText), TenantId = tolong(TenantId)\r\n    | distinct *;\r\nlet categoryList =\r\n    database('IcmDataWarehouse').TenantsSnapshotV2()\r\n    | project TenantName, TenantId, FrontEndCategoryName\r\n   | project TenantName, TenantId, FrontEndCategoryName;\r\nlet frontendCategoryName = \r\n    repairOwner\r\n    | join kind = inner categoryList on TenantId\r\n    | project DisplayText, TenantName, TenantId, FrontEndCategoryName;\r\nlet ExternalLinkConfigCategoryLevel =\r\n    database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter frontendCategoryName on DisplayText\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url = tostring(Url),\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\n//END Option2**************************************************************************************************************\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source;\r\nlet icmbugs = bugBase\r\n    | where Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d)) and IncidentBugMappingId > 0\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | summarize hint.strategy=shuffle IsTombstoned = arg_min(IsTombstoned, *) by IncidentId, ExternalId_Temp, bin(ModifiedDate, 1tick)\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (isempty(UnSyncableFromTfs)== true or UnSyncableFromTfs == false)\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend VSTSClosedDateTemp = parse_json(AdditionalData).VSTSClosedDate\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", iif(isempty(VSTSClosedDateTemp),tostring(ModifiedDate),VSTSClosedDateTemp), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | extend IcmBug_UnSyncableReason = UnSyncableReason\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_DeletedFromTfs,\r\n              IcmBug_UnSyncableReason ;\r\nlet deletedItems = cluster('1es').database('AzureDevOps').WorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneEs = 1\r\n    | project OrganizationName, ExternalId, IsDeleted, DeletedFromOneEs;\r\nlet oneEsV1workitems = cluster('1es').database('AzureDevOps').WorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n        State contains \"complete\", \"Closed\",\r\n        State contains \"close\", \"Closed\",\r\n        State contains \"done\", \"Closed\",\r\n        State contains \"resolve\", \"Closed\",\r\n        State contains \"mitigate\", \"Closed\",\r\n        State contains \"remove\",\"Closed\",\r\n        State contains \"cut\",\"Closed\",\r\n        State contains \"cancel\",\"Closed\",\r\n        State contains \"reject\",\"Closed\",\r\n        State)\r\n    | extend ClosedDateV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    | extend OneESTitle=Title\r\n    | extend OneESAssignedTo=AssignedToName\r\n    | extend OneESModifiedDate=ChangedDate\r\n    | extend DeletedFromOneEs = 0\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"));\r\nlet minIncident = toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshotV2() \r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromTfs != true or DeletedFromOneEs != 1\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\", State, Status)\r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == \"2\",1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                            Type ==7, \"Notification\",\r\n                            Type ==8, \"Engagement\",\r\n                            Type ==9, \"TestRelease\",\r\n                            Type ==10, \"Process\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery = Delivery\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend IsClosed = iif(oneEsStateTemp=~\"Closed\", 1, 0)\r\n| extend DaysOpen = case(IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend modifiedDateDiffInMinutes = abs(datetime_diff('minute',IcmModifiedDate, OneESModifiedDate))\r\n| extend modifiedDateMatch = iif((modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 0) or (modifiedDateDiffInMinutes - modifiedDateDiffInMinutes/60 * 60 == 59), 1, 0)\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n        IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery = IcmBug_Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion,\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs = IcmBug_UnSyncableFromTfs,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n    UnSyncableReason = IcmBug_UnSyncableReason,\r\n        EtlIngestDate_datetime = EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    modifiedDateMatch\r\n|extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (OneESTitle =~ IcMDescription)) or (IsRepairV2==1 and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and (oneEsStateTemp =~IcMStatusTemp)) or (IsRepairV2==1 and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and ((IsRepairV2==0 and IcmOwner contains (OneESAssignedTo)) or (IsRepairV2==1 and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate_datetime or isempty(EtlIngestDate_datetime) == true))),0,1)\r\n|extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and (isempty(EtlIngestDate_datetime) == true or modifiedDateMatch == 1 or datetime_diff('day', Lens_IngestionTime, EtlIngestDate_datetime) > 1 or IcmModifiedDate == OneESModifiedDate),0,1)\r\n|where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n|where (IsTfsProfileMissing == 0 or IsOnPrem == 0) or (isDescriptionDiff == 1 or isStatusDiff == 1 or isOwnerDiff == 1 or isModifiedDateDiff == 1)\r\n|project-away\r\n    EtlIngestDate_datetime,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff,\r\n    modifiedDateMatch\r\n }","docstring":"Prod function for repair item runner considering category level profiles","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItemDelta_PROD_6c","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/98":{"id":"$fn_icmclusterlb/1/98","entityType":"Function","body":"{\r\nlet icmTeams = cluster('Icmcluster').database('IcmDataWarehouse').TeamsSnapshotV2() | project TeamId, TenantId, TeamName;\r\nlet ExternalLinkConfigServiceLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (cluster('Icmcluster').database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfigCategoryLevel = cluster('Icmcluster').database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (\r\n        cluster('Icmcluster').database('IcmDataWarehouse').Tenants\r\n        | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId\r\n        | project TenantName, TenantId, FrontEndCategoryName\r\n        | join kind= inner (\r\n            print Category=todynamic('[{\"CategoryName\":\"Azure\",\"CategoryId\":1},{\"CategoryName\":\"Office\",\"CategoryId\":2},{\"CategoryName\":\"Office 365\",\"CategoryId\":3},{\"CategoryName\":\"Active Directory\",\"CategoryId\":4},{\"CategoryName\":\"Windows\",\"CategoryId\":5},{\"CategoryName\":\"Windows Server System Center\",\"CategoryId\":6},{\"CategoryName\":\"Gaming\",\"CategoryId\":7},{\"CategoryName\":\"Visual Studio\",\"CategoryId\":8},{\"CategoryName\":\"MSN\",\"CategoryId\":9},{\"CategoryName\":\"China Demo\",\"CategoryId\":10},{\"CategoryName\":\"ZZZ-Deprecated1\",\"CategoryId\":11},{\"CategoryName\":\"Commerce\",\"CategoryId\":12},{\"CategoryName\":\"Bing Ads\",\"CategoryId\":13},{\"CategoryName\":\"CorpIT\",\"CategoryId\":14},{\"CategoryName\":\"OSG\",\"CategoryId\":16},{\"CategoryName\":\"Universal Store\",\"CategoryId\":17},{\"CategoryName\":\"Microsoft Dynamics\",\"CategoryId\":18},{\"CategoryName\":\"Skype\",\"CategoryId\":19},{\"CategoryName\":\"MCIO\",\"CategoryId\":20},{\"CategoryName\":\"MSIT\",\"CategoryId\":21},{\"CategoryName\":\"External\",\"CategoryId\":22},{\"CategoryName\":\"Bing\",\"CategoryId\":23},{\"CategoryName\":\"OneDrive and SharePoint Online (ODSP)\",\"CategoryId\":24},{\"CategoryName\":\"ASG Marketplace and Serving\",\"CategoryId\":25},{\"CategoryName\":\"ASG\",\"CategoryId\":26},{\"CategoryName\":\"ASG Shared Data\",\"CategoryId\":27},{\"CategoryName\":\"OSG Analog\",\"CategoryId\":28},{\"CategoryName\":\"Bing Information Platform\",\"CategoryId\":29},{\"CategoryName\":\"Cloud Reliability Operations\",\"CategoryId\":30},{\"CategoryName\":\"Machine Learning\",\"CategoryId\":31},{\"CategoryName\":\"Outlook OLC\",\"CategoryId\":32},{\"CategoryName\":\"Cloud ES\",\"CategoryId\":33},{\"CategoryName\":\"Sales, Marketing, and Support\",\"CategoryId\":34},{\"CategoryName\":\"Law Enforcement National Security (LENS)\",\"CategoryId\":35},{\"CategoryName\":\"Infrastructure Services\",\"CategoryId\":36},{\"CategoryName\":\"WDG\",\"CategoryId\":37},{\"CategoryName\":\"GAB\",\"CategoryId\":38},{\"CategoryName\":\"BL2VL1TestFrontendCategory\",\"CategoryId\":39},{\"CategoryName\":\"BL2VL1IMP001TestFE\",\"CategoryId\":40},{\"CategoryName\":\"DeepakTestBL2VL1IMP001SvcCategory\",\"CategoryId\":41},{\"CategoryName\":\"BL2VL1IMP001OnChangeSyncTrialSvcCategory\",\"CategoryId\":42},{\"CategoryName\":\"TestCO1PRODOnChangeSyncCategory\",\"CategoryId\":43},{\"CategoryName\":\"TestDemos\",\"CategoryId\":44},{\"CategoryName\":\"Technology and Research\",\"CategoryId\":45},{\"CategoryName\":\"Windows Engineering System\",\"CategoryId\":46},{\"CategoryName\":\"FAST\",\"CategoryId\":47},{\"CategoryName\":\"Professional Services\",\"CategoryId\":48},{\"CategoryName\":\"Liquid Engineering\",\"CategoryId\":49},{\"CategoryName\":\"Azure Security Engineering\",\"CategoryId\":50},{\"CategoryName\":\"Windows Defender\",\"CategoryId\":51},{\"CategoryName\":\"LinkedIn\",\"CategoryId\":52},{\"CategoryName\":\"Core Platform Engineering\",\"CategoryId\":53},{\"CategoryName\":\"DSRE - Digital Security and Risk Engineering\",\"CategoryId\":54},{\"CategoryName\":\"End User Services Engineering\",\"CategoryId\":55},{\"CategoryName\":\"Shared Services Engineering\",\"CategoryId\":56},{\"CategoryName\":\"Sales and Marketing Engineering\",\"CategoryId\":57},{\"CategoryName\":\"Corporate Functions Engineering\",\"CategoryId\":58},{\"CategoryName\":\"Testing For Demos\",\"CategoryId\":59},{\"CategoryName\":\"WaaS\",\"CategoryId\":60},{\"CategoryName\":\"Security Health and Analytics\",\"CategoryId\":61},{\"CategoryName\":\"Windows Sysinternals\",\"CategoryId\":62},{\"CategoryName\":\"Growth Ecosystems\",\"CategoryId\":63},{\"CategoryName\":\"Windows Sysinternals (Deprecated)\",\"CategoryId\":64},{\"CategoryName\":\"Information Security\",\"CategoryId\":65},{\"CategoryName\":\"Microsoft Business Operations\",\"CategoryId\":66},{\"CategoryName\":\"Microsoft Teams\",\"CategoryId\":67},{\"CategoryName\":\"Cortana\",\"CategoryId\":68},{\"CategoryName\":\"MSRC\",\"CategoryId\":69},{\"CategoryName\":\"CSCP\",\"CategoryId\":70},{\"CategoryName\":\"DevRel Intl Engineering Tooling\",\"CategoryId\":71},{\"CategoryName\":\"TestFrontEndCategory\",\"CategoryId\":72},{\"CategoryName\":\"GDCO Engineering\",\"CategoryId\":74},{\"CategoryName\":\"Cloud Commercial Communities\",\"CategoryId\":75},{\"CategoryName\":\"deprecate-Cloud Commercial Communities\",\"CategoryId\":76},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":77},{\"CategoryName\":\"Deprecate- Cloud Commercial Communities\",\"CategoryId\":78},{\"CategoryName\":\"CnE Finance - BI\",\"CategoryId\":79},{\"CategoryName\":\"Microsoft Services\",\"CategoryId\":80},{\"CategoryName\":\"Duplicate - Microsoft Services\",\"CategoryId\":81}]')\r\n            | mvexpand todynamic(Category)\r\n            | extend FrontEndCategoryName = tostring(Category.CategoryName)\r\n            | extend FrontEndCategoryId = tolong(Category.CategoryId)\r\n        ) on FrontEndCategoryName\r\n        | project TenantName, TenantId, FrontEndCategoryId, FrontEndCategoryName\r\n    ) on FrontEndCategoryId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source; \r\nlet icmbugs = \r\n    cluster('Icmcluster').database('IcmDataWarehouse').IncidentBugs\r\n    | extend ExternalId = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId\r\n    | where IsTombstoned == 0 and (isnull(ExternalId) == false and ExternalId > 0) and UnSyncableFromTfs != true\r\n    | where CreatedDate >= startofmonth(ago(549d)) \r\n    | where ModifiedBy !has \"icmtest\" and  ModifiedBy !has \"CN=icm.ad\"\r\n    | extend StatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status)\r\n    | extend ClosedDate = todatetime(iif(StatusTemp =~ \"Closed\", tostring(ModifiedDate), \"\"))\r\n    | extend ClosedBy = iif(StatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | project\r\n         IncidentId\r\n        ,Type\r\n        ,Description\r\n        ,ExternalId\r\n        ,Owner\r\n        ,Delivery\r\n        ,Source\r\n        ,IsTombstoned\r\n        ,CreatedDate\r\n        ,ModifiedDate\r\n        ,ModifiedBy\r\n        ,Status\r\n        ,StatusTemp\r\n        ,AdditionalData\r\n        ,ClosedDate\r\n        ,ClosedBy\r\n        ,DeletedFromTfs;\r\nlet deletedItems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = tolower(OrganizationName)\r\n    | extend ExternalId = WorkItemId\r\n    | extend DeletedFromOneES = 1\r\n    | project OrganizationName, ExternalId, IsDeleted;\r\nlet oneEsV1workitems =\r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend StateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State)\r\n    | extend ClosedDateV1 = iif(StateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend ClosedByV1 = iif(StateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    | extend DeletedFromOneES = 0\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"));\r\nlet minIncident =\r\n    toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents =\r\n    cluster('Icmcluster').database('IcmDataWarehouse').IncidentsSnapshotV2()\r\n    | where IncidentId >= minIncident\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged;\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId //join incidents and filters out incidents that are archived.\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId //fetches Icm TfsProfiles. for those that are missing, the tfs profile is not set in Icm.\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName //evaluates VSO items deleted.\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName //fetches workitems from 1es kusto that is 24hrs latent. used to get status for v1 repairs.\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| where DeletedFromOneES != 1 and DeletedFromTfs != true\r\n| extend TeamName = TeamName1\r\n| extend Status = iif(RepairVersion == \"1\" and isempty( State) == false, State, Status)\r\n| extend StatusTemp = iif(RepairVersion == \"1\" and isempty( StateTemp) == false,StateTemp, StatusTemp) \r\n| extend ClosedBy = iif(RepairVersion == \"1\", ClosedByV1, ClosedBy)\r\n| extend ClosedDate = iif(RepairVersion == \"1\", ClosedDateV1, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == \"1\", ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = tobool(iif(RepairVersion == \"2\",1,0))\r\n| extend IsTfsProfileMissing = tobool(iif(isempty(RepairVersion),1,0))\r\n| extend IsStatusMissing = tobool(iff(isempty(Status),1,0))\r\n| extend IsRepairDeleted = tobool(iif(IsDeleted==1,1,0))\r\n| extend IsIncidentArchived = tobool(iif(IsPurged==1,1,0))\r\n| extend IsDescriptionEmpty = tobool(iif(isempty(Description),1,0))\r\n| extend IsOnPrem = tobool(iif(OrganizationName contains \"8080\",1,0))\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n//\r\n// //BEGIN Reporting Transformation*************************************//\r\n//\r\n    // BEGIN Converting ICM Type to friendly name********/\r\n    | extend RepairType = case( Type ==1, \"Fix\", \r\n                                Type ==2, \"Detection\", \r\n                                Type ==3, \"Mitigation\",\r\n                                Type ==4, \"Other\", \r\n                                Type ==5, \"Repair\", \r\n                                Type ==6, \"Diagnose\",\r\n                                \"Undetermined\" )                 \r\n    //BEGIN converting ICM Delivery to friendly name********/\r\n    | extend Delivery= case(Delivery == 1 , \"ShortTerm\",                              \r\n                                Delivery ==2 , \"LongTerm\",                              \r\n                                Delivery==3,\"MediumTerm\",\r\n                                \"Undetermined\")\r\n    //END converting ICM Delivery to friendly name********/\r\n    //\r\n    // BEGIN Short, Medium, Long term due date logic********/\r\n    | extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                                Delivery == \"MediumTerm\",182,                              \r\n                                Delivery == \"LongTerm\",365,\r\n                                0)\r\n    // END Short, Medium, Long term due date logic********/\r\n    //\r\n    // BEGIN Short, Medium, Long term critically old logic********/\r\n    | extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                Delivery == \"MediumTerm\",242,                              \r\n                                Delivery == \"LongTerm\",455,\r\n                                Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                0)\r\n    // BEGIN Days Open********/\r\n    | extend IsClosed = iif(StatusTemp=~\"Closed\", 1, 0)\r\n    | extend DaysOpen = case(   IsClosed == 0, datetime_diff(\"day\",now(),CreatedDate),\r\n                                IsClosed == 1, datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                                0)\r\n    // END Days Open********/\r\n    //\r\n    // BEGIN Critically Old Date*********/\r\n    | extend CriticallyOldDate = case(  Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                        Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                        Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                        Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                        now())\r\n    // END Critically Old Date***********/\r\n    //\r\n    // BEGIN Critically Old logic********/\r\n    | extend IsCriticallyOld = case(\r\n                                        Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1, 0\r\n                                    ) \r\n    // END Critically Old logic********/\r\n    //\r\n    // BEGIN SLA Check********/\r\n    | extend IsOutOfSLA = case(    DaysOpen > DeliveryETA,1,\r\n                                    0) \r\n    | extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n    | extend IsApproachingCriticallyOld = case(\r\n                                        Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0\r\n                                    )\r\n    // END SLA Check********/\r\n//END Reporting Trasformation*****************************************//\r\n//\r\n| project IsRepairV2, IsTfsProfileMissing, IsStatusMissing, IsRepairDeleted, IsIncidentArchived, IsDescriptionEmpty, IsClosed, TenantName, TeamName, \r\nTenantId, TeamId, IncidentId, ExternalId, Status, RepairVersion, Source, OrganizationName, Type, Description, Owner, Delivery, IsTombstoned, CreatedDate, \r\nModifiedDate, ModifiedBy, ClosedDate, ClosedBy, IsCriticallyOld, DeliveryETA, IsOutOfSLA, DaysOpen, Lens_IngestionTime, IsApproachingCriticallyOld, IsOnPrem,\r\nAssignedTo=AssignedToUniqueName, CreatedBy=CreatedByUniqueName\r\n| where IsCriticallyOld == 1 or IsApproachingCriticallyOld == 1 or IsOutOfSLA == 1\r\n| where IsTfsProfileMissing == 0 and IsClosed == 0 and OrganizationName !contains_cs \"80\" and OrganizationName contains \"visualstudio.com\" and isnotempty(ExternalId) and ExternalId > 100\r\n}","docstring":"Query critically, approaching, or out of SLA repair items","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryCriticallyOrApproachingRepairItems","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/99":{"id":"$fn_icmclusterlb/1/99","entityType":"Function","body":"{\r\n//let IncludeUnsyncableItems = \"true\";\r\nlet bugBase =\r\n    materialize(database('IcmDataWarehouse').IncidentBugs  \r\n    | where (Lens_IngestionTime >= startofmonth(ago(549d)) or CreatedDate >= startofmonth(ago(549d))) and IncidentBugMappingId > 0\r\n    | partition hint.strategy=shuffle by IncidentId\r\n    (\r\n        sort by IncidentId asc, ExternalId asc, Lens_IngestionTime desc, ModifiedDate desc, CreatedDate desc\r\n        | serialize rownum = row_number(1, prev(IncidentId) != IncidentId and prev(ExternalId) != ExternalId)\r\n        | summarize hint.strategy=shuffle arg_min(rownum, *) by IncidentId, ExternalId)\r\n    );\r\nlet icmTeams = \r\n    database('IcmDataWarehouse').TeamsSnapshotV2() | project TeamId, TenantId, TeamName;let ExternalLinkConfigServiceLevel = database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend TenantId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 4 and ConfigType == 'TfsProfile'\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter (database('IcmDataWarehouse').Tenants | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId | project TenantName, TenantId) on TenantId\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = tostring(Value.Instance)\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FieldValueId,\r\n             Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\n//BEGIN Option2************************************************************************************************************\r\nlet repairOwner =\r\n    bugBase \r\n    | where isnotempty(AdditionalData)\r\n    | project AdditionalData\r\n    | parse AdditionalData with * 'Source\":\"' DisplayText '\"' *\r\n    | parse AdditionalData with * 'RepairItemOwningServiceId\":\"' TenantId '\"' *\r\n    | where isnotempty(DisplayText) == bool(true)\r\n    | project DisplayText = toupper(DisplayText), TenantId = tolong(TenantId)\r\n    | distinct *;\r\nlet categoryList =\r\n    database('IcmDataWarehouse').TenantsSnapshotV2()\r\n    | project TenantName, TenantId, FrontEndCategoryName\r\n   | project TenantName, TenantId, FrontEndCategoryName;\r\nlet frontendCategoryName = \r\n    repairOwner\r\n    | join kind = inner categoryList on TenantId\r\n    | project DisplayText, TenantName, TenantId, FrontEndCategoryName;\r\nlet ExternalLinkConfigCategoryLevel =\r\n    database('IcmDataWarehouse').ExternalLinkConfigs\r\n    | extend FieldValueId = Id\r\n    | extend FieldName = ConfigType\r\n    | extend FrontEndCategoryId = tolong(EntityId)\r\n    | extend Value = todynamic(Config)\r\n    | extend DisplayText = toupper(tostring(Value.ProfileFriendlyName))\r\n    | where EntityTypeId == 5\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | join kind = leftouter frontendCategoryName on DisplayText\r\n    | extend OrganizationName = tolower(replace(\"/\",\"\",(replace(\"https://\",\"\",replace(\"http://\",\"\",tostring(Value.Instance))))))\r\n    | extend Instance = toupper(Value.InstanceType)\r\n    | extend Project = toupper(Value.ProjectName)\r\n    | extend Url = Value.Instance\r\n    | extend Value = tostring(Value)\r\n    | extend RepairVersion = \"2\"\r\n    | project FrontEndCategoryId,\r\n              FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url = tostring(Url),\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\n//END Option2**************************************************************************************************************\r\nlet ExternalLinkConfig = \r\n    ExternalLinkConfigServiceLevel\r\n    | union ExternalLinkConfigCategoryLevel;\r\nlet TenantFieldValues = \r\n    database('IcmDataWarehouse').TenantFieldValues\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by FieldValueId\r\n    | extend DisplayText = toupper(DisplayText)\r\n    | extend OrganizationName = tolower(split(replace(\"(https://|http://)\",\"\",tostring(parse_json(todynamic(Value).Url))),\"/\")[0])\r\n    | extend Url = parse_json(todynamic(Value).Url)\r\n    | extend Instance = toupper(parse_json(todynamic(Value).InstanceType))\r\n    | extend Project = toupper(parse_json(todynamic(Value).ProjectName))\r\n    | where FieldName =~ \"TFSProfile\"\r\n    | extend RepairVersion = iif(isempty(todynamic(Value).AdditionalData),\"1\",\"2\")\r\n    | project FieldValueId,\r\n              Lens_IngestionTime,\r\n              TenantId,\r\n              TenantName,\r\n              FieldName,\r\n              Value,\r\n              DisplayText,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              OrganizationName,\r\n              Url,\r\n              Instance,\r\n              Project,\r\n              RepairVersion;\r\nlet tfsProfiles = \r\n    ExternalLinkConfig\r\n    | join hint.shufflekey=TenantId kind = fullouter TenantFieldValues on TenantId and DisplayText and OrganizationName\r\n    | extend FieldValueId = coalesce(FieldValueId, FieldValueId1)\r\n    | extend Lens_IngestionTime = coalesce(Lens_IngestionTime,Lens_IngestionTime1)\r\n    | extend TenantId = coalesce(TenantId,TenantId1)\r\n    | extend TenantName = coalesce(TenantName, TenantName1)\r\n    | extend FieldName = coalesce(FieldName, FieldName1)\r\n    | extend Value = coalesce(Value, Value1)\r\n    | extend DisplayText = coalesce(DisplayText, DisplayText1)\r\n    | extend IsTombstoned = coalesce(IsTombstoned,IsTombstoned1)\r\n    | extend ModifiedDate = coalesce(ModifiedDate,ModifiedDate1)\r\n    | extend OrganizationName = coalesce(OrganizationName,OrganizationName1)\r\n    | extend Url = coalesce(Url, Url1)\r\n    | extend Instance = coalesce(Instance, Instance1)\r\n    | extend Project = coalesce(Project,Project1)\r\n    | extend RepairVersion = coalesce(RepairVersion,RepairVersion1)\r\n    | extend Url = case(\r\n                        Project==\"*\",Url,\r\n                        OrganizationName == \"sqlbuvsts01:8080\",strcat(tostring(split(tostring(Url),\"/\")[0]),\"//\",tostring(split(tostring(Url),\"/\")[2]),\"/Main/\",Project,\"/\"),\r\n                        RepairVersion =~ \"v2\", strcat(Url,\"/\",tolower(Project),\"/\"),\r\n                        isnotempty(OrganizationName),replace(\"http://sqlbuvsts01:8080/main/main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/main/Main/\",\"http://sqlbuvsts01:8080/main/\",replace(\"http://sqlbuvsts01:8080/\",\"http://sqlbuvsts01:8080/main/\",replace(\"--\",\"//\",replace(\"//\",\"/\",strcat(replace(\"://\",\":--\",tostring(Url)),\"/\")))))),\r\n                        Url\r\n                        )\r\n    | extend Url = iff(isempty(OrganizationName),\"\",tostring(tolower(Url)))\r\n    | join kind = leftouter hint.strategy=shuffle icmTeams on TenantId\r\n    | extend Url = tostring(Url)\r\n    | extend Instance = tostring(Instance)\r\n    | extend Project = tostring(Project)\r\n    | extend Source = toupper(DisplayText)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,*) by TenantId, TeamId, Source\r\n    | distinct OrganizationName,\r\n              TenantId,\r\n              TeamId,\r\n              FieldName,\r\n              DisplayText,\r\n              Instance,\r\n              Project,\r\n              RepairVersion,\r\n              Url,\r\n              IsTombstoned,\r\n              ModifiedDate,\r\n              Lens_IngestionTime,\r\n              Source;\r\nlet icmbugs = \r\n    bugBase\r\n    | extend ExternalId_Temp = toint(ExternalId)\r\n    | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime,ModifiedDate, *) by IncidentId, ExternalId_Temp\r\n    | summarize hint.strategy=shuffle IsTombstoned = arg_min(IsTombstoned, *) by IncidentId, ExternalId_Temp, bin(ModifiedDate, 1tick)\r\n    | where IsTombstoned == 0 and (isnull(ExternalId_Temp) == false and ExternalId_Temp > 0) and (true == IncludeUnsyncableItems or UnSyncableFromTfs != true) and DeletedFromTfs != 1\r\n    | extend ExternalId = toint(ExternalId)\r\n    | extend IcMStatusTemp = case(\r\n                        Status contains \"complete\", \"Closed\",\r\n                        Status contains \"close\", \"Closed\",\r\n                        Status contains \"done\", \"Closed\",\r\n                        Status contains \"resolve\", \"Closed\",\r\n                        Status contains \"mitigate\", \"Closed\",\r\n                        Status contains \"remove\",\"Closed\",\r\n                        Status contains \"cut\",\"Closed\",\r\n                        Status contains \"cancel\",\"Closed\",\r\n                        Status contains \"reject\",\"Closed\",\r\n                        Status contains \"inactive\",\"Closed\",\r\n                        Status contains \"wont fix\",\"Closed\",\r\n                        Status contains \"n/a\",\"Closed\",\r\n                        Status)\r\n    | extend IsClosed = iif(IcMStatusTemp == \"Closed\", bool(true), bool(false))\r\n    | extend VSTSClosedDateTemp = parse_json(AdditionalData).VSTSClosedDate\r\n    | extend ClosedDate = todatetime(iif(IcMStatusTemp =~ \"Closed\", iif(isempty(VSTSClosedDateTemp),tostring(ModifiedDate),VSTSClosedDateTemp), \"\"))\r\n    | extend ClosedBy = iif(IcMStatusTemp =~ \"Closed\", ModifiedBy, \"\")\r\n    | extend IcmBug_IncidentBugMappingId = IncidentBugMappingId\r\n    | extend IcmBug_IncidentId = IncidentId\r\n    | extend IcmBug_BugId = BugId\r\n    | extend IcmBug_Type = Type\r\n    | extend IcmBug_Description = Description\r\n    | extend IcmBug_ExternalId = toint(ExternalId)\r\n    | extend IcmBug_Owner = Owner\r\n    | extend IcmBug_Delivery = Delivery\r\n    | extend IcmBug_Source = Source\r\n    | extend IcmBug_IsTombstoned = IsTombstoned\r\n    | extend IcmBug_CreatedDate = CreatedDate\r\n    | extend IcmBug_ModifiedDate = ModifiedDate\r\n    | extend IcmBug_ModifiedBy = ModifiedBy\r\n    | extend IcmBug_Lens_IngestionTime = Lens_IngestionTime\r\n    | extend IcmBug_Lens_Originator = Lens_Originator\r\n    | extend IcmBug_Lens_OriginatorData = Lens_OriginatorData\r\n    | extend IcmBug_Lens_SessionId = Lens_SessionId\r\n    | extend IcmBug_Lens_BatchId = Lens_BatchId\r\n    | extend IcmBug_Status = Status\r\n    | extend IcmBug_AdditionalData = AdditionalData\r\n    | extend IcmBug_UnSyncableFromTfs = UnSyncableFromTfs\r\n    | extend IcmBug_UnSyncableReason = UnSyncableReason\r\n    | extend IcmBug_DeletedFromTfs = DeletedFromTfs\r\n    | project IncidentBugMappingId,\r\n              IncidentId,\r\n              Type,\r\n              IcMDescription=Description,\r\n              ExternalId,\r\n              IcmOwner=Owner,\r\n              Delivery,\r\n              Source,\r\n              IsTombstoned,\r\n              CreatedDate,\r\n              IcmModifiedDate= ModifiedDate,\r\n              ModifiedBy,\r\n              Status,\r\n              IcMStatusTemp,\r\n              AdditionalData,\r\n              IsClosed,\r\n              ClosedDate,\r\n              ClosedBy,\r\n              BugId,\r\n              Lens_IngestionTime,\r\n              Lens_Originator,\r\n              Lens_OriginatorData,\r\n              Lens_SessionId,\r\n              Lens_BatchId,\r\n              UnSyncableFromTfs,\r\n              DeletedFromTfs,\r\n              IcmBug_IncidentBugMappingId,\r\n              IcmBug_IncidentId,\r\n              IcmBug_BugId,\r\n              IcmBug_Type,\r\n              IcmBug_Description,\r\n              IcmBug_ExternalId,\r\n              IcmBug_Owner,\r\n              IcmBug_Delivery,\r\n              IcmBug_Source,\r\n              IcmBug_IsTombstoned,\r\n              IcmBug_CreatedDate,\r\n              IcmBug_ModifiedDate,\r\n              IcmBug_ModifiedBy,\r\n              IcmBug_Lens_IngestionTime,\r\n              IcmBug_Lens_Originator,\r\n              IcmBug_Lens_OriginatorData,\r\n              IcmBug_Lens_SessionId,\r\n              IcmBug_Lens_BatchId,\r\n              IcmBug_Status,\r\n              IcmBug_AdditionalData,\r\n              IcmBug_UnSyncableFromTfs,\r\n              IcmBug_UnSyncableReason,\r\n              IcmBug_DeletedFromTfs;let deletedItems = \r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | where IsDeleted == 1\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"))\r\n    | extend ExternalId = WorkItemId\r\n    | project OrganizationName, ExternalId, IsDeleted;let oneEsV1workitems = \r\n    cluster('1es').database('AzureDevOps').WorkItem\r\n    | extend ExternalId = WorkItemId\r\n    | extend oneEsStateTemp = case(\r\n                        State contains \"complete\", \"Closed\",\r\n                        State contains \"close\", \"Closed\",\r\n                        State contains \"done\", \"Closed\",\r\n                        State contains \"resolve\", \"Closed\",\r\n                        State contains \"mitigate\", \"Closed\",\r\n                        State contains \"remove\",\"Closed\",\r\n                        State contains \"cut\",\"Closed\",\r\n                        State contains \"cancel\",\"Closed\",\r\n                        State contains \"reject\",\"Closed\",\r\n                        State contains \"inactive\",\"Closed\",\r\n                        State contains \"wont fix\",\"Closed\",\r\n                        State contains \"n/a\",\"Closed\",\r\n                        State)\r\n    | extend IsClosed = iif(oneEsStateTemp == \"Closed\", bool(true), bool(false))\r\n    | extend DataJson = parse_json(Data)\r\n    | extend oneEsClosedDateFromDataJson = todatetime(tostring(DataJson[\"Microsoft.VSTS.Common.ClosedDate\"]))\r\n    | extend oneEsClosedByFromDataJson = tostring(DataJson[\"Microsoft.VSTS.Common.ClosedBy.uniqueName\"]) \r\n    | extend oneEsClosedDateFromChangedDate = iif(oneEsStateTemp =~ \"Closed\", ChangedDate, todatetime(\"\"))\r\n    | extend oneEsClosedByFromChangedBy = iif(oneEsStateTemp =~ \"Closed\", ChangedByUniqueName, \"\")\r\n    | extend oneEsClosedDate = coalesce(oneEsClosedDateFromDataJson, oneEsClosedDateFromChangedDate)\r\n    | extend oneEsClosedBy = coalesce(oneEsClosedByFromDataJson, oneEsClosedByFromChangedBy)\r\n    | extend OneESTitle=Title\r\n    | extend OneESAssignedTo=AssignedToName\r\n    | extend OneESModifiedDate=ChangedDate\r\n    | extend OrganizationName = iif((OrganizationName contains \".visualstudio.com\"), tolower(OrganizationName), strcat(tolower(OrganizationName), \".visualstudio.com\"));let minIncident = \r\n    toscalar(icmbugs | summarize minIncident = min(IncidentId));\r\nlet incidents = database('IcmDataWarehouse').IncidentsSnapshotV2()\r\n    | where IncidentId >= minIncident\r\n    | join kind = leftouter (database('IcMDataWarehouse').PurgedIncidents | project pIncId = IncidentId) on $left.IncidentId==$right.pIncId\r\n    | project IncidentId, TenantName=OwningTenantName, TeamName=OwningTeamName, TenantId=OwningTenantId, TeamId=OwningTeamId, IsPurged = iif(isnotempty(pIncId), 1, 0);\r\nicmbugs\r\n| extend Source = toupper(Source)\r\n| join hint.shufflekey=IncidentId kind = leftouter incidents on IncidentId\r\n| join kind = leftouter tfsProfiles on Source and TenantId and TeamId\r\n| join hint.shufflekey=ExternalId kind = leftouter deletedItems on ExternalId and OrganizationName\r\n| join hint.shufflekey=ExternalId kind = leftouter oneEsV1workitems on ExternalId and OrganizationName\r\n| join hint.shufflekey=TeamId kind = leftouter icmTeams on TeamId\r\n| extend TeamName = TeamName1,\r\n         RepairVersion = tolong(RepairVersion)\r\n| extend Status = iif(RepairVersion == 1, State, Status)\r\n| extend ClosedBy = coalesce(oneEsClosedBy, ClosedBy)\r\n| extend ClosedDate = coalesce(oneEsClosedDate, ClosedDate)\r\n| extend ModifiedDate = iif(RepairVersion == 1, ChangedDate, ModifiedDate)\r\n| extend IsRepairV2 = iif(RepairVersion == 2,1,0)\r\n| extend IsTfsProfileMissing = iif(isempty(RepairVersion),1,0)\r\n| extend IsStatusMissing = iff(isempty(Status),1,0)\r\n| extend IsRepairDeleted = iif(IsDeleted==1,1,0)\r\n| extend IsIncidentArchived = iif(IsPurged==1,1,0)\r\n| extend IsDescriptionEmpty = iif(isempty(Description),1,0)\r\n| extend IsOnPrem = iif(OrganizationName contains \"8080\" or OrganizationName contains \"8443\",1,0)\r\n| summarize arg_max(RepairVersion,*) by IncidentId, ExternalId, OrganizationName\r\n| extend RepairType = case( Type ==1, \"Fix\", \r\n                            Type ==2, \"Detection\", \r\n                            Type ==3, \"Mitigation\",\r\n                            Type ==4, \"Other\", \r\n                            Type ==5, \"Repair\", \r\n                            Type ==6, \"Diagnose\",\r\n                            Type ==7, \"Notification\",\r\n                            Type ==8, \"Engagement\",\r\n                            Type ==9, \"TestRelease\",\r\n                            Type ==10, \"Process\",\r\n                           \"Undetermined\" )                 \r\n| extend Delivery= case(Delivery == 1 , \"ShortTerm\",                              \r\n                        Delivery ==2 , \"LongTerm\",                              \r\n                        Delivery==3,\"MediumTerm\",\r\n                        \"Undetermined\")\r\n| extend DeliveryETA = case(Delivery == \"ShortTerm\",14,                              \r\n                            Delivery == \"MediumTerm\",182,                              \r\n                            Delivery == \"LongTerm\",365,\r\n                            0)\r\n| extend DeliveryETACritcallyOld = case(Delivery == \"ShortTerm\",44,                              \r\n                                        Delivery == \"MediumTerm\",242,                              \r\n                                        Delivery == \"LongTerm\",455,\r\n                                        Delivery =~ \"Undetermined\",tolong(\"\"),\r\n                                        0)\r\n| extend DaysOpen = case(IsClosed == bool(false), datetime_diff(\"day\",now(),CreatedDate),\r\n                         IsClosed == bool(true), datetime_diff(\"day\",ClosedDate,CreatedDate),\r\n                         0)\r\n| extend CriticallyOldDate = case( Delivery == \"ShortTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"MediumTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery == \"LongTerm\", endofday(datetime_add(\"day\",DeliveryETACritcallyOld,CreatedDate)),\r\n                                   Delivery =~ \"Undetermined\", todatetime(\"\"),\r\n                                   now())\r\n| extend IsCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryETACritcallyOld, 1,0) \r\n| extend IsOutOfSLA = case(DaysOpen > DeliveryETA,1,0) \r\n| extend DeliveryApproachingETA = case(Delivery == \"ShortTerm\",14,Delivery == \"MediumTerm\",212,Delivery == \"LongTerm\",425, 0)\r\n| extend IsApproachingCriticallyOld = case(Delivery in (\"ShortTerm\",\"MediumTerm\",\"LongTerm\") and DaysOpen > DeliveryApproachingETA, 1, 0)\r\n| extend UnSyncableFromTfs = iif(IsOnPrem == 1, bool(true),\r\n                                        iif(IsTfsProfileMissing == 1, bool(true), \r\n                                            iif(isempty(IcmBug_UnSyncableFromTfs), bool(false), IcmBug_UnSyncableFromTfs)))\r\n| extend  UnSyncableFromTfs_Icm = IcmBug_UnSyncableFromTfs\r\n| project \r\n    IsRepairV2,\r\n    IsTfsProfileMissing,\r\n    IsStatusMissing,\r\n    IsRepairDeleted,\r\n    IsIncidentArchived,\r\n    IsDescriptionEmpty,\r\n    IsClosed,\r\n    IsOutOfSLA,\r\n    IsOnPrem,\r\n    IsApproachingCriticallyOld,\r\n    IsCriticallyOld,\r\n        IncidentBugMappingId = IcmBug_IncidentBugMappingId,\r\n    IncidentId = IcmBug_IncidentId,\r\n    BugId = IcmBug_BugId,\r\n    Type = IcmBug_Type,\r\n    Description = IcmBug_Description,\r\n    ExternalId = IcmBug_ExternalId,\r\n    Owner = IcmBug_Owner,\r\n    Delivery,\r\n    Source = IcmBug_Source,\r\n    IsTombstoned = IcmBug_IsTombstoned,\r\n    CreatedDate = IcmBug_CreatedDate,\r\n    ModifiedDate = IcmBug_ModifiedDate,\r\n    ModifiedBy = IcmBug_ModifiedBy,\r\n    Lens_IngestionTime = IcmBug_Lens_IngestionTime,\r\n    Lens_Originator = IcmBug_Lens_Originator,\r\n    Lens_OriginatorData = IcmBug_Lens_OriginatorData,\r\n    Lens_SessionId = IcmBug_Lens_SessionId,\r\n    Lens_BatchId = IcmBug_Lens_BatchId,\r\n    Status = IcmBug_Status,\r\n    State,\r\n    AdditionalData = IcmBug_AdditionalData,\r\n    TenantName,\r\n    TeamName, \r\n    TenantId,\r\n    TeamId,\r\n    RepairVersion = tostring(RepairVersion),\r\n    OrganizationName,\r\n    ClosedDate,\r\n    ClosedBy,\r\n    DeliveryETA,\r\n    DaysOpen,\r\n    AssignedToUniqueName,\r\n    CreatedByUniqueName,\r\n    RepairType,\r\n    UnSyncableFromTfs,\r\n    UnSyncableFromTfs_Icm,\r\n    UnSyncableReason = IcmBug_UnSyncableReason,\r\n    DeletedFromTfs = IcmBug_DeletedFromTfs,\r\n        EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff = iff(IcmModifiedDate >= OneESModifiedDate, IcmModifiedDate - OneESModifiedDate, OneESModifiedDate - IcmModifiedDate),\r\n    IcmModifiedDate=format_datetime(IcmModifiedDate,'yy-MM-dd [HH:mm]'),\r\n    OneESModifiedDate =format_datetime(OneESModifiedDate,'yy-MM-dd [HH:mm]')\r\n| extend IsOneEsClosed = iif(oneEsStateTemp =~ \"Closed\", 1, 0)\r\n| extend IsIcmClosed = iff(IcMStatusTemp =~ \"Closed\", 1, 0)\r\n| extend IsClosedStatusMismatch = iif((isnotempty(ClosedDate) and IsClosed == 0) or (IsIcmClosed < IsOneEsClosed), bool(true), bool(false))\r\n    | extend IsClosed = iff(IsClosedStatusMismatch == bool(true), bool(true), IsClosed)\r\n| extend isDescriptionDiff=iff(isempty(Lens_IngestionTime) == false and (OneESTitle =~ IcMDescription or isempty(OneESTitle) == true or Lens_IngestionTime > EtlIngestDate or isempty(EtlIngestDate) == true),0,1)\r\n| extend isStatusDiff=iff(isempty(Lens_IngestionTime) == false and (oneEsStateTemp =~IcMStatusTemp or isempty(oneEsStateTemp) == true or Lens_IngestionTime > EtlIngestDate or isempty(EtlIngestDate) == true),0,1)\r\n| extend isOwnerDiff=iff(isempty(Lens_IngestionTime) == false and (IcmOwner contains (OneESAssignedTo) or isempty(OneESAssignedTo) == true or Lens_IngestionTime > EtlIngestDate or isempty(EtlIngestDate) == true),0,1)\r\n| extend isModifiedDateDiff=iff(isempty(Lens_IngestionTime) == false and ((IcmModifiedDate == OneESModifiedDate or ModifiedDateDiff<=time(1h)) or isempty(OneESModifiedDate) == true or Lens_IngestionTime > EtlIngestDate or isempty(EtlIngestDate) == true),0,1)\r\n| where OrganizationName !contains \"aka.ms\" and OrganizationName !contains \"mpsit.visualstudio.com\" and OrganizationName !contains \"test.com\"\r\n| where CreatedDate >= startofmonth(ago(549d)) and isempty(Description) == false\r\n| project-away\r\n    EtlIngestDate,\r\n    OneESTitle,\r\n    IcMDescription,\r\n    oneEsStateTemp,\r\n    IcMStatusTemp,\r\n    IcmOwner,\r\n    OneESAssignedTo,\r\n    ModifiedDateDiff,\r\n    IcmModifiedDate,\r\n    OneESModifiedDate,\r\n    isDescriptionDiff,\r\n    isStatusDiff,\r\n    isOwnerDiff,\r\n    isModifiedDateDiff\r\n}","docstring":"Query for All Repairs Reporting","folder":"IcMExternalLinks","functionKind":"UnknownFunction","name":"QueryRepairItem_Report_10b","outputColumns":[],"inputParameters":[{"name":"IncludeUnsyncableItems","cslType":"bool","type":"System.SByte","cslDefaultValue":"false"}]},"$fn_icmclusterlb/1/100":{"id":"$fn_icmclusterlb/1/100","entityType":"Function","body":"{ \r\n    let allActiveTenants =  TenantsSnapshotV2()\r\n    | where IsTombstoned != 1 and FrontEndCategoryName != \"Gaming\"\r\n    | project TenantId, TenantName, FrontEndCategoryName;\r\n    let acesEnabledTenants =  AutoCorrelationConfig\r\n    | where EntityIdType contains \"Service\"\r\n    | summarize arg_max(Lens_IngestionTime, *) by EntityId;\r\n    allActiveTenants\r\n    | where TenantId !in (acesEnabledTenants)\r\n    | project TenantId\r\n    | take 10\r\n}","docstring":"Get TenantIds that are not onboarded to ACES","functionKind":"UnknownFunction","name":"GetAcesNewTenants","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/101":{"id":"$fn_icmclusterlb/1/101","entityType":"Function","body":"{\r\nTeamsSnapshotV2()\r\n|join Tenants on $left.TenantName == $right.TenantName\r\n|where IsTombstoned!=true\r\n|summarize arg_max(Lens_IngestionTime, *) by TenantName\r\n|summarize toreal(quantity = count()) by FrontEndCategoryName,\r\n       usageTime = bin(startDate, 1d),\r\n       resourceId=tostring(\"/subscriptions/00000000-0000-0000-0000-000000000000\"), \r\n       resourceLocation=tostring(\"Dailtone\"), \r\n       meterId = tostring(\"Microsoft.CloudES.IcM.ActiveServices\"),\r\n       OrgName = FrontEndCategoryName,\r\n       ServiceName = TenantName\r\n|order by quantity desc \r\n}","docstring":"Get the Number of Active Services","folder":"Misc","functionKind":"UnknownFunction","name":"ActiveServicesInIcM","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/102":{"id":"$fn_icmclusterlb/1/102","entityType":"Function","body":"{\r\nTeamsSnapshotV2()\r\n|where IsTombstoned!=true\r\n|summarize arg_max(Lens_IngestionTime, *) by TeamName\r\n|summarize toreal(quantity = count()) by TenantName,\r\n       usageTime = bin(startDate, 1d),\r\n       resourceId=tostring(\"/subscriptions/00000000-0000-0000-0000-000000000000\"), \r\n       resourceLocation=tostring(\"Dailtone\"), \r\n       meterId = tostring(\"Microsoft.CloudES.IcM.ActiveTeams\"),\r\n       ServiceName = TenantName,\r\n       TeamName = TeamName\r\n}","docstring":"Get the Number of Active Teams","folder":"Misc","functionKind":"UnknownFunction","name":"ActiveTeamsInIcM","outputColumns":[],"inputParameters":[{"name":"startDate","cslType":"datetime","type":"System.DateTime"},{"name":"endDate","cslType":"datetime","type":"System.DateTime"}]},"$fn_icmclusterlb/1/103":{"id":"$fn_icmclusterlb/1/103","entityType":"Function","body":"{\r\n    let azureGlobalKustoEndpoint = azureGlobalEndpoint;\r\n    cluster(azureGlobalKustoEndpoint).database('AGSPartner').JediPsl | where MappingType == \"Explicit\" or MappingType == \"Implicit\" | project Oid\r\n}","docstring":"Get list of Services in the Azure Global cluster that are marked as JEDI services","folder":"JEDI","functionKind":"UnknownFunction","name":"GetJEDIServicesFromGlobal","outputColumns":[],"inputParameters":[{"name":"azureGlobalEndpoint","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/104":{"id":"$fn_icmclusterlb/1/104","entityType":"Function","body":"{\r\n    //BEGIN NOTES************************************************************************************************\r\n    //03/12/2021 - v2 - amitlale - fixed missing data.\r\n    // PURPOSE - This function gets the list of ICM tenants that are 'JEDI' i.e. have presence in air-gapped side\r\n    //END NOTES**************************************************************************************************\r\n    //\r\n    // Get all tenants and their mapped service tree Ids (= set A)\r\n    let tenantmapping = TenantServiceTreeMapping \r\n        | summarize arg_max(Lens_IngestionTime, *) by TenantId \r\n        | where MappedServiceTreeEntities != \"[]\" \r\n        | extend MappedServiceTreeEntities = parse_json(MappedServiceTreeEntities) \r\n        | mv-expand MappedServiceTreeEntities \r\n        | project TenantId, MappedServiceTreeId = tostring(MappedServiceTreeEntities.ServiceTreeEntityId);\r\n    // Get all teams and their service tree Ids (= set B)\r\n    let teamMapping = TeamServiceTreeMapping \r\n        | summarize arg_max(Lens_IngestionTime, *) by TeamId \r\n        | where MappedServiceTreeEntities != \"[]\" \r\n        | extend MappedServiceTreeEntities = parse_json(MappedServiceTreeEntities) \r\n        | mv-expand MappedServiceTreeEntities \r\n        | project TeamId, MappedServiceTreeId = tostring(MappedServiceTreeEntities.ServiceTreeEntityId);\r\n    // Get the tenants of mapped teams from Set b (= Set C)\r\n    let tenantsFromTeamMapping = teamMapping \r\n        | join kind=inner TeamsSnapshotV2() on $left.TeamId == $right.TeamId \r\n        | project TenantId, MappedServiceTreeId;\r\n    // Combine the 2 tenant sets (set A, set B) \n    let allMappedTenants = tenantsFromTeamMapping \n        | union tenantmapping;\n    // Get the ServiceTreeIds of JEDI Services from AzureGlobal cluster    \n    let jediInScopeServices = GetJEDIServicesFromGlobal('ecosystem.kusto.windows.net');\n    // Map the AzureGlobal services to ICM tenants and remove duplicates. This is final list of ICM tenants that are \"JEDI\" tenants\n    let icmJediTenants = allMappedTenants \r\n        | where MappedServiceTreeId in (jediInScopeServices)\r\n        | project TenantId\r\n        | distinct TenantId;\r\n    icmJediTenants\n}","docstring":"Get list of Services in the Azure Global cluster that are marked as JEDI services","folder":"JEDI","functionKind":"UnknownFunction","name":"GetJEDITenants3","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/105":{"id":"$fn_icmclusterlb/1/105","entityType":"Function","body":"{\r\n    let clusterEndpoint = current_cluster_endpoint();\r\n    (clusterEndpoint == \"icmclusterppe.westus.kusto.windows.net\") or\r\n    (clusterEndpoint == \"icmcluster.kusto.windows.net\" and current_database() == \"IcMDataWarehousePPE\") or \r\n    (clusterEndpoint == \"icmclusterlb.kustomfa.windows.net\" and current_database() == \"IcMDataWarehousePPE\")\r\n}","docstring":"Returns true if this function is being executed in the PPE environment","functionKind":"UnknownFunction","name":"IsPpeEnvironment","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/106":{"id":"$fn_icmclusterlb/1/106","entityType":"Function","body":"{\r\n    current_cluster_endpoint() in (\r\n        \"icmcluster.kusto.windows.net\",\r\n        \"icmclusterbackup.kusto.windows.net\",\r\n        \"icmprod.kusto.windows.net\",\r\n        \"icmprodbackup.kusto.windows.net\",\r\n        \"icmclusterlb.kustomfa.windows.net\",\r\n        \"icmprodlb.kustomfa.windows.net\"\r\n    ) and not(IsPpeEnvironment())\r\n}","docstring":"Returns true if this function is being executed in the PROD environment","functionKind":"UnknownFunction","name":"IsProdEnvironment","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/107":{"id":"$fn_icmclusterlb/1/107","entityType":"Function","body":"{\r\n    //now() > datetime(2023-07-12 16:29:28.9713624)\r\n    False\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/108":{"id":"$fn_icmclusterlb/1/108","entityType":"Function","body":"{\r\n    let message = \"IncidentImpactedTenantsSnapshot() and IncidentImpactedTenantsSnapshot_V1 have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_IncidentImpactedTenantsSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/109":{"id":"$fn_icmclusterlb/1/109","entityType":"Function","body":"{\r\n    let message = \"TeamsSnapshot() and TeamsSnapshot_V1 have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_TeamsSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/110":{"id":"$fn_icmclusterlb/1/110","entityType":"Function","body":"{\r\n    let message = \"TenantsSnapshot() and TenantsSnapshot_V1 have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_TenantsSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/111":{"id":"$fn_icmclusterlb/1/111","entityType":"Function","body":"{\r\n    let message = \"PostIncidentReportsSnapshot() and PostIncidentReportsSnapshot_V1 have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_PostIncidentReportsSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/112":{"id":"$fn_icmclusterlb/1/112","entityType":"Function","body":"{\r\n    let message = \"IncidentCustomFieldEntriesSnapshot() and IncidentCustomFieldEntriesSnapshot_V1 have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_IncidentCustomFieldEntriesSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/113":{"id":"$fn_icmclusterlb/1/113","entityType":"Function","body":"{\r\n    let message = \"IncidentsSnapshot(), IncidentsSnapshot_V1 and IncidentsSnapshot_V1_Current have been deprecated. Visit https://aka.ms/icmguide/kustosnapshot for migration instructions\";\r\n    assert(AssertV1SnapshotScreamTest(), message)\r\n}","functionKind":"UnknownFunction","name":"AssertV1SnapshotScreamTest_IncidentsSnapshot","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/114":{"id":"$fn_icmclusterlb/1/114","entityType":"Function","body":"{\r\n    IncidentsSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_IncidentsSnapshot()\r\n}","functionKind":"UnknownFunction","name":"IncidentsSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/115":{"id":"$fn_icmclusterlb/1/115","entityType":"Function","body":"{\r\n    TenantsSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_TenantsSnapshot()\r\n}","functionKind":"UnknownFunction","name":"TenantsSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/116":{"id":"$fn_icmclusterlb/1/116","entityType":"Function","body":"{\r\n    TeamsSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_TeamsSnapshot()\r\n}","functionKind":"UnknownFunction","name":"TeamsSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/117":{"id":"$fn_icmclusterlb/1/117","entityType":"Function","body":"{\r\n    PostIncidentReportsSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_PostIncidentReportsSnapshot()\r\n}","functionKind":"UnknownFunction","name":"PostIncidentReportsSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/118":{"id":"$fn_icmclusterlb/1/118","entityType":"Function","body":"{\r\n    IncidentCustomFieldEntriesSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_IncidentCustomFieldEntriesSnapshot()\r\n}","functionKind":"UnknownFunction","name":"IncidentCustomFieldEntriesSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/119":{"id":"$fn_icmclusterlb/1/119","entityType":"Function","body":"{\r\n    IncidentImpactedTenantsSnapshot_V1_Backup\r\n    | where AssertV1SnapshotScreamTest_IncidentImpactedTenantsSnapshot()\r\n}","functionKind":"UnknownFunction","name":"IncidentImpactedTenantsSnapshot_V1","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/120":{"id":"$fn_icmclusterlb/1/120","entityType":"Function","body":"{ \r\n//Notes:******************************************************************************************************\r\n//\r\n// Check if a TeamId (IcM InternalId, as opposed to TeamPublicId) is set to be an EB Team, returns ServiceTree Ids that has the TeamId\r\n// MetadataDefinitionInternalId 652 is Crisis and Security\r\n// MetadataDefinitionInternalId 752 is SecurityIncident and SecurityOperations\r\n//\r\n//************************************************************************************************************\r\n//\r\nlet TeamIdStr = strcat(\"\\\\\\\"TeamId\\\\\\\":\", toscalar(TeamId));\r\ncluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceMetadata_Snapshot\r\n| where MetadataDefinitionInternalId in (652, 752) and AzureCloud == 1 and Status == 1 and Value has TeamIdStr\r\n| join kind=inner cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceHierarchy_Snapshot on $left.ServiceInternalId == $right.InternalId\r\n| project ServiceTreeId = Id1, EmergencyValue = Value\r\n| distinct ServiceTreeId\r\n}","docstring":"Check if a TeamId is an Emergency Broadcast Team","folder":"EmergencyBroadcast","functionKind":"UnknownFunction","name":"TeamEmergencyBroadcastServiceTreeIds","outputColumns":[],"inputParameters":[{"name":"TeamId","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/121":{"id":"$fn_icmclusterlb/1/121","entityType":"Function","body":"{ \r\n//Notes:******************************************************************************************************\r\n//\r\n// Check if a TenantId has any Teams that are EB Teams and return IcM TeamIds (IcM Internal Id, as opposed to IcM PublicTeamId) that are set to EB Team\r\n// MetadataDefinitionInternalId 652 is Crisis and Security\r\n// MetadataDefinitionInternalId 752 is SecurityIncident and SecurityOperations\r\n//\r\n//************************************************************************************************************\r\n//\r\nlet TenantIdStr = strcat(\"\\\\\\\"TenantId\\\\\\\":\", toscalar(TenantId));\r\nlet TenantTeamIdRegex = strcat(\"TenantId\\\\\\\\\\\":\", TenantId, \",\\\\\\\\\\\"TeamId\\\\\\\\\\\":(\\\\d+)\");\r\ncluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceMetadata_Snapshot\r\n| where MetadataDefinitionInternalId in (652, 752) and AzureCloud == 1 and Status == 1 and Value has TenantIdStr\r\n| join kind=inner cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceHierarchy_Snapshot on $left.ServiceInternalId == $right.InternalId\r\n| extend EmergencyValue = todynamic(parse_json(Value))\r\n| extend TeamIds = extract_all(TenantTeamIdRegex, tostring(EmergencyValue))\r\n| mv-expand TeamIds\r\n| extend TeamId = tolong(TeamIds)\r\n| distinct TeamId\r\n}","docstring":"Check if a TeamId is an Emergency Broadcast Team","folder":"EmergencyBroadcast","functionKind":"UnknownFunction","name":"TenantEmergencyBroadcastTeamIds","outputColumns":[],"inputParameters":[{"name":"TenantId","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/122":{"id":"$fn_icmclusterlb/1/122","entityType":"Function","body":"{ \r\n//Notes:******************************************************************************************************\r\n//\r\n// Check if a TeamId (IcM InternalId, as opposed to TeamPublicId) has any referenced teams set to be an EB Team, returns ServiceTree Ids that has the TeamId\r\n// MetadataDefinitionInternalId 652 is Crisis and Security\r\n// MetadataDefinitionInternalId 752 is SecurityIncident and SecurityOperations\r\n//\r\n//************************************************************************************************************\r\n//\r\nlet ConditionTeamIds = TeamsSnapshotV2\r\n| where ReferencedTeamId == ReferencedTeamIdInput and IsTombstoned == false\r\n| distinct TeamId;\r\nlet FormattedTeamIds = ConditionTeamIds\r\n| project TeamIdStr = strcat(\"\\\\\\\"TeamId\\\\\\\":\", TeamId)\r\n| summarize TeamIdsArray = make_list(TeamIdStr);\r\ncluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceMetadata_Snapshot\r\n| where MetadataDefinitionInternalId in (652, 752) and AzureCloud == 1 and Status == 1 and Value has_any (FormattedTeamIds)\r\n| join kind=inner cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').ServiceTree_ServiceHierarchy_Snapshot on $left.ServiceInternalId == $right.InternalId\r\n| project ServiceTreeId = Id1, EmergencyValue = Value\r\n| distinct ServiceTreeId\r\n}","docstring":"Check if a TeamId has virtual teams that are an Emergency Broadcast Team","folder":"EmergencyBroadcast","functionKind":"UnknownFunction","name":"ReferencedTeamEmergencyBroadcastServiceTreeIds","outputColumns":[],"inputParameters":[{"name":"ReferencedTeamIdInput","cslType":"string","type":"System.String"}]},"$fn_icmclusterlb/1/123":{"id":"$fn_icmclusterlb/1/123","entityType":"Function","body":"{\r\n    let incidentIds = PurgedIncidents\r\n    | project IncidentId;\r\n    Incidents\r\n    | where IncidentId in (incidentIds)\r\n    | summarize arg_max(Lens_IngestionTime, *) by IncidentId\r\n    | where IsPurged != true\r\n    | extend Lens_IngestionTime = now(), Lens_Originator = \"Update policy | PurgedIncidents\", IsPurged = true\r\n    | project \r\n        IncidentId,\r\n        SourceId,\r\n        SourceName,\r\n        SourceType,\r\n        SourceIncidentId,\r\n        SourceCreateDate,\r\n        SourceOrigin,\r\n        SourceCreatedBy,\r\n        SourceModifiedDate,\r\n        CreateDate,\r\n        ModifiedDate,\r\n        RoutingId,\r\n        CorrelationId,\r\n        OccurringEnvironment,\r\n        OccurringDatacenter,\r\n        OccurringDeviceGroup,\r\n        OccurringDeviceName,\r\n        OccurringServiceInstanceId,\r\n        RaisingEnvironment,\r\n        RaisingDatacenter,\r\n        RaisingDeviceGroup,\r\n        RaisingDeviceName,\r\n        RaisingServiceInstanceId,\r\n        OwningTenantName,\r\n        OwningTenantId,\r\n        OwningTenantPublicId,\r\n        OwningTeamName,\r\n        OwningTeamId,\r\n        OwningContactId,\r\n        OwningContactAlias,\r\n        ParentIncidentId,\r\n        Severity,\r\n        Status,\r\n        IsNoise,\r\n        IsSecurityRisk,\r\n        IsCustomerImpacting,\r\n        Component,\r\n        Revision,\r\n        TsgId,\r\n        Title,\r\n        ReproSteps,\r\n        CustomerName,\r\n        CommitDate,\r\n        ResolveDate,\r\n        ResolvedBy,\r\n        RootCauseId,\r\n        RootCauseLinkDate,\r\n        Mitigation,\r\n        KBArticleId,\r\n        PIRReportId,\r\n        PIRLinkDate,\r\n        ImpactedScenarios,\r\n        HitCount,\r\n        LastCorrelationDate,\r\n        Keywords,\r\n        MitigateDate,\r\n        ImpactStartDate,\r\n        MitigatedBy,\r\n        CommsMgrEngagementMode,\r\n        CommsMgrEngagementAdditionalDetails,\r\n        IncidentType,\r\n        ChildCount,\r\n        RelatedLinksCount,\r\n        ExternalLinksCount,\r\n        HowFixed,\r\n        IncidentSubType,\r\n        TsgOutput,\r\n        MonitorId,\r\n        ResponsibleTenantName,\r\n        ResponsibleTenantId,\r\n        ResponsibleTenantPublicId,\r\n        SupportTicketId,\r\n        SubscriptionId,\r\n        PublicPirId,\r\n        OriginatingTenantName,\r\n        OriginatingTenantId,\r\n        OriginatingTenantPublicId,\r\n        SiloId,\r\n        Lens_IngestionTime,\r\n        Lens_Originator,\r\n        Lens_OriginatorData,\r\n        Lens_SessionId,\r\n        Lens_BatchId,\r\n        IsOutage,\r\n        Summary,\r\n        OutageDeclaredDate,\r\n        ResponsibleTeamName,\r\n        ResponsibleTeamId,\r\n        IncidentManagerContactId,\r\n        CommunicationsManagerContactId,\r\n        OutageImpactLevel,\r\n        ExecutiveIncidentManagerContactId,\r\n        Tags,\r\n        IsPurged\r\n}","docstring":"Reingests purged incident to set IsPurged column to true","folder":"UpdatePolicyFunctions","functionKind":"UnknownFunction","name":"ReingestIncidentAsPurged","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/124":{"id":"$fn_icmclusterlb/1/124","entityType":"Function","body":"{\r\n    let incidentIds = PurgedIncidents\r\n    | project IncidentId;\r\n    Incidents\r\n    | where IncidentId in (incidentIds)\r\n    | summarize arg_max(Lens_IngestionTime, *) by IncidentId\r\n    | where IsPurged != true\r\n    | extend Lens_IngestionTime = now(), Lens_Originator = \"Update policy | PurgedIncidents\", IsPurged = true\r\n    | project \r\n        IncidentId,\r\n        SourceId,\r\n        SourceName,\r\n        SourceType,\r\n        SourceIncidentId,\r\n        SourceCreateDate,\r\n        SourceOrigin,\r\n        SourceCreatedBy,\r\n        SourceModifiedDate,\r\n        CreateDate,\r\n        ModifiedDate,\r\n        RoutingId,\r\n        CorrelationId,\r\n        OccurringEnvironment,\r\n        OccurringDatacenter,\r\n        OccurringDeviceGroup,\r\n        OccurringDeviceName,\r\n        OccurringServiceInstanceId,\r\n        RaisingEnvironment,\r\n        RaisingDatacenter,\r\n        RaisingDeviceGroup,\r\n        RaisingDeviceName,\r\n        RaisingServiceInstanceId,\r\n        OwningTenantName,\r\n        OwningTenantId,\r\n        OwningTenantPublicId,\r\n        OwningTeamName,\r\n        OwningTeamId,\r\n        OwningContactId,\r\n        OwningContactAlias,\r\n        ParentIncidentId,\r\n        Severity,\r\n        Status,\r\n        IsNoise,\r\n        IsSecurityRisk,\r\n        IsCustomerImpacting,\r\n        Component,\r\n        Revision,\r\n        TsgId,\r\n        Title,\r\n        ReproSteps,\r\n        CustomerName,\r\n        CommitDate,\r\n        ResolveDate,\r\n        ResolvedBy,\r\n        RootCauseId,\r\n        RootCauseLinkDate,\r\n        Mitigation,\r\n        KBArticleId,\r\n        PIRReportId,\r\n        PIRLinkDate,\r\n        ImpactedScenarios,\r\n        HitCount,\r\n        LastCorrelationDate,\r\n        Keywords,\r\n        MitigateDate,\r\n        ImpactStartDate,\r\n        MitigatedBy,\r\n        CommsMgrEngagementMode,\r\n        CommsMgrEngagementAdditionalDetails,\r\n        IncidentType,\r\n        ChildCount,\r\n        RelatedLinksCount,\r\n        ExternalLinksCount,\r\n        HowFixed,\r\n        IncidentSubType,\r\n        TsgOutput,\r\n        MonitorId,\r\n        ResponsibleTenantName,\r\n        ResponsibleTenantId,\r\n        ResponsibleTenantPublicId,\r\n        SupportTicketId,\r\n        SubscriptionId,\r\n        PublicPirId,\r\n        OriginatingTenantName,\r\n        OriginatingTenantId,\r\n        OriginatingTenantPublicId,\r\n        SiloId,\r\n        Lens_IngestionTime,\r\n        Lens_Originator,\r\n        Lens_OriginatorData,\r\n        Lens_SessionId,\r\n        Lens_BatchId,\r\n        IsOutage,\r\n        Summary,\r\n        OutageDeclaredDate,\r\n        ResponsibleTeamName,\r\n        ResponsibleTeamId,\r\n        IncidentManagerContactId,\r\n        CommunicationsManagerContactId,\r\n        OutageImpactLevel,\r\n        ExecutiveIncidentManagerContactId,\r\n        Tags,\r\n        IsPurged,\r\n        IsCustomerSupportEngagement\r\n}","docstring":"Reingests purged incident to set IsPurged column to true","folder":"UpdatePolicyFunctions","functionKind":"UnknownFunction","name":"ReingestIncidentsAsPurged","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/125":{"id":"$fn_icmclusterlb/1/125","entityType":"Function","body":"{\r\n//Notes:******************************************************************************************************\r\n//\r\n// Return a list of IcM teams and their respective Emergency Broadcast settings as defined in ServiceTree.\r\n// This function does NOT check/validate the various IcM settings for the IcM designated teams. It simply \r\n// checks if the ServiceTree \"Emergency Broadcast and Autorouting\" fields are set.\r\n//\r\n//************************************************************************************************************\r\n//\r\n    //\r\n    // Get the list of in-scope ServiceTree services\r\n    let inScopeServiceTreeServices = materialize (cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_Hierarchy_Snapshot\r\n        | where ServiceId == ServiceTreeServiceId and Level == \"Service\"\r\n        //\r\n        // Get ServiceTree 'owners'\r\n        //\r\n        | join kind=inner (cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot\r\n            | where ServiceType in (\"Online Service\", \"Platform Service\", \"Infrastructure\", \"Client\", \"Library / Shared Code\")\r\n            | project ServiceId, PMOwner, DevOwner) on ServiceId\r\n        | project ServiceName, ServiceId, DivisionName, OrganizationName, ServiceGroupName, PMOwner, DevOwner\r\n    );\r\n    //\r\n    // Get the metadata we want. Use the table 'ServiceTree_ServiceHierarchy_Snapshot' because it has the shortest ingestion delay\r\n    let autoRoute_EmergencyBroadcast_Metadata = materialize (cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').ServiceTree_ServiceHierarchy_Snapshot\r\n        | where Id == ServiceTreeServiceId\r\n        | project ServiceId = Id, ServiceName = Name, InternalId\r\n         | join kind = leftouter  (cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').ServiceTree_ServiceMetadata_Snapshot\r\n             | where MetadataDefinitionInternalId in (652, 752) and AzureCloud == 1 and Status == 1 // ServiceTree magic #'s for the data we need\r\n         ) on $left.InternalId==$right.ServiceInternalId\r\n         | join kind = inner (cluster('genevareference.westcentralus.kusto.windows.net').database('Shared').ServiceTree_MetadataDefinition_Snapshot\r\n             | project Type = Id, InternalId\r\n         ) on $left.MetadataDefinitionInternalId==$right.InternalId\r\n         | project Type, Value, ServiceId\r\n    );\r\n    //\r\n    // Get the list of IcM teams referenced from the Security Incident setting\r\n    let securityIncidentTeams = materialize ((inScopeServiceTreeServices\r\n    | join kind=leftouter (autoRoute_EmergencyBroadcast_Metadata\r\n        | where Type in ('EmergencyBroadcast_Security') or isempty(Type)\r\n        | extend JSON = parse_json(Value)\r\n        | extend SecurityIncident = parse_json(tostring(JSON.SecurityIncident))[0]\r\n        | extend ServiceTreeMetadataProperty = \"Security Incident\",\r\n            SecurityIncidentIcMTenantId = tostring(SecurityIncident.TenantId),\r\n            SecurityIncidentIcMTeamId = tostring(SecurityIncident.TeamId),\r\n            SecurityIncidentIcMTenantPublicId = tostring(SecurityIncident.TenantPublicId),\r\n            SecurityIncidentIcMTeamPublicId = tostring(SecurityIncident.TeamPublicId)\r\n        | project ServiceTreeMetadataProperty, SecurityIncidentIcMTeamId, SecurityIncidentIcMTeamPublicId, SecurityIncidentIcMTenantId, SecurityIncidentIcMTenantPublicId, ServiceId\r\n    ) on ServiceId)\r\n    | join kind=leftouter TeamsSnapshotV2 on $left.SecurityIncidentIcMTeamPublicId == $right.PublicTeamId\r\n    | extend IsSecurityIncCompliant = isnotempty(SecurityIncidentIcMTenantPublicId) and isnotempty(SecurityIncidentIcMTeamPublicId) and IsTombstoned == False)\r\n    ;\r\n    //\r\n    // Get the list of IcM teams referenced from the Security Operations setting\r\n    let securityOperationsTeams = materialize((inScopeServiceTreeServices\r\n    | join kind=leftouter (autoRoute_EmergencyBroadcast_Metadata\r\n        | where Type in ('EmergencyBroadcast_Security') or isempty(Type)\r\n        | extend JSON = parse_json(Value)\r\n        | extend SecurityOperations = parse_json(tostring(JSON.SecurityOperations))[0]\r\n        | extend ServiceTreeMetadataProperty = \"Security Operations\",\r\n            SecurityOperationsIcMTenantId = tostring(SecurityOperations.TenantId),\r\n            SecurityOperationsIcMTeamId = tostring(SecurityOperations.TeamId),\r\n            SecurityOperationsIcMTenantPublicId = tostring(SecurityOperations.TenantPublicId),\r\n            SecurityOperationsIcMTeamPublicId = tostring(SecurityOperations.TeamPublicId)\r\n        | project ServiceTreeMetadataProperty, SecurityOperationsIcMTeamId, SecurityOperationsIcMTeamPublicId, SecurityOperationsIcMTenantId, SecurityOperationsIcMTenantPublicId, ServiceId\r\n    ) on ServiceId)\r\n    | join kind=leftouter TeamsSnapshotV2 on $left.SecurityOperationsIcMTeamPublicId == $right.PublicTeamId\r\n    | extend IsSecurityOpsCompliant = isnotempty(SecurityOperationsIcMTenantPublicId) and isnotempty(SecurityOperationsIcMTeamPublicId) and IsTombstoned == False)\r\n    ;\r\n    //\r\n    // Get the list of IcM teams referenced from the Crisis Broadcast setting\r\n    let crisisBroadcastTeams = materialize ((inScopeServiceTreeServices\r\n    | join kind=leftouter (autoRoute_EmergencyBroadcast_Metadata\r\n        | where Type in ('IcMEmergencyBroadcast') or isempty(Type)\r\n        | extend JSON = parse_json(Value)\r\n        | extend Crisis = parse_json(tostring(JSON.Crisis))[0]\r\n        | extend ServiceTreeMetadataProperty = \"Crisis Broadcast\",\r\n            CrisisIcMTenantId = tostring(Crisis.TenantId),\r\n            CrisisIcMTeamId = tostring(Crisis.TeamId),\r\n            CrisisIcMTenantPublicId = tostring(Crisis.TenantPublicId),\r\n            CrisisIcMTeamPublicId = tostring(Crisis.TeamPublicId)\r\n        | project ServiceTreeMetadataProperty, CrisisIcMTeamId, CrisisIcMTeamPublicId, CrisisIcMTenantId, CrisisIcMTenantPublicId, ServiceId\r\n    ) on ServiceId)\r\n    | join kind=leftouter TeamsSnapshotV2 on $left.CrisisIcMTeamPublicId == $right.PublicTeamId\r\n    | extend IsCrisisCompliant = isnotempty(CrisisIcMTenantPublicId) and isnotempty(CrisisIcMTeamPublicId) and IsTombstoned == False)\r\n    ;\r\n    //\r\n    // Get the list of IcM teams referenced from Drill setting\r\n    let drillBroadcastTeams = materialize ((inScopeServiceTreeServices\r\n    | join kind=leftouter (autoRoute_EmergencyBroadcast_Metadata\r\n        | where Type in ('IcMEmergencyBroadcast') or isempty(Type)\r\n        | extend JSON = parse_json(Value)\r\n        | extend Drill = parse_json(tostring(JSON.Drill))[0]\r\n        | extend ServiceTreeMetadataProperty = \"Drill Broadcast\",\r\n            // What if this is a list - use mvexpand to unpack a list\r\n            DrillIcMTenantId = tostring(Drill.TenantId),\r\n            DrillIcMTeamId = tostring(Drill.TeamId),\r\n            DrillIcMTenantPublicId = tostring(Drill.TenantPublicId),\r\n            DrillIcMTeamPublicId = tostring(Drill.TeamPublicId)\r\n        | project ServiceTreeMetadataProperty, DrillIcMTeamId, DrillIcMTeamPublicId, DrillIcMTenantId, DrillIcMTenantPublicId, ServiceId\r\n     ) on ServiceId)\r\n     | join kind=leftouter TeamsSnapshotV2 on $left.DrillIcMTeamPublicId == $right.PublicTeamId\r\n     | extend IsDrillCompliant = isnotempty(DrillIcMTenantPublicId) and isnotempty(DrillIcMTeamPublicId) and IsTombstoned == False)\r\n    ;\r\n    //\r\n    // Get the EB settngs and combine them into one row per IcM tenant\r\n    securityIncidentTeams\r\n     | join kind=inner (drillBroadcastTeams | project ServiceId, DrillIcMTeamPublicId, DrillIcMTeamId, IsDrillCompliant) on ServiceId\r\n     | join kind=inner (crisisBroadcastTeams | project ServiceId, CrisisIcMTeamPublicId, CrisisIcMTeamId, IsCrisisCompliant) on ServiceId\r\n     | join kind=inner (securityOperationsTeams | project ServiceId, SecurityOperationsIcMTeamPublicId, SecurityOperationsIcMTeamId, IsSecurityOpsCompliant) on ServiceId\r\n     | project CrisisIcMTeamId, CrisisIcMTeamPublicId, DevOwner, DrillIcMTeamId, DrillIcMTeamPublicId, IsCrisisCompliant, IsDrillCompliant, IsSecurityIncCompliant, IsSecurityOpsCompliant\r\n         , ServiceName, ServiceId, SecurityIncidentIcMTeamId, SecurityIncidentIcMTeamPublicId, SecurityOperationsIcMTeamId, SecurityOperationsIcMTeamPublicId, PMOwner\r\n     | extend ServiceId = toguid(ServiceId)\r\n     | project ServiceName, ServiceId, CrisisIcMTeamPublicId, CrisisIcMTeamId, DrillIcMTeamPublicId, DrillIcMTeamId, SecurityIncidentIcMTeamPublicId, SecurityIncidentIcMTeamId, SecurityOperationsIcMTeamPublicId, SecurityOperationsIcMTeamId\r\n         , IsCrisisCompliant, IsDrillCompliant, IsSecurityIncCompliant, IsSecurityOpsCompliant\r\n         , PMOwner, DevOwner, IcMTeamName = \"\", IcMTeamPublicId = \"\", IcMTenantName = \"\", IcMTenantPublicId = guid(null)\r\n     //\r\n     // Generate the properties required by BlockDeployment\r\n     | extend\r\n         TeamJson = strcat('[{\"Type\": \"Crisis\", \"Id\": ', coalesce(tolong(CrisisIcMTeamId), 0), ', \"IsCompliant\": ', tolower(IsCrisisCompliant), '}, {\"Type\": \"Drill\", \"Id\": ', coalesce(tolong(DrillIcMTeamId), 0), ', \"IsCompliant\": ', tolower(IsDrillCompliant), '}, {\"Type\": \"SecurityIncident\", \"Id\": ', coalesce(tolong(SecurityIncidentIcMTeamId), 0), ', \"IsCompliant\": ', tolower(IsSecurityIncCompliant), '}, {\"Type\": \"SecurityOperations\", \"Id\": ', coalesce(tolong(SecurityOperationsIcMTeamId), 0), ', \"IsCompliant\": ', tolower(IsSecurityOpsCompliant), '}]'),\r\n         IsValid = IsCrisisCompliant == true and IsSecurityIncCompliant == true and IsSecurityOpsCompliant == true and IsDrillCompliant == true,\r\n         IcMPolicyName = \"Emergency Broadcast Teams\",\r\n         IcMPolicyRemediation = \"Configure Emergency Broadcast teams in ServiceTree.\",\r\n         PolicyDocURL = \"https://aka.ms/icmguide/icm-s360-emergency-broadcast-teams\", \r\n         Notify = strcat(DevOwner, \";\", PMOwner)\r\n    | project-away DevOwner, PMOwner, CrisisIcMTeamPublicId, CrisisIcMTeamId, DrillIcMTeamPublicId, DrillIcMTeamId, SecurityIncidentIcMTeamPublicId, SecurityIncidentIcMTeamId, SecurityOperationsIcMTeamPublicId, SecurityOperationsIcMTeamId, IsCrisisCompliant, IsDrillCompliant, IsSecurityIncCompliant, IsSecurityOpsCompliant\r\n}","docstring":"Gets IcM teams and their Emergency Broadcast settings","folder":"EmergencyBroadcast","functionKind":"UnknownFunction","name":"GetCompliance_IncidentManagement_EmergencyBroadcastByServiceTreeServiceId_V1","outputColumns":[],"inputParameters":[{"name":"ServiceTreeServiceId","cslType":"guid","type":"System.Guid"}]},"$fn_icmclusterlb/1/126":{"id":"$fn_icmclusterlb/1/126","entityType":"Function","body":"{\r\n//BEGIN NOTES*****************************************************************************************************************\r\n//10/22/2019 - vincebl - v6 - New version: Added IsAzureScope in the dssSErviceTree block. Added filter in teamMapReferenced block for the referenced team id inheritance for Azure scoped services only.\r\n//10/30/2019 - vincebl - v6 - Update: Added IsTenantTombstoned.\r\n//11/4/2019 - vincebl - v6 - Update:  Added coalesce for IsAzureScope in the main logic to account for Referenced team scope.\r\n//2/20/2020 - vincebl - v8 - reverted to v6 and added a coalesce for the IsTenantTombstoned. Version 7 had and arg_max that caused the joins to miss some tenant/team data.\r\n//6/18/2020 -rboyce - v8 - added logic to show which tenant or team setting for phonecalls.\r\n//7/7/2020 - vincebl - v8 - added PhonecallThresholdName\r\n//8/27/2020 - vincebl - v8 - added ServiceTypeClassification (ie Online, Manual, Client, etc)\r\n//9/25/2020 - vincebl - v8 - issue with service lifecycle not showing up for some due to the join on cloud. Commented the second join property and validated that there are no duplicates. | join kind = leftouter serviceLifecycle on ServiceOid //and $left.CloudName==$right.AzureCloud https://msazure.visualstudio.com/One/_sprints/taskboard/AzureDataScience/One/Azure/Iron/2020S20?workitem=8402058\r\n//9/25/2020 - chmish  -v8  - reverting the previous change as this is leading to duplicate\r\n//9/28/2020 - vincebl - v9 - optimized by removing some of the extends into the project.\r\n//11/6/2020 - vincebl - v9 - made updates to remove logic in the wrapper function.\r\n//12/11/2020 - vincebl - v9 - made datastudio reference change from datastudiostreaming.kusto.windows.net to genevareference.westcentralus.kusto.windows.net\r\n//3/4/2021 - rboyce - v10 - backfilling DIV using Frontend category and updating IsAzureScope logic to also use Org name for Teams not mapped to ST \r\n//3/11/2021 - vincebl - v10 - updated the IsAzureScope to use OrganizationOid insttead of Names due to reorg. Reordered the IsAzureScope to evaluate the orgs at the end of the function.\r\n//3/29/2021 - vincebl - v10 - added webapps and logicapps back to azure scope to deal with the reorg as a short-term solution.\r\n//4/1/2021 - vincebl - v10 - added Azure Data and IoT back to azure scope.\r\n//5/20/2021 - vincebl - v10 - due to an escalation about missing servicetree entry after mapping, replaced the clause | where isnotempty(ServiceTreeMetaDataId) to | where isnotempty(ServiceTreeId) to allow teamid 77882 through. It's missing the ServiceTreeMetaDataId, but has a servicetreeid. https://portal.microsofticm.com/imp/v3/incidents/details/242013855/home\r\n//08/18/2021 - rboyce - v10 - adding 3 new Service Groups to or condition for what defined IsAzureScope\r\n//9/16/2021 - vincebl - v10 - updated the FrontendCategory name to source from the ServiceCategory table as updated to the Tenant table are stale. Example: Id 56\r\n//11/29/2021 - rboyce - v10 - added logic for Azure Critical Services Program Bug 10498688: Add Azure Critical List to icmdata\r\n//2/2/2022 - vincebl - v10 - added  \"ef733b4f-da1d-4909-8495-73785ce205aa\", //Azure Core and \"17efd271-0828-4310-a186-ea6297401e9c\" //Azure Edge & Platform (AEP) as Azure scope due to the reorg.\r\n//2/16/2023 - sjingoi - v10 - migrated to using V2 of snapshot functions\r\n//01/16/2024 - secruz - v10 - Updated genevareference.westcentralus references to new ST cluster servicetreepublic.westus.kusto.windows.net (DB name remains 'Shared')\r\n//\r\n//FOR ACCESS TO DATA STUDIO: https://gadocs.msftcloudes.com/DataStudio/PlatformFeatures/ReferenceDataInKusto.html\r\n//\r\n//END NOTES*******************************************************************************************************************\r\nlet AzureCriticalServices =\r\ncluster('https://servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot  \r\n//| where MetadataDefinitionInternalId == 1116 \r\n| where Type == 'CriticalServicesClassification' \r\n| project CriticalityCriteria = case(Value contains 'Security', 'Security', \r\n                                     Value contains 'ResiliencyCritical', 'Resiliency', \r\n                                     Value contains 'FinancialCritical', 'Financial', '')\r\n                                     , CriticalServiceOid= toguid(ServiceId)\r\n| summarize CriticalityCriteria = replace_string(tostring(array_sort_asc(make_list(CriticalityCriteria))), '\"', '') by CriticalServiceOid\r\n;\r\n//\r\nlet dssServiceTree =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_Hierarchy_Snapshot\r\n    | extend MappingId = toguid(case(Level =~ \"Component\", ComponentId, ServiceId)),\r\n             ServiceOid = toguid(ServiceId),\r\n             ServiceGroupOid = toguid(ServiceGroupId),\r\n             TeamGroupOid = toguid(TeamGroupId),\r\n             DivisionOid = toguid(DivisionId),\r\n             OrganizationOid = toguid(OrganizationId)\r\n             //IsAzureScope = case(OrganizationName in (\"Azure\", \"Identity\", \"Cloud Operations + Innovation\", \"Security\"), 1, 0)\r\n          ;    \r\nlet icmServiceMap =\r\n    //cluster('Icmcluster').database('IcMDataWarehouse').GetAllTeamServiceTreeMapping()\r\n    database('IcmDataWarehouse').GetAllTeamServiceTreeMapping()\r\n    | mv-expand todynamic(ServiceTreeEntities)\r\n    | project ServiceTreeId = toguid(ServiceTreeEntities.ServiceTreeEntityId), \r\n              TeamId, \r\n              TenantId, \r\n              ServiceMappingLevel=MappingLevel, \r\n              ServiceType = tostring(toupper(ServiceTreeEntities.ServiceTreeEntityType)), \r\n              ServiceTreeMetaDataId = tolong(ServiceTreeEntities.ServiceTreeMetaDataId)\r\n      | where isnotempty(ServiceTreeId);\r\n    //| where isnotempty(ServiceTreeMetaDataId);\r\nlet serviceTreeHierarchyWithIcmTeams =\r\n    icmServiceMap \r\n    | join kind = leftouter dssServiceTree on $left.ServiceTreeId==$right.MappingId\r\n    | summarize ComponentIdList = tostring(make_set(ComponentId)), ComponentName = tostring(make_set(ComponentName)), Created = max(Created), Modified = max(Modified) by DivisionName, DivisionOid, OrganizationName, OrganizationOid, ServiceGroupName, ServiceGroupOid, TeamGroupName, TeamGroupOid, ServiceName, ServiceOid, TeamId, ServiceType, ServiceMappingLevel\r\n    //, IsAzureScope\r\n    ;\r\nlet manualService =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | where tostring(ServiceTypeClassification) == \"Manual Process Service\"\r\n    | project mpServiceOid = toguid(ServiceId);\r\nlet serviceClassificationType =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceTypeClassification\"\r\n    | mv-expand ServiceTypeClassification = todynamic(Value).ServiceTypeClassification\r\n    | project scServiceOid = toguid(ServiceId), ServiceTypeClassification = tostring(ServiceTypeClassification);\r\nlet serviceLifecycle =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot\r\n    | where Type =~ \"ServiceLifecycleStage\"\r\n    | mv-expand CurrentServiceLifecycleStage = todynamic(Value).ServiceLifecycleStage\r\n    | project CurrentServiceLifecycleStage = tostring(CurrentServiceLifecycleStage), \r\n              ServiceOid = toguid(ServiceId), \r\n              NextServivceLifecycleStage = case(\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"In Development\", \"Private Preview\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Private Preview\", \"Public Preview\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Public Preview\", \"GA\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"GA\", \"Closing Down\",\r\n                                                    tostring(CurrentServiceLifecycleStage)=~\"Closing Down\", \"Retired\",\r\n                                                \"\"), \r\n              AzureCloud;\r\nlet serviceRing =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceMetadata_Snapshot \r\n    | where Type =~ \"ServiceRing\"\r\n    | mv-expand ServiceRing = todynamic(Value).ServiceRing\r\n    | project srServiceOid = toguid(ServiceId), ServiceRing = tostring(ServiceRing)\r\n    | distinct *;\r\nlet pmOwner =    \r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot \r\n    | extend values = replace(\";\",\",\",PMOwner)\r\n    | extend string0 = split(values,\",\")\r\n    | summarize set0 = makeset(string0) by ServiceId\r\n    | summarize PmOwnerAlias = makelist(set0) by ServiceId\r\n    | extend PartitionRank = range(1, arraylength(PmOwnerAlias), 1)\r\n    | mvexpand PmOwnerAlias, PartitionRank\r\n    | project ServiceOid = toguid(ServiceId), PmOwnerAlias = tolower(tostring(PmOwnerAlias)), RowNum = tolong(PartitionRank)\r\n    | where RowNum == 1; \r\nlet devOwner =\r\n    cluster('servicetreepublic.westus.kusto.windows.net').database('Shared').DataStudio_ServiceTree_ServiceCommonMetadata_Snapshot \r\n    | extend values = replace(\";\",\",\",DevOwner)\r\n    | extend string0 = split(values,\",\")\r\n    | summarize set0 = makeset(string0) by ServiceId\r\n    | summarize DevOwnerAlias = makelist(set0) by ServiceId\r\n    | extend PartitionRank = range(1, arraylength(DevOwnerAlias), 1)\r\n    | mvexpand DevOwnerAlias, PartitionRank\r\n    | project ServiceOid = toguid(ServiceId), DevOwnerAlias = tolower(tostring(DevOwnerAlias)), RowNum = tolong(PartitionRank)\r\n    | where RowNum == 1; \r\nlet cloud =\r\n    TenantsSnapshotV2() | distinct TenantId, Silo\r\n    | extend Silo = case(\r\n                                Silo =~ \"Public\", \"Public\",\r\n                                Silo =~ \"Fairfax/ITAR\", \"Fairfax\",\r\n                                Silo =~ \"BlackForest\", \"Blackforest\",\r\n                                Silo =~ \"China/Gallatin\", \"Mooncake\",\r\n                                \"Public\"\r\n                              ); \r\nlet tenant =\r\n    database('IcmDataWarehouse').TenantsSnapshotV2() \r\n    | join hint.strategy=shuffle kind = leftouter (database('IcmDataWarehouse').ServiceCategories | summarize hint.strategy=shuffle arg_max(Lens_IngestionTime, *) by ServiceCategoryId | project ServiceCategoryId, Name) on $left.FrontEndCategoryId==$right.ServiceCategoryId\r\n    | project \r\n        TenantId, \r\n        IsTenantTombstoned=IsTombstoned,\r\n        ServiceCategoryId,\r\n        //FrontEndCategoryName = case(FrontEndCategoryName == \"Cloud ES\", \"Azure\", FrontEndCategoryName),\r\n        FrontEndCategoryName = case(Name in~ (\"Cloud ES\", \"Identity\", \"MCIO\"), \"Azure\", Name),\r\n        FrondEndCategoryNameActual = Name,\r\n        TenantPhoneCallSeverityThreshold = PhoneCallSeverityThreshold,\r\n        Silo\r\n        ;         \r\nlet teams =\r\n    database('IcmDataWarehouse').TeamsSnapshotV2()\r\n    | extend ManageTeamsLink = strcat(\"https://portal.microsofticm.com/imp/v3/administration/teamdashboard/details?id=\",tostring(TeamId))\r\n    | join kind = leftouter cloud on TenantId\r\n    | project \r\n        TenantName, \r\n        TenantId, \r\n        TeamName, \r\n        TeamId, \r\n        PublicTeamId,\r\n        IsTeamTombstoned=IsTombstoned, \r\n        ManageTeamsLink, \r\n        ReferencedTeamId,\r\n        AllowIncidentAssignment,\r\n        AllowRequestAssistance,\r\n        PhoneCallDayTimeRestrictions,\r\n        PhoneCallSeverityThreshold,\r\n        TeamPhoneCallSeverityThreshold=PhoneCallSeverityThreshold,\r\n        CloudName = Silo\r\n        ;\r\nlet teamMap =\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on TeamId;\r\nlet teamMapReferenced = //AKA Virtual team.  Only honors this for the FrontendCategoryName\r\n    teams\r\n    | join kind = leftouter serviceTreeHierarchyWithIcmTeams on $left.ReferencedTeamId==$right.TeamId\r\n    | join kind = leftouter tenant on $left.TenantId==$right.TenantId\r\n    | project-away TenantPhoneCallSeverityThreshold\r\n    | where FrontEndCategoryName in~ (\"Azure\", \"Azure Security Engineering\", \"Identity\", \"MCIO\", \"Microsoft Dynamics\"); //Referenced team mapping only applied on Azure scope services\r\nteams\r\n| join kind = leftouter teamMap on TeamId\r\n| join kind = leftouter teamMapReferenced on TeamId\r\n    | extend IsMissingIcmServiceTreeMapReferencedTeam = iif(isempty(ServiceOid1), bool(true), bool(false))\r\n    | extend IsUsingReferencedServiceMapping = iif(isempty(ServiceOid) and IsMissingIcmServiceTreeMapReferencedTeam == bool(false), 1, 0)\r\n| join kind = leftouter manualService on $left.ServiceOid==$right.mpServiceOid\r\n    | extend DivisionName = coalesce(DivisionName, DivisionName1),\r\n             OrganizationName = coalesce(OrganizationName, OrganizationName1),\r\n             ServiceGroupName = coalesce(ServiceGroupName, ServiceGroupName1),\r\n             ServiceName = coalesce(ServiceName, ServiceName1),\r\n             DivisionOid = coalesce(DivisionOid, DivisionOid1),\r\n             OrganizationOid = coalesce(OrganizationOid, OrganizationOid1),\r\n             ServiceGroupOid = coalesce(ServiceGroupOid, ServiceGroupOid1),\r\n             ServiceOid = coalesce(ServiceOid, ServiceOid1),\r\n             ServiceMappingLevel = coalesce(ServiceMappingLevel, ServiceMappingLevel1),\r\n             ServiceType = coalesce(ServiceType, ServiceType1)\r\n| join kind = leftouter serviceLifecycle on ServiceOid and $left.CloudName==$right.AzureCloud //Commented on 9/25/2020. see notes. //Reverted back to handle dupes\r\n| join kind = leftouter devOwner on ServiceOid\r\n| join kind = leftouter pmOwner on ServiceOid\r\n| join kind = leftouter serviceRing on $left.ServiceOid==$right.srServiceOid\r\n| join kind = leftouter tenant on TenantId\r\n| join kind = leftouter serviceClassificationType on $left.ServiceOid==$right.scServiceOid\r\n| join kind = leftouter AzureCriticalServices on $left.ServiceOid == $right.CriticalServiceOid\r\n    | extend IsMissingIcmServiceTreeMap = case(isempty(ServiceOid), bool(true), bool(false)),\r\n             OrganizationName = case(isempty(OrganizationName), FrontEndCategoryName, OrganizationName)\r\n    | extend OrganizationOid = case(OrganizationName == \"Azure\" and isempty(OrganizationOid), toguid(\"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"), OrganizationOid)\r\n| project \r\n    FrontEndCategoryName = coalesce(FrontEndCategoryName, FrontEndCategoryName1),\r\n    FrondEndCategoryNameActual = coalesce(FrondEndCategoryNameActual, FrondEndCategoryNameActual1),\r\n    ServiceCategoryId = coalesce(ServiceCategoryId, ServiceCategoryId1),\r\n    TenantName, \r\n    TenantId, \r\n    Silo = coalesce(Silo, Silo1),\r\n    IsTenantTombstoned = coalesce(IsTenantTombstoned, IsTenantTombstoned1),\r\n    TeamName, \r\n    TeamId, \r\n    IsTeamTombstoned, \r\n    IsMissingIcmServiceTreeMap, \r\n    IsUsingReferencedServiceMapping,\r\n    IsMissingServiceTreeHierarchy = case(IsMissingIcmServiceTreeMap == bool(true) and isempty(DivisionName), bool(true), bool(false)),\r\n    ManageTeamsLink, \r\n    DivisionName= case(\r\n                        isempty(DivisionName) \r\n                        and OrganizationOid in (\r\n                                                \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\",\r\n                                                \"6600c204-2193-4414-a555-ecf9b29c6e45\",\r\n                                                \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\",\r\n                                                \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\"\r\n                                               ), \"Cloud + AI Platform\", \r\n                        DivisionName\r\n                      ),\r\n    OrganizationName,\r\n    ServiceGroupName,\r\n    TeamGroupName,\r\n    ServiceName,\r\n    PmOwnerAlias,\r\n    DevOwnerAlias,\r\n    CloudName = coalesce(CloudName, CloudName1),\r\n    DivisionOid,\r\n    OrganizationOid,\r\n    ServiceGroupOid,\r\n    TeamGroupOid,\r\n    ServiceOid,\r\n    ServiceMappingLevel, \r\n    ServiceType,\r\n    ServiceTypeClassification,\r\n    ServiceRing,\r\n    IsAzureCriticalProgram = case(isnotempty(CriticalityCriteria), 1, 0),\r\n    CriticalityCriteria,\r\n    PublicTeamId,\r\n    IsManualProcess = iif(isnotempty(mpServiceOid),1,0),\r\n    CurrentServiceLifecycleStage,\r\n    ServiceCreated = coalesce(Created, Created1),\r\n    ServiceModified = coalesce(Modified, Modified1),\r\n    ReferencedTeamId,\r\n    AllowIncidentAssignment,\r\n    AllowRequestAssistance,\r\n    PhoneCallDayTimeRestrictions,\r\n    PhoneCallSeverityThreshold = coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold),\r\n    PhoneCallSeverityThresholdName =case(coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == -1,\"Disabled\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 0, \"SEV 0 Only\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 1, \"SEV 0-1\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 2, \"SEV 0-2\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 3, \"SEV 0-3\",\r\n                                         coalesce(TeamPhoneCallSeverityThreshold, TenantPhoneCallSeverityThreshold) == 4, \"SEV 0-4\",\r\n                                         \"Unknown\"\r\n                                        ),\r\n    IsAzureScope = \r\n                    case(\r\n                          OrganizationOid in (\r\n                                                \"61faae5b-0c38-4c86-9b87-6d1ec78574c7\", //Cloud Operations + Innovation\r\n                                                \"6600c204-2193-4414-a555-ecf9b29c6e45\", //Identity\r\n                                                \"d315a2eb-8a80-4c2e-8b34-3cc71a324da5\", //Security\r\n                                                \"f38ee5f4-d0ee-40a0-8e3f-633d9d9df8b6\", //Azure\r\n                                                \"ef733b4f-da1d-4909-8495-73785ce205aa\", //Azure Core\r\n                                                \"17efd271-0828-4310-a186-ea6297401e9c\" //Azure Edge & Platform (AEP)\r\n                                             )\r\n                          or\r\n                          ServiceGroupOid in (\r\n                                                \"b196f682-8245-4486-9bb6-9a3cd2726dc6\", //WebApps and LogicApps added 3/29/21 due to reorg\r\n                                                \"8e6fa8b4-fc36-44a7-a0f2-795b81957344\", //Azure Data added 4/1/21 due to reorg\r\n                                                \"9b546d4d-9930-4c38-b8ff-93fcd5aaa1ab\", //IoT added 4/1/2021 due to reorg\r\n                                                \"25e0b195-bbeb-4124-90b5-205bcafd3cd3\", //Azure Data - Cross Functional\r\n                                                \"beef6e95-c38f-470c-8e12-a365ac2f4aea\",//Azure Data - Governance\r\n                                                \"f2374ca5-4997-4c25-931d-f586cec7772c\" //Azure Data - Intelligence Platform\r\n                                             ), 1,\r\n                          0\r\n                         )  \r\n  }","docstring":"Returns the ServiceOid for IcmTenant/Team","folder":"ServiceTree/Prod","functionKind":"UnknownFunction","name":"GetServiceOidPublishV10","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/127":{"id":"$fn_icmclusterlb/1/127","entityType":"Function","body":"{\r\n    let feedback = datatable (TenantId: long, ReasonCategory: string, Reason: string) [\r\n        10076, \"Parity\", \"No support for tracking teams\",\r\n        20310, \"Parity\", \"No support for declaring outages\",\r\n        20537, \"Parity\", \"No support for JIT & Obi\",\r\n        20720, \"Parity\", \"No support for programmatic search\",\r\n        21192, \"Parity\", \"No support for editing descriptions\",\r\n        21215, \"Parity\", \"No support for programmatic search\",\r\n        22133, \"Parity\", \"No support for editing descriptions\",\r\n        22222, \"Customer Request\", \"Can be flighted, issue is fixed\",\r\n        25322, \"Parity\", \"No support for JIT, sev upgrade on hitcount & Obi\",\r\n        28141, \"V3 issue\", \"Enum CFs returned as numbers\"\r\n    ];\r\n    let cfDef = CustomFieldDefinitions\r\n        | summarize arg_max(Lens_IngestionTime, *) by CustomFieldId\r\n        | where CustomFieldDataType == \"ENUM\" and (IsMandatoryForMitigate or IsMandatoryForResolve) and IsDisabled == False;\r\n    let tenantsWithMandatoryCustomFieldsForMitigateOrResolve = \r\n        cfDef\r\n        | where isnotempty(TenantId)\r\n        | distinct TenantId;\r\n    let tenantsWithTeamsWithMandatoryCustomFieldsForMitigateOrResolve = \r\n        cfDef\r\n        | where isnotempty(TeamId)\r\n        | distinct TeamId\r\n        | join kind=inner (TeamsSnapshotV2) on TeamId\r\n        | distinct TenantId;\r\n    feedback\r\n    | union (tenantsWithMandatoryCustomFieldsForMitigateOrResolve | union tenantsWithTeamsWithMandatoryCustomFieldsForMitigateOrResolve | extend ReasonCategory = \"CF issue\", Reason = \"CF required for mitigate or resolve\")\r\n    | summarize take_any(*) by TenantId\r\n}","folder":"Temp/IncidentService","functionKind":"UnknownFunction","name":"Temp_IncidentService_TenantsExcludedFromFlighting","outputColumns":[],"inputParameters":[]},"$fn_icmclusterlb/1/128":{"id":"$fn_icmclusterlb/1/128","entityType":"Function","body":"{\r\nlet factors = \r\nRootCauseContributingFactors \r\n| where isnotempty(FactorName)\r\n| summarize arg_max(Lens_IngestionTime, *) by Id\r\n| where IsTombstoned == false;\r\nPostIncidentReportsSnapshotV2() \r\n| where RootCauseId in ((factors | project RootCauseId))\r\n| project PIRReportId, RootCauseId, CreationIncidentId\r\n| join kind=rightouter (factors\r\n                        | extend levels =  split(FactorName, \".\")) on $left.RootCauseId == $right.RootCauseId\r\n| project PIRReportId, IncidentId=CreationIncidentId, RootCauseId, FactorId, FactorName, FactorContext, TopLevelTag=levels[0], Level2Tag=levels[1], Level3Tag=levels[2], \r\nLevel4Tag=levels[3], CreatedDate, CreatedBy, ModifiedDate, ModifiedBy}","docstring":"Function used to get contributing factors under incident and postmortem","folder":"ARTS","functionKind":"UnknownFunction","name":"GetIncidentPostmortemContributingFactors","outputColumns":[],"inputParameters":[]}},"entityGroups":{},"accessMode":"ReadOnlyFollowing","minorVersion":1,"majorVersion":4043444}},"id":"icmclusterlb","fetchState":"done","fetchStateError":"","tooBigToCache":false,"serviceOffering":"Azure Data Explorer"},"vso":{"clusterType":"Engine","alias":"Azure DevOps","name":"vso","connectionString":"https://vso.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"vso/MSDNEntitlements":{"id":"vso/MSDNEntitlements","name":"MSDNEntitlements","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":2710},"vso/VSO":{"id":"vso/VSO","name":"VSO","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{"$eg_vso/1/0":{"id":"$eg_vso/1/0","entityType":"EntityGroup","name":"VsoUnion","entities":{"$egmember_vso/VSO/VsoUnion/cluster('vso.kusto.windows.net').database('VSO')":{"id":"$egmember_vso/VSO/VsoUnion/cluster('vso.kusto.windows.net').database('VSO')","name":"cluster('vso.kusto.windows.net').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSO/VsoUnion/cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')":{"id":"$egmember_vso/VSO/VsoUnion/cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')","name":"cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')","entityType":"EntityGroupMember"}}},"$eg_vso/1/1":{"id":"$eg_vso/1/1","entityType":"EntityGroup","name":"VsoPpeAndProdUnion","entities":{"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vso').database('VSO')":{"id":"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vso').database('VSO')","name":"cluster('vso').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vsoeu.northeurope').database('VSO')":{"id":"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vsoeu.northeurope').database('VSO')","name":"cluster('vsoeu.northeurope').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vso').database('VSOPPE')":{"id":"$egmember_vso/VSO/VsoPpeAndProdUnion/cluster('vso').database('VSOPPE')","name":"cluster('vso').database('VSOPPE')","entityType":"EntityGroupMember"}}}},"accessMode":"ReadWrite","minorVersion":813039,"majorVersion":39721},"vso/VSOPPE":{"id":"vso/VSOPPE","name":"VSOPPE","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{"$eg_vso/2/0":{"id":"$eg_vso/2/0","entityType":"EntityGroup","name":"VsoUnion","entities":{"$egmember_vso/VSOPPE/VsoUnion/cluster('vso.kusto.windows.net').database('VSO')":{"id":"$egmember_vso/VSOPPE/VsoUnion/cluster('vso.kusto.windows.net').database('VSO')","name":"cluster('vso.kusto.windows.net').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSOPPE/VsoUnion/cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')":{"id":"$egmember_vso/VSOPPE/VsoUnion/cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')","name":"cluster('vsoeu.northeurope.kusto.windows.net').database('VSO')","entityType":"EntityGroupMember"}}},"$eg_vso/2/1":{"id":"$eg_vso/2/1","entityType":"EntityGroup","name":"VsoPpeAndProdUnion","entities":{"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vso').database('VSO')":{"id":"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vso').database('VSO')","name":"cluster('vso').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vsoeu.northeurope').database('VSO')":{"id":"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vsoeu.northeurope').database('VSO')","name":"cluster('vsoeu.northeurope').database('VSO')","entityType":"EntityGroupMember"},"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vso').database('VSOPPE')":{"id":"$egmember_vso/VSOPPE/VsoPpeAndProdUnion/cluster('vso').database('VSOPPE')","name":"cluster('vso').database('VSOPPE')","entityType":"EntityGroupMember"}}}},"accessMode":"ReadWrite","minorVersion":7927,"majorVersion":8223},"vso/VSOSDAI":{"id":"vso/VSOSDAI","name":"VSOSDAI","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":2142},"vso/VSOSre":{"id":"vso/VSOSre","name":"VSOSre","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":2774},"vso/VSTSCOGS":{"id":"vso/VSTSCOGS","name":"VSTSCOGS","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":1481}},"id":"vso","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Azure Data Explorer"},"xstore":{"clusterType":"Engine","alias":"Azure Storage","name":"xstore","connectionString":"https://xstore.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"xstore/xarchive":{"id":"xstore/xarchive","name":"xarchive","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":297,"majorVersion":14606},"xstore/xdataanalytics":{"id":"xstore/xdataanalytics","name":"xdataanalytics","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":973388},"xstore/xstore":{"id":"xstore/xstore","name":"xstore","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{"$eg_xstore/2/0":{"id":"$eg_xstore/2/0","entityType":"EntityGroup","name":"AzCoreKusto","entities":{"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore1.southeastasia.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore1.southeastasia.kusto.windows.net')","name":"cluster('https://azcore1.southeastasia.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore2.australiaeast.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore2.australiaeast.kusto.windows.net')","name":"cluster('https://azcore2.australiaeast.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore3.brazilsouth.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore3.brazilsouth.kusto.windows.net')","name":"cluster('https://azcore3.brazilsouth.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore4.canadacentral.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore4.canadacentral.kusto.windows.net')","name":"cluster('https://azcore4.canadacentral.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore5.northeurope.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore5.northeurope.kusto.windows.net')","name":"cluster('https://azcore5.northeurope.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore6.westeurope.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore6.westeurope.kusto.windows.net')","name":"cluster('https://azcore6.westeurope.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore7.francecentral.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore7.francecentral.kusto.windows.net')","name":"cluster('https://azcore7.francecentral.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore8.japaneast.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore8.japaneast.kusto.windows.net')","name":"cluster('https://azcore8.japaneast.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore9.uksouth.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore9.uksouth.kusto.windows.net')","name":"cluster('https://azcore9.uksouth.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore10.centralus.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore10.centralus.kusto.windows.net')","name":"cluster('https://azcore10.centralus.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore11.southcentralus.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore11.southcentralus.kusto.windows.net')","name":"cluster('https://azcore11.southcentralus.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore12.eastus.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore12.eastus.kusto.windows.net')","name":"cluster('https://azcore12.eastus.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore13.eastus2.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore13.eastus2.kusto.windows.net')","name":"cluster('https://azcore13.eastus2.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore14.westus2.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore14.westus2.kusto.windows.net')","name":"cluster('https://azcore14.westus2.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore15.westus3.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore15.westus3.kusto.windows.net')","name":"cluster('https://azcore15.westus3.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore16.eastasia.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore16.eastasia.kusto.windows.net')","name":"cluster('https://azcore16.eastasia.kusto.windows.net')","entityType":"EntityGroupMember"},"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore17.centralindia.kusto.windows.net')":{"id":"$egmember_xstore/xstore/AzCoreKusto/cluster('https://azcore17.centralindia.kusto.windows.net')","name":"cluster('https://azcore17.centralindia.kusto.windows.net')","entityType":"EntityGroupMember"}}}},"accessMode":"ReadWrite","minorVersion":6,"majorVersion":18305418},"xstore/XStoreNRT":{"id":"xstore/XStoreNRT","name":"XStoreNRT","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":18884327},"xstore/xsynctelemetry":{"id":"xstore/xsynctelemetry","name":"xsynctelemetry","fetchState":"notStarted","fetchStateError":"","tables":{},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":0,"majorVersion":1827}},"id":"xstore","fetchState":"done","fetchStateError":"","tooBigToCache":true,"serviceOffering":"Azure Data Explorer"},"oecacheprdkusto.westus3":{"clusterType":"Engine","alias":"Apollo","name":"oecacheprdkusto.westus3","connectionString":"https://oecacheprdkusto.westus3.kusto.windows.net/;fed=true","basicAccountInfo":{"username":"jubayard@microsoft.com","tenantId":"72f988bf-86f1-41af-91ab-2d7cd011db47"},"databases":{"oecacheprdkusto.westus3/oecacheprd":{"id":"oecacheprdkusto.westus3/oecacheprd","name":"oecacheprd","fetchState":"done","fetchStateError":"","tables":{"oecacheprdkusto.westus3/oecacheprd/OECacheLogEvent":{"id":"oecacheprdkusto.westus3/oecacheprd/OECacheLogEvent","entityType":"Table","name":"OECacheLogEvent","columns":{"oecacheprdkusto.westus3/0/0/0":{"id":"oecacheprdkusto.westus3/0/0/0","name":"PreciseTimeStamp","entityType":"Column","type":"datetime"},"oecacheprdkusto.westus3/0/0/1":{"id":"oecacheprdkusto.westus3/0/0/1","name":"LocalPreciseTimeStamp","entityType":"Column","type":"datetime"},"oecacheprdkusto.westus3/0/0/2":{"id":"oecacheprdkusto.westus3/0/0/2","name":"CorrelationId","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/3":{"id":"oecacheprdkusto.westus3/0/0/3","name":"Role","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/4":{"id":"oecacheprdkusto.westus3/0/0/4","name":"Component","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/5":{"id":"oecacheprdkusto.westus3/0/0/5","name":"Operation","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/6":{"id":"oecacheprdkusto.westus3/0/0/6","name":"Arguments","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/7":{"id":"oecacheprdkusto.westus3/0/0/7","name":"Duration","entityType":"Column","type":"timespan"},"oecacheprdkusto.westus3/0/0/8":{"id":"oecacheprdkusto.westus3/0/0/8","name":"Result","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/9":{"id":"oecacheprdkusto.westus3/0/0/9","name":"BuildId","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/10":{"id":"oecacheprdkusto.westus3/0/0/10","name":"Message","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/11":{"id":"oecacheprdkusto.westus3/0/0/11","name":"Exception","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/12":{"id":"oecacheprdkusto.westus3/0/0/12","name":"ProcessId","entityType":"Column","type":"long"},"oecacheprdkusto.westus3/0/0/13":{"id":"oecacheprdkusto.westus3/0/0/13","name":"ThreadId","entityType":"Column","type":"long"},"oecacheprdkusto.westus3/0/0/14":{"id":"oecacheprdkusto.westus3/0/0/14","name":"Machine","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/15":{"id":"oecacheprdkusto.westus3/0/0/15","name":"Stamp","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/16":{"id":"oecacheprdkusto.westus3/0/0/16","name":"Ring","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/17":{"id":"oecacheprdkusto.westus3/0/0/17","name":"ConfigurationId","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/18":{"id":"oecacheprdkusto.westus3/0/0/18","name":"Service","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/19":{"id":"oecacheprdkusto.westus3/0/0/19","name":"ServiceVersion","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/20":{"id":"oecacheprdkusto.westus3/0/0/20","name":"CacheVersion","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/21":{"id":"oecacheprdkusto.westus3/0/0/21","name":"ProcessStartTimeUtc","entityType":"Column","type":"datetime"},"oecacheprdkusto.westus3/0/0/22":{"id":"oecacheprdkusto.westus3/0/0/22","name":"LogLevel","entityType":"Column","type":"int"},"oecacheprdkusto.westus3/0/0/23":{"id":"oecacheprdkusto.westus3/0/0/23","name":"MachineFunction","entityType":"Column","type":"string"},"oecacheprdkusto.westus3/0/0/24":{"id":"oecacheprdkusto.westus3/0/0/24","name":"Environment","entityType":"Column","type":"string"}}}},"functions":{},"entityGroups":{},"accessMode":"ReadWrite","minorVersion":11580,"majorVersion":318}},"id":"oecacheprdkusto.westus3","fetchState":"done","fetchStateError":"","tooBigToCache":false,"serviceOffering":"Azure Data Explorer"}},"entityInContext":"cbuild/CloudBuildProd","showOnlyFavorites":false,"expandedEntities":{"cbuild":"cbuild","cbuild/CloudBuildProd":"cbuild/CloudBuildProd"},"expandedTreeEntities":{"Favorites":"Favorites","Favorites/cbuild":"Favorites/cbuild"},"healthCheckPerformed":true,"scrollIntoViewItem":"Favorites/cbuild/CloudBuildProd"},"tabs":{"tabs":[{"id":"b14e923e-32eb-4b78-bbd4-bc5528820f45","queryRange":{"startLineNumber":1,"startColumn":1,"endLineNumber":1,"endColumn":1},"text":"","commandInContext":"","executionStatus":"notStarted","clientRequestId":"Kusto.Web.KWE.Query;d8e4ce3d-0233-4d3d-a89f-d3380d59b9d8;113b9afe-4a86-407e-9a08-b45ffce50ef0","entityInContext":"cbuild/CloudBuildProd","entityInContextGroup":"Favorites","commandType":"Unknown","commandWithoutLeadingComments":"","hideEmptyColumns":false,"cursorPosition":{"lineNumber":1,"column":1}}],"tabInContext":"b14e923e-32eb-4b78-bbd4-bc5528820f45"},"resultCache":{"executions":{"9011938":{"id":9011938,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"TargetInfo\n| where BuildSessionId in ('5eb8311f-9df4-423e-836d-582342634e60', '1667d96c-380e-625f-9d2d-216bc122baad')\n| extend Classification = iif(BuildSessionId == '1667d96c-380e-625f-9d2d-216bc122baad', 'Source', 'Clone')\n| summarize dcount(Result), take_any(*) by UniqueId\n| where dcount_Result > 1\n | top 1 by StartTime desc","timeStarted":1721334744351},"timeEnded":1721334744759,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;f3c186d0-4f4f-459b-976c-587f801acb2c","queryResourceConsumption":{"ExecutionTime":0.296884,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":116079,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":27990310,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.5937500","kernel":"00:00:00.0468750","total cpu":"00:00:00.6406250","breakdown":{"query execution":"00:00:00.6250000","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":197658800},"network":{"inter_cluster_total_bytes":40760212,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":13762,"scanned":122,"scanned_min_datetime":"2024-04-20T00:10:26.8886801Z","scanned_max_datetime":"2024-07-18T20:31:36.9157687Z"},"rows":{"total":32417746393,"scanned":413049021},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":122,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1,"table_size":1289}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"94209934":{"id":94209934,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '*\n| take 10\n\n","timeStarted":1722977689451},"timeEnded":1722977689774,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;48fad29d-e224-4fe8-aff8-4d52e9e7f564","queryResourceConsumption":{"ExecutionTime":0.2187487,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":992070,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1406250","kernel":"00:00:00","total cpu":"00:00:00.1406250","breakdown":{"query execution":"00:00:00","query planning":"00:00:00.1406250"}},"memory":{"peak_per_node":16262240},"network":{"inter_cluster_total_bytes":29754,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":162030,"scanned":20420,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:54:43.4063795Z"},"rows":{"total":2251249210565,"scanned":152082440673},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":2,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":6947}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"125757744":{"id":125757744,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let PoolMap = TenantStampsConfig\n| extend TenantStampConfigJSON = parse_json(TenantStampConfigJSON)\n| where EntityType == 'Tenant'\n| evaluate bag_unpack(TenantStampConfigJSON)\n| project Tenant = toupper(TenantName), DefaultComputePool, DefaultValidationComputePool;\nlet OrgMap = Organization\n| project Organization = toupper(OrganizationName), Tenant = toupper(Tenant);\nBuildInfo\n| where PreciseTimeStamp > ago(30d)\n| where BuildEngine =~ 'QuickBuild'\n| where isnotempty(ComputePool)\n| extend Organization = toupper(Organization)\n| lookup kind=leftouter OrgMap on Organization\n| lookup kind=leftouter PoolMap on Tenant\n| where isnotempty(ComputePool) and ComputePool != DefaultValidationComputePool\n| summarize avg(QueueDurationMs*1ms/1m) by bin(PreciseTimeStamp, 1m), ComputePool\n| render timechart\n\n","timeStarted":1720743164014},"timeEnded":1720743165455,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;39c81963-f471-479e-bc60-a50657f37cb8;0de5b1c6-d696-4439-9795-a46ae94e3fb3","queryResourceConsumption":{"ExecutionTime":0.7513686,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":3661237,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":26575266,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.7656250","kernel":"00:00:00.2187500","total cpu":"00:00:01.9843750","breakdown":{"query execution":"00:00:01.9687500","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":48701232},"network":{"inter_cluster_total_bytes":11047616,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":1656,"scanned":841,"scanned_min_datetime":"2024-04-12T16:39:40.2572548Z","scanned_max_datetime":"2024-07-12T00:11:08.2417879Z"},"rows":{"total":33118464,"scanned":7813531},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":117,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":49326,"table_size":2286571}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"169123617":{"id":169123617,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"set query_optimization_costbased_enabled;\nset notruncation;\nset maxmemoryconsumptionperiterator=68719476736;\nset max_memory_consumption_per_query_per_node=68719476736;\nset norequesttimeout=true;\nset query_results_cache_max_age=time(1d);\nset queryconsistency=weak;\nset query_results_cache_per_shard;\nlet stage = 'CloudBuildProd';\nlet period = 1d;\nlet end = now();\nlet start = end - period;\nlet bin = 1d;\ncluster('cbuild.kusto.windows.net').database(stage).CloudBuildLogs\n| where PreciseTimeStamp between (start .. end)\n| search '1D854763722EED29599562F03144D073FA8C9B41'\n| limit 100\n| sort by PreciseTimeStamp desc\n\n","timeStarted":1729795553501},"timeEnded":1729795554724,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;59d8367c-0f0d-44d8-888f-39766123828b;64d04406-5e47-489e-9d88-bffad2afa673","queryResourceConsumption":{"ExecutionTime":0.9540134,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":12043827,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0},"partial_query_results":{"hits":0,"misses":29}},"cpu":{"user":"00:00:00.3125000","kernel":"00:00:00.0156250","total cpu":"00:00:00.3281250","breakdown":{"query execution":"00:00:00.1250000","query planning":"00:00:00.2031250"}},"memory":{"peak_per_node":60549504},"network":{"inter_cluster_total_bytes":984781,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":187368,"scanned":26575,"scanned_min_datetime":"2024-10-23T12:24:46.6050515Z","scanned_max_datetime":"2024-10-24T18:45:42.7511658Z"},"rows":{"total":2539896754589,"scanned":158947943049},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":29,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":100,"table_size":282017}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"204051709":{"id":204051709,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"BuildInfo\n| where PreciseTimeStamp > ago(1d)\n| where BuildQueue == 'Azure_One_OneDCMT_Official'","timeStarted":1722890037943},"timeEnded":1722890059041,"isSuccess":false,"haveCachedResults":true,"failureReason":"Network Error","errorDescription":{"errorMessage":"Network Error","clientRequestId":"Kusto.Web.KWE.Query;69e86347-1210-4c9e-b04c-2daa79e961a1;6450212d-3273-409e-8ac0-45b71843e2db"},"clientActivityId":"Kusto.Web.KWE.Query;69e86347-1210-4c9e-b04c-2daa79e961a1;6450212d-3273-409e-8ac0-45b71843e2db","resultInContext":"0"},"328694341":{"id":328694341,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let BuildInfos = BuildInfo\r\n    | where PreciseTimeStamp > ago(2d)\r\n    | where BuildQueue contains 'git_snrcode2'\r\n    | where ReturnCode == 'Success'\r\n    | where CacheInstance startswith 'air-prod-westus-stdblobl3' or CacheInstance startswith 'mwps12-prod-mw-stdblobl3';\r\nlet CloneBuilds = BuildInfos\r\n    | where ComputeProvider == 'ResourceManager'\r\n    | where Description has 'Cloned Build of '\r\n    | parse Description with * 'Cloned Build of ' * '/build/' SourceBuildId '.' *\r\n    | project BuildId, SourceBuildId;\r\nlet BuildIds = BuildInfos\r\n    | project BuildId\r\n    | where BuildId in (CloneBuilds | project BuildId) or BuildId in (CloneBuilds | project SourceBuildId);\r\nlet Builds = BuildInfos\r\n    | where BuildId in (BuildIds)\r\n    // These filters are about leaving just the things that can be compared (before & after)\r\n    | extend TargetCount = SucceededTargetsCount + FailedTargetsCount + PendingTargetsCount + NotStartedTargetsCount\r\n    | extend CacheHit = CacheHitBuildTargetsCount + CacheHitTestTargetsCount + CacheHitAnalysisTargetsCount\r\n    | extend CacheHitRate = CacheHit * 100.0 / TargetCount\r\n    | extend CacheHitRate = tolong(bin(CacheHitRate, 0.1))\r\n    | project\r\n        PreciseTimeStamp,\r\n        BuildId,\r\n        ComputeProvider,\r\n        PrepareDuration = PrepareDurationMs * 1ms,\r\n        BuildDuration = BuildDurationMs * 1ms,\r\n        CacheHitRate,\r\n        TargetCount,\r\n        CacheHit\r\n    | lookup kind=leftouter CloneBuilds on BuildId\r\n    | extend SourceBuildId = coalesce(SourceBuildId, BuildId)\r\n    | sort by SourceBuildId asc, ComputeProvider asc\r\n    | extend SourceBuildId = iif(SourceBuildId == BuildId, \"\", SourceBuildId);\r\nlet Sample = Builds\r\n    | where isnotempty(SourceBuildId) and ComputeProvider == 'ResourceManager'\r\n    | lookup kind=leftouter Builds on $left.SourceBuildId == $right.BuildId\r\n    // Cases where RM is significantly behind AP\r\n    | where CacheHitRate1 > CacheHitRate and CacheHitRate1 >= 99 and CacheHitRate < 70;\r\nSample","timeStarted":1721334345723},"timeEnded":1721334346064,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;a9e99d57-4d59-4512-a5c9-1d43e4ad47bf;3146de20-92b5-4b48-a9c5-4a739d59229d","queryResourceConsumption":{"ExecutionTime":0.219125,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":94663040,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.1250000","kernel":"00:00:00.1718750","total cpu":"00:00:01.2968750","breakdown":{"query execution":"00:00:01.2656250","query planning":"00:00:00.0312500"}},"memory":{"peak_per_node":63397376},"network":{"inter_cluster_total_bytes":2425826,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":5544,"scanned":288,"scanned_min_datetime":"2024-07-16T10:56:46.4845333Z","scanned_max_datetime":"2024-07-18T20:23:47.0263261Z"},"rows":{"total":164606376,"scanned":1315044},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":48,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":42,"table_size":8573}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"411336163":{"id":411336163,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"BuildOperationEvent\r\n| where PreciseTimeStamp > ago(1h)\r\n| where BuildId == '58458e03-a186-45dd-8bb7-b92cf36c43a4'\r\n\r\n","timeStarted":1722289007325},"timeEnded":1722289008069,"isSuccess":false,"haveCachedResults":true,"failureReason":"'where' operator: Failed to resolve column or scalar expression named 'BuildId'","errorDescription":{"errorMessage":"'where' operator: Failed to resolve column or scalar expression named 'BuildId'","code":"SEM0100","type":"Kusto.Data.Exceptions.SemanticException","clientRequestId":"Kusto.Web.KWE.Query;3b9ec83e-c346-4bc3-9161-316f19d99138;343e8291-5c14-4aba-9049-7edcecc644c6","httpStatusCode":400},"clientActivityId":"Kusto.Web.KWE.Query;3b9ec83e-c346-4bc3-9161-316f19d99138;343e8291-5c14-4aba-9049-7edcecc644c6","resultInContext":"0"},"442471069":{"id":442471069,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| where BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode\n\n","timeStarted":1722977082113},"timeEnded":1722977082948,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;98556f8b-60c2-44e9-8d5a-1472ca221d1f","queryResourceConsumption":{"ExecutionTime":0.719853,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623447780,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1217089395,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.2500000","kernel":"00:00:01.3750000","total cpu":"00:00:13.6250000","breakdown":{"query execution":"00:00:13.6250000","query planning":"00:00:00"}},"memory":{"peak_per_node":4253120},"network":{"inter_cluster_total_bytes":449984,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":4,"table_size":910}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"675896807":{"id":675896807,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nTargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct UniqueId\n\n","timeStarted":1722977389483},"timeEnded":1722977389840,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;c15b661f-3f9a-48fd-90a0-61d9d56d5946","queryResourceConsumption":{"ExecutionTime":0.2973048,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":650787859,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1207524167,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.2656250","kernel":"00:00:01.4375000","total cpu":"00:00:13.7031250","breakdown":{"query execution":"00:00:13.6875000","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4252704},"network":{"inter_cluster_total_bytes":196151,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14081,"scanned":1625,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:49:10.8527400Z"},"rows":{"total":32279193877,"scanned":3629096300},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1584,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":6,"table_size":451}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"770110299":{"id":770110299,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode, Affected\n| where ReturnCode == 'Success' or ReturnCode == 'BuildOrTestFailed'\n| sort by Affected asc, ReturnCode asc,  CloudBuildTools asc\n\n","timeStarted":1722977185309},"timeEnded":1722977185971,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;148466fc-1b82-4335-8438-9604eb26641f","queryResourceConsumption":{"ExecutionTime":0.3910501,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623939701,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1218248253,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:11.8125000","kernel":"00:00:01.5937500","total cpu":"00:00:13.4062500","breakdown":{"query execution":"00:00:13.4062500","query planning":"00:00:00"}},"memory":{"peak_per_node":5308336},"network":{"inter_cluster_total_bytes":552978,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":65,"table_size":14635}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"779510071":{"id":779510071,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '* '\\': ' MsBuildDropUrl\n| take 10\n\n","timeStarted":1722977704480},"timeEnded":1722977704844,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;03933b70-6be3-4d22-a796-b69fc9d3bb18","queryResourceConsumption":{"ExecutionTime":0.2343252,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":2211387,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1406250","kernel":"00:00:00.0156250","total cpu":"00:00:00.1562500","breakdown":{"query execution":"00:00:00.0156250","query planning":"00:00:00.1406250"}},"memory":{"peak_per_node":15218928},"network":{"inter_cluster_total_bytes":32514,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":162004,"scanned":20393,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:54:56.8751068Z"},"rows":{"total":2251282511009,"scanned":152101681406},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":2,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":8244}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"796372986":{"id":796372986,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nlet MsbuildTools = CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '* '\\': ' MsBuildDropUrl\n| distinct BuildId, MsBuildDropUrl;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| lookup kind=leftouter MsbuildTools on BuildId\n| summarize countif(Affected), count() by MsBuildDropUrl\n\n","timeStarted":1722977749904},"timeEnded":1722977752796,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;b69cb7b5-5b58-47bb-96a7-c7970a529ab3","queryResourceConsumption":{"ExecutionTime":2.7672015,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":55602767768,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1217069951,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:03:22.6562500","kernel":"00:00:25.2500000","total cpu":"00:03:47.9062500","breakdown":{"query execution":"00:03:47.8906250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":236177792},"network":{"inter_cluster_total_bytes":256315000,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":176963,"scanned":22030,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:55:54.4267917Z"},"rows":{"total":2283674104078,"scanned":155723230397},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":43,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":7,"table_size":910}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"934739861":{"id":934739861,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"TargetInfo\n| where BuildSessionId in ('5eb8311f-9df4-423e-836d-582342634e60', '1667d96c-380e-625f-9d2d-216bc122baad')\n| extend Classification = iif(BuildSessionId == '1667d96c-380e-625f-9d2d-216bc122baad', 'Source', 'Clone')\n| summarize dcount(Result), take_any(*) by UniqueId\n| where dcount_Result > 1\n ","timeStarted":1721334693948},"timeEnded":1721334698937,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;43fd638d-a709-404f-8227-bb29dd4222af","queryResourceConsumption":{"ExecutionTime":4.3848354,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":116079,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":23866558,"missbytes":10019142,"retrievebytes":302229073},"bypassbytes":0}},"cpu":{"user":"00:00:01.4531250","kernel":"00:00:00.4218750","total cpu":"00:00:01.8750000","breakdown":{"query execution":"00:00:01.8593750","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":134162048},"network":{"inter_cluster_total_bytes":47151395,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":13762,"scanned":122,"scanned_min_datetime":"2024-04-20T00:10:26.8886801Z","scanned_max_datetime":"2024-07-18T20:31:36.9157687Z"},"rows":{"total":32417746393,"scanned":413049021},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":122,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1644,"table_size":2180360}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"1019179849":{"id":1019179849,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| take 100\n\n","timeStarted":1722977635926},"timeEnded":1722977636288,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;e30b5c39-744a-4e91-b225-d1766420e756","queryResourceConsumption":{"ExecutionTime":0.2499192,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":17032820,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1875000","kernel":"00:00:00","total cpu":"00:00:00.1875000","breakdown":{"query execution":"00:00:00.0468750","query planning":"00:00:00.1406250"}},"memory":{"peak_per_node":15868768},"network":{"inter_cluster_total_bytes":291839,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":162146,"scanned":20539,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:53:47.3889507Z"},"rows":{"total":2251147049764,"scanned":152011462201},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":11,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":100,"table_size":66518}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"1034533348":{"id":1034533348,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"BuildInfo\r\n| where PreciseTimeStamp > ago(1h)\r\n| take 100","timeStarted":1722288945875},"timeEnded":1722288966979,"isSuccess":false,"haveCachedResults":true,"failureReason":"Network Error","errorDescription":{"errorMessage":"Network Error","clientRequestId":"Kusto.Web.KWE.Query;3b9ec83e-c346-4bc3-9161-316f19d99138;71d41ff3-2dab-46cb-82b3-e0d4b1d1e04a"},"clientActivityId":"Kusto.Web.KWE.Query;3b9ec83e-c346-4bc3-9161-316f19d99138;71d41ff3-2dab-46cb-82b3-e0d4b1d1e04a","resultInContext":"0"},"1171026079":{"id":1171026079,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"cluster('cbuild.kusto.windows.net').database('CloudBuildCI').CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Namespace == 'qcijubayard'\n| search '373a3e688c9de38e' or 'tse-cbci-westus-defaultblobl3' or 'BlobCacheTokens' or 'BlobL3Url'\n| where Message !has 'new known secrets'","timeStarted":1721773899256},"timeEnded":1721773899905,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;a36fe82c-cf78-441c-aa2f-c33d914a2dd7;946f30fc-f915-4256-8fa4-419d54fdf738","queryResourceConsumption":{"ExecutionTime":0.4374028,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":325104948,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.3437500","kernel":"00:00:00.3750000","total cpu":"00:00:01.7187500","breakdown":{"query execution":"00:00:01.7031250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4227936},"network":{"inter_cluster_total_bytes":2409213,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":1728,"scanned":194,"scanned_min_datetime":"2024-07-22T10:13:43.6585197Z","scanned_max_datetime":"2024-07-23T22:30:40.1162413Z"},"rows":{"total":3356777283,"scanned":117230415},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":194,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":875,"table_size":496081}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"1178106244":{"id":1178106244,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"TargetInfo\n| where BuildSessionId in ('5eb8311f-9df4-423e-836d-582342634e60', '1667d96c-380e-625f-9d2d-216bc122baad')\n| extend Classification = iif(BuildSessionId == '1667d96c-380e-625f-9d2d-216bc122baad', 'Source', 'Clone')\n| summarize dcount(Result), take_any(*) by UniqueId\n| where dcount_Result > 1\n | top 10 by StartTime desc","timeStarted":1721334752677},"timeEnded":1721334753102,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;d744beaa-030c-422d-8abc-d8f41323b259","queryResourceConsumption":{"ExecutionTime":0.2973204,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":116079,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":27990310,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.9375000","kernel":"00:00:00.0312500","total cpu":"00:00:00.9687500","breakdown":{"query execution":"00:00:00.9375000","query planning":"00:00:00.0312500"}},"memory":{"peak_per_node":218034384},"network":{"inter_cluster_total_bytes":42473580,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":13762,"scanned":122,"scanned_min_datetime":"2024-04-20T00:10:26.8886801Z","scanned_max_datetime":"2024-07-18T20:31:36.9157687Z"},"rows":{"total":32417746393,"scanned":413049021},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":122,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":12957}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"1298023231":{"id":1298023231,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"cluster('cbuild.kusto.windows.net').database('CloudBuildCI').CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Namespace == 'qcijubayard'\n| search '373a3e688c9de38e'// or 'tse-cbci-westus-defaultblobl3' or 'BlobCacheTokens' or 'BlobL3Url'\n| where Message !has 'new known secrets'","timeStarted":1721773954027},"timeEnded":1721773954287,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;a36fe82c-cf78-441c-aa2f-c33d914a2dd7;a9a716aa-975e-46e8-9ebf-6888a5227f76","queryResourceConsumption":{"ExecutionTime":0.1406276,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":7407730,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1406250","kernel":"00:00:00.0312500","total cpu":"00:00:00.1718750","breakdown":{"query execution":"00:00:00.1718750","query planning":"00:00:00"}},"memory":{"peak_per_node":4224832},"network":{"inter_cluster_total_bytes":99253,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":1728,"scanned":194,"scanned_min_datetime":"2024-07-22T10:13:43.6585197Z","scanned_max_datetime":"2024-07-23T22:30:40.1162413Z"},"rows":{"total":3356777283,"scanned":117230415},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":194,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":0,"table_size":0}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"1469166509":{"id":1469166509,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize countif(Affected), count() by CloudBuildTools\n| where ReturnCode == 'Success' or ReturnCode == 'BuildOrTestFailed'\n| sort by Affected asc, ReturnCode asc,  CloudBuildTools asc\n\n","timeStarted":1722977241665},"timeEnded":1722977241828,"isSuccess":false,"haveCachedResults":true,"failureReason":"'where' operator: Failed to resolve column or scalar expression named 'ReturnCode'","errorDescription":{"errorMessage":"'where' operator: Failed to resolve column or scalar expression named 'ReturnCode'","code":"SEM0100","type":"Kusto.Data.Exceptions.SemanticException","clientRequestId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;603b8a50-da16-4a63-9fa0-512d553118e5","httpStatusCode":400},"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;603b8a50-da16-4a63-9fa0-512d553118e5","resultInContext":"0"},"1747293704":{"id":1747293704,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"cluster(\"ctest\").database(\"CloudTestProd\").ResourcePoolState\n| where PreciseTimeStamp > ago(30d)\n| where ArmSubscriptionId == \"2ab82c67-48f1-42ca-a817-67f4013eca86\"\n| where PoolId == 'air-prod-westus-default-pool'\n| parse kind=regex SKU with \"Standard_(D|L)\" coreCount:int \"(a|d).*\"\n\n","timeStarted":1721337789080},"timeEnded":1721337811864,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;ef287c4a-e1c6-4b82-a9d5-52f0e566604a","queryResourceConsumption":{"ExecutionTime":17.2998154,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0781250","kernel":"00:00:00.0156250","total cpu":"00:00:00.0937500","breakdown":{"query execution":"00:00:00.0781250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":524384},"network":{"inter_cluster_total_bytes":42929383,"cross_cluster_total_bytes":21465617}},"input_dataset_statistics":{"extents":{"total":0,"scanned":0,"scanned_min_datetime":"0001-01-01T00:00:00.0000000Z","scanned_max_datetime":"0001-01-01T00:00:00.0000000Z"},"rows":{"total":0,"scanned":0},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":0,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":21434,"table_size":19534123}],"cross_cluster_resource_usage":{"https://ctest.kusto.windows.net/":{"cache":{"shards":{"hot":{"hitbytes":1509246355,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":3683124976,"missbytes":1054556887,"retrievebytes":12758234280},"bypassbytes":0}},"cpu":{"user":"00:00:26.4687500","kernel":"00:00:20.2031250","total cpu":"00:00:46.6718750","breakdown":{"query execution":"00:00:46.6718750","query planning":"00:00:00"}},"memory":{"peak_per_node":20904800},"network":{"inter_cluster_total_bytes":63445223,"cross_cluster_total_bytes":0}}}},"resultInContext":"0"},"1893916548":{"id":1893916548,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let _stage = 'CloudBuildProd';\nlet _start = ago(1d);\nlet _end = now();\ndatabase(_stage).BuildInfo\n| where PreciseTimeStamp between (_start .. _end)\n| where Requester !startswith \"Validate\"\n| where InProbation != 1\n| where OwnerStampId == \"DM_S10\"\n| make-series count() on PreciseTimeStamp in range (_start, _end, 30m) by ReturnCode | render timechart","timeStarted":1721441004574},"timeEnded":1721441005945,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;ef5041f2-d985-4d5b-ac66-cf7607bf0cbf","queryResourceConsumption":{"ExecutionTime":0.8142191,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":2219822,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1093750","kernel":"00:00:00.0156250","total cpu":"00:00:00.1250000","breakdown":{"query execution":"00:00:00.0781250","query planning":"00:00:00.0468750"}},"memory":{"peak_per_node":4213440},"network":{"inter_cluster_total_bytes":76498,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":922,"scanned":32,"scanned_min_datetime":"2024-07-18T18:37:20.0959981Z","scanned_max_datetime":"2024-07-20T01:59:37.7207718Z"},"rows":{"total":27452998,"scanned":110589},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":32,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":6,"table_size":4877}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"1902417447":{"id":1902417447,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '*\n| summarize count()\n\n","timeStarted":1722977683644},"timeEnded":1722977685462,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;ac641711-aa0b-4546-a091-dd4aca029ff5","queryResourceConsumption":{"ExecutionTime":1.7045947,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":54944676655,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:03:08.9843750","kernel":"00:01:04.1093750","total cpu":"00:04:13.0937500","breakdown":{"query execution":"00:04:12.9531250","query planning":"00:00:00.1406250"}},"memory":{"peak_per_node":26749216},"network":{"inter_cluster_total_bytes":90605,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":162030,"scanned":20421,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:54:48.3711282Z"},"rows":{"total":2251237475814,"scanned":152080413177},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":20421,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1,"table_size":8}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"2059575985":{"id":2059575985,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode, Affected\n| where ReturnCode == 'Success' or ReturnCode == 'BuildOrTestFailed'\n| sort by CloudBuildTools asc, ReturnCode asc, Affected asc\n\n","timeStarted":1722977144839},"timeEnded":1722977145383,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;a408ed9f-f74a-4a7f-acb4-35cdbc2155d2","queryResourceConsumption":{"ExecutionTime":0.4223146,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623917082,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1218477752,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.2500000","kernel":"00:00:01.5937500","total cpu":"00:00:13.8437500","breakdown":{"query execution":"00:00:13.8281250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":7375120},"network":{"inter_cluster_total_bytes":532812,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":65,"table_size":14635}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-2141744260":{"id":-2141744260,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let lookback = ago(7d);\ncluster(\"ctest\").database(\"CloudTestProd\").ResourcePoolState\n| where PreciseTimeStamp > lookback\n| where ArmSubscriptionId == \"2ab82c67-48f1-42ca-a817-67f4013eca86\"\n| parse kind=regex SKU with \"Standard_(D|L)\" coreCount:int \"(a|d).*\"\n| summarize Starting=sum(Starting * coreCount), Ready=sum(Ready * coreCount), Allocated=sum(Allocated * coreCount), PendingReimage=sum(PendingReimage * coreCount), PendingReturn=sum(PendingReturn * coreCount), NotReady=sum(NotReady * coreCount) by bin(PreciseTimeStamp, 2m)\n| render stackedareachart","timeStarted":1721337650861},"timeEnded":1721337652851,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;015be3c2-5cfb-4f42-9155-801db6d3641e","queryResourceConsumption":{"ExecutionTime":0.5160545,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0156250","kernel":"00:00:00","total cpu":"00:00:00.0156250","breakdown":{"query execution":"00:00:00.0156250","query planning":"00:00:00"}},"memory":{"peak_per_node":524384},"network":{"inter_cluster_total_bytes":578618,"cross_cluster_total_bytes":290590}},"input_dataset_statistics":{"extents":{"total":0,"scanned":0,"scanned_min_datetime":"0001-01-01T00:00:00.0000000Z","scanned_max_datetime":"0001-01-01T00:00:00.0000000Z"},"rows":{"total":0,"scanned":0},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":0,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":5038,"table_size":287166}],"cross_cluster_resource_usage":{"https://ctest.kusto.windows.net/":{"cache":{"shards":{"hot":{"hitbytes":228569661,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.6093750","kernel":"00:00:00.2968750","total cpu":"00:00:01.9062500","breakdown":{"query execution":"00:00:01.9062500","query planning":"00:00:00"}},"memory":{"peak_per_node":8922944},"network":{"inter_cluster_total_bytes":894346,"cross_cluster_total_bytes":0}}}},"resultInContext":"1"},"-1947538453":{"id":-1947538453,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"","timeStarted":1721337677750},"timeEnded":1721337685832,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;df6f57b9-ab02-414c-aeb4-115bc34b4943","queryResourceConsumption":{"ExecutionTime":7.6160172,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00","kernel":"00:00:00","total cpu":"00:00:00","breakdown":{"query execution":"00:00:00","query planning":"00:00:00"}},"memory":{"peak_per_node":6300416},"network":{"inter_cluster_total_bytes":2466348,"cross_cluster_total_bytes":1234489}},"input_dataset_statistics":{"extents":{"total":0,"scanned":0,"scanned_min_datetime":"0001-01-01T00:00:00.0000000Z","scanned_max_datetime":"0001-01-01T00:00:00.0000000Z"},"rows":{"total":0,"scanned":0},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":0,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":21597,"table_size":1231029}],"cross_cluster_resource_usage":{"https://ctest.kusto.windows.net/":{"cache":{"shards":{"hot":{"hitbytes":236326917,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":702833984,"missbytes":29211725,"retrievebytes":405536768},"bypassbytes":0}},"cpu":{"user":"00:00:06.7656250","kernel":"00:00:00.9843750","total cpu":"00:00:07.7500000","breakdown":{"query execution":"00:00:07.7500000","query planning":"00:00:00"}},"memory":{"peak_per_node":13281328},"network":{"inter_cluster_total_bytes":3731184,"cross_cluster_total_bytes":0}}}},"resultInContext":"1"},"-1361291452":{"id":-1361291452,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"cluster(\"ctest\").database(\"CloudTestProd\").ResourcePoolState\n| where PreciseTimeStamp > ago(30d)\n| where ArmSubscriptionId == \"2ab82c67-48f1-42ca-a817-67f4013eca86\"\n| parse kind=regex SKU with \"Standard_(D|L)\" coreCount:int \"(a|d).*\"\n| take 200\n\n","timeStarted":1721337755467},"timeEnded":1721337756041,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;00e853f2-b11a-4b05-810e-3de4b14dc7c1","queryResourceConsumption":{"ExecutionTime":0.2504822,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00","kernel":"00:00:00","total cpu":"00:00:00","breakdown":{"query execution":"00:00:00","query planning":"00:00:00"}},"memory":{"peak_per_node":524384},"network":{"inter_cluster_total_bytes":403751,"cross_cluster_total_bytes":204573}},"input_dataset_statistics":{"extents":{"total":0,"scanned":0,"scanned_min_datetime":"0001-01-01T00:00:00.0000000Z","scanned_max_datetime":"0001-01-01T00:00:00.0000000Z"},"rows":{"total":0,"scanned":0},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":0,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":200,"table_size":181032}],"cross_cluster_resource_usage":{"https://ctest.kusto.windows.net/":{"cache":{"shards":{"hot":{"hitbytes":4640245,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0312500","kernel":"00:00:00","total cpu":"00:00:00.0312500","breakdown":{"query execution":"00:00:00.0312500","query planning":"00:00:00"}},"memory":{"peak_per_node":2770080},"network":{"inter_cluster_total_bytes":609780,"cross_cluster_total_bytes":0}}}},"resultInContext":"0"},"-2096376856":{"id":-2096376856,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"| take 200","timeStarted":1721337787170},"timeEnded":1721337787315,"isSuccess":false,"haveCachedResults":true,"failureReason":"The incomplete fragment is unexpected.","errorDescription":{"errorMessage":"The incomplete fragment is unexpected.","line":1,"pos":1,"token":"|","code":"SYN0002","type":"Kusto.Data.Exceptions.SyntaxException","clientRequestId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;7dffd618-12f6-412d-811f-571df25048de","httpStatusCode":400},"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;7dffd618-12f6-412d-811f-571df25048de","resultInContext":"0"},"-1479733621":{"id":-1479733621,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let _stage = 'CloudBuildProd';\nlet _start = ago(1d);\nlet _end = now();\ndatabase(_stage).BuildInfo\n| where PreciseTimeStamp between (_start .. _end)\n| where Requester !startswith \"Validate\"\n| where InProbation != 1\n| where ReturnCode == \"CacheTargetMissInSetup\"\n| where OwnerStampId == \"DM_S10\"\n| make-series count() on PreciseTimeStamp in range (_start, _end, 30m) by ReturnCode | render timechart","timeStarted":1721440994057},"timeEnded":1721440998114,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;e42823cb-9770-4175-931b-9e515a6f014c","queryResourceConsumption":{"ExecutionTime":3.6157391,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":1604165,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0312500","kernel":"00:00:00","total cpu":"00:00:00.0312500","breakdown":{"query execution":"00:00:00.0156250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":6302560},"network":{"inter_cluster_total_bytes":57195,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":922,"scanned":37,"scanned_min_datetime":"2024-07-18T18:37:20.0959981Z","scanned_max_datetime":"2024-07-20T01:59:37.7207718Z"},"rows":{"total":27452998,"scanned":110776},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":37,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1,"table_size":818}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"-384088609":{"id":-384088609,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nTargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| project PreciseTimeStamp, BuildSessionId\n| sort by PreciseTimeStamp asc\n\n","timeStarted":1722976977360},"timeEnded":1722976977946,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;0707f150-d2aa-4fc8-bf1c-67ae78c62014","queryResourceConsumption":{"ExecutionTime":0.4379439,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":637630842,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1205437382,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.1093750","kernel":"00:00:01.8125000","total cpu":"00:00:13.9218750","breakdown":{"query execution":"00:00:13.9062500","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4252704},"network":{"inter_cluster_total_bytes":691265,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14073,"scanned":1617,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:42:24.1347727Z"},"rows":{"total":32275556160,"scanned":3625458583},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1578,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":2520,"table_size":113400}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-776766260":{"id":-776766260,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| where BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools\n\n","timeStarted":1722977073975},"timeEnded":1722977075066,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;d3025d98-500e-4455-a2aa-2ccefe25fe05","queryResourceConsumption":{"ExecutionTime":0.9851492,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623351073,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1217293725,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.9375000","kernel":"00:00:01.5312500","total cpu":"00:00:14.4687500","breakdown":{"query execution":"00:00:14.4687500","query planning":"00:00:00"}},"memory":{"peak_per_node":8435504},"network":{"inter_cluster_total_bytes":430066,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":3,"table_size":633}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-698279595":{"id":-698279595,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode, Affected\n\n","timeStarted":1722977094269},"timeEnded":1722977095133,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;9dd820fd-bffc-479e-9388-3ad76c295ab1","queryResourceConsumption":{"ExecutionTime":0.7346633,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623440034,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1217613226,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:11.8750000","kernel":"00:00:01.5781250","total cpu":"00:00:13.4531250","breakdown":{"query execution":"00:00:13.4531250","query planning":"00:00:00"}},"memory":{"peak_per_node":6302608},"network":{"inter_cluster_total_bytes":1360539,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":559,"table_size":131196}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1923366056":{"id":-1923366056,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode, Affected\n| where ReturnCode == 'Success' or ReturnCode == 'BuildOrTestFailed'\n\n","timeStarted":1722977120639},"timeEnded":1722977122040,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;dc820daa-32d0-4dd5-9db2-3235f89b0855","queryResourceConsumption":{"ExecutionTime":1.2663987,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623949264,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1218462872,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.6250000","kernel":"00:00:01.4062500","total cpu":"00:00:14.0312500","breakdown":{"query execution":"00:00:14.0156250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":5305456},"network":{"inter_cluster_total_bytes":550311,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":65,"table_size":14570}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-432384975":{"id":-432384975,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize count() by CloudBuildTools, ReturnCode, Affected\n| where ReturnCode == 'Success' or ReturnCode == 'BuildOrTestFailed'\n| sort by CloudBuildTools asc, Affected asc, ReturnCode asc\n\n","timeStarted":1722977173637},"timeEnded":1722977174229,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;768965d0-6ca4-41b7-8ae8-7dbfcf7becc4","queryResourceConsumption":{"ExecutionTime":0.484819,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":623924266,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1218495566,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.3125000","kernel":"00:00:01.6718750","total cpu":"00:00:13.9843750","breakdown":{"query execution":"00:00:13.9531250","query planning":"00:00:00.0312500"}},"memory":{"peak_per_node":6883216},"network":{"inter_cluster_total_bytes":542757,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14974,"scanned":1658,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:44:08.9231623Z"},"rows":{"total":32304308645,"scanned":3627395567},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":39,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":65,"table_size":14635}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1285358691":{"id":-1285358691,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nTargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| disitnct UniqueId\n\n","timeStarted":1722977387016},"timeEnded":1722977387876,"isSuccess":false,"haveCachedResults":true,"failureReason":"Query operator expected.","errorDescription":{"errorMessage":"Query operator expected.","line":10,"pos":3,"token":"disitnct","code":"SYN0002","type":"Kusto.Data.Exceptions.SyntaxException","clientRequestId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;fb375d33-7b77-4019-abca-28780d47d54f","httpStatusCode":400},"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;fb375d33-7b77-4019-abca-28780d47d54f","resultInContext":"0"},"-254220605":{"id":-254220605,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference '\n| distinct BuildSessionId;\nBuildInfo\n| where PreciseTimeStamp > s\n| extend Affected = BuildId in (AffectedBuilds)\n| summarize countif(Affected), count() by CloudBuildTools\n\n","timeStarted":1722977599894},"timeEnded":1722977601202,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;588e3298-c707-44ac-a0e8-2ff1f8e8c7d2","queryResourceConsumption":{"ExecutionTime":0.5009326,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":627331986,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1217113935,"missbytes":54067,"retrievebytes":262144},"bypassbytes":0}},"cpu":{"user":"00:00:12.3125000","kernel":"00:00:01.5156250","total cpu":"00:00:13.8281250","breakdown":{"query execution":"00:00:13.8125000","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":5782288},"network":{"inter_cluster_total_bytes":514484,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14986,"scanned":1670,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:52:53.2756265Z"},"rows":{"total":32309681755,"scanned":3632768677},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":43,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":58,"table_size":12640}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1458116969":{"id":-1458116969,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '* '\\': ' MsBuildDropUrl\n| project BuildId, MsBuildDropUrl\n| take 10\n\n","timeStarted":1722977717952},"timeEnded":1722977718285,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;c44c605d-7a78-4f5d-8869-afb8d88cd514","queryResourceConsumption":{"ExecutionTime":0.218751,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":493245,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1718750","kernel":"00:00:00","total cpu":"00:00:00.1718750","breakdown":{"query execution":"00:00:00.0468750","query planning":"00:00:00.1250000"}},"memory":{"peak_per_node":15735392},"network":{"inter_cluster_total_bytes":12536,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":161980,"scanned":20367,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:55:07.3565714Z"},"rows":{"total":2251305577208,"scanned":152093788430},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":2,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":1690}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-102693390":{"id":-102693390,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"CloudBuildLogs\n| where PreciseTimeStamp > ago(1d)\n| where Message has 'cloudbuild.tools.msbuild/'\n| parse Message with '[BuildId: 'BuildId', '* '\\': ' MsBuildDropUrl\n| distinct  BuildId, MsBuildDropUrl\n\n","timeStarted":1722977724299},"timeEnded":1722977727733,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;f2df4da0-ada0-4904-afa8-f34d1bec40e9","queryResourceConsumption":{"ExecutionTime":1.0475462,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":54977558806,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:03:10.7187500","kernel":"00:00:22.6562500","total cpu":"00:03:33.3750000","breakdown":{"query execution":"00:03:33.2500000","query planning":"00:00:00.1250000"}},"memory":{"peak_per_node":199939904},"network":{"inter_cluster_total_bytes":257216098,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":161986,"scanned":20373,"scanned_min_datetime":"2024-08-05T09:45:44.1760169Z","scanned_max_datetime":"2024-08-06T20:55:27.7560654Z"},"rows":{"total":2251319069706,"scanned":152107280928},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":20373,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":96229,"table_size":16262533}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1411836690":{"id":-1411836690,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n\n","timeStarted":1722977958609},"timeEnded":1722977960669,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;0e802ebd-9462-48e7-95bb-150f1bd18f60","queryResourceConsumption":{"ExecutionTime":0.4691198,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":3215807951,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1923459121,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:16.6875000","kernel":"00:00:03.9375000","total cpu":"00:00:20.6250000","breakdown":{"query execution":"00:00:20.6093750","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":13206912},"network":{"inter_cluster_total_bytes":22013122,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:59:22.4732320Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1584,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":2544,"table_size":4600886}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-968295527":{"id":-968295527,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| project CompletionDescription\n\n","timeStarted":1722977969447},"timeEnded":1722977969955,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;464f2c71-77b7-45c6-99ca-6eee60777f4e","queryResourceConsumption":{"ExecutionTime":0.2971984,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":756869244,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1253061801,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:12.3750000","kernel":"00:00:01.8750000","total cpu":"00:00:14.2500000","breakdown":{"query execution":"00:00:14.2343750","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4252688},"network":{"inter_cluster_total_bytes":4953812,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:59:22.4732320Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1584,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":2544,"table_size":1208540}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1128951539":{"id":-1128951539,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| parse CompletionDescription with * '['CsProjPath']'\n| summarize count() by CsProjPath\n\n","timeStarted":1722977998879},"timeEnded":1722977999255,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;ca781c5f-4801-43da-a3d1-a979af7abf98","queryResourceConsumption":{"ExecutionTime":0.2655403,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":756858166,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1253225687,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:11.3437500","kernel":"00:00:01.3750000","total cpu":"00:00:12.7187500","breakdown":{"query execution":"00:00:12.7031250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":5310192},"network":{"inter_cluster_total_bytes":189153,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:59:22.4732320Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1584,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1,"table_size":9}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-2105413991":{"id":-2105413991,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| parse CompletionDescription with * '['CsProjPath']'\n| take 10\n\n","timeStarted":1722978005316},"timeEnded":1722978005517,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;71b8c330-0ef7-4fcc-ae64-093357399d1a","queryResourceConsumption":{"ExecutionTime":0.0937529,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":22581727,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":7603910,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.2031250","kernel":"00:00:00.0312500","total cpu":"00:00:00.2343750","breakdown":{"query execution":"00:00:00.2187500","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4225696},"network":{"inter_cluster_total_bytes":190330,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:57:43.1152449Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":11,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":18126}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1717109436":{"id":-1717109436,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| project CompletionDescription\n| parse CompletionDescription with * '['CsProjPath']'\n| take 10\n\n","timeStarted":1722978012700},"timeEnded":1722978012919,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;982cd055-65af-4970-9361-03fdb17f7a17","queryResourceConsumption":{"ExecutionTime":0.0937753,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":9618317,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":7603910,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.2968750","kernel":"00:00:00.0156250","total cpu":"00:00:00.3125000","breakdown":{"query execution":"00:00:00.2968750","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":4235440},"network":{"inter_cluster_total_bytes":125801,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:57:43.1152449Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":11,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":4753}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-489979201":{"id":-489979201,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| project CompletionDescription\n| parse CompletionDescription with * '['CsProjPath'.csproj]'*\n| take 10\n\n","timeStarted":1722978027199},"timeEnded":1722978027421,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;d823e0c4-6aaa-4a88-9985-182f5d90a16f","queryResourceConsumption":{"ExecutionTime":0.1093208,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":9618317,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":7603910,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.1875000","kernel":"00:00:00.0156250","total cpu":"00:00:00.2031250","breakdown":{"query execution":"00:00:00.1718750","query planning":"00:00:00.0312500"}},"memory":{"peak_per_node":4229152},"network":{"inter_cluster_total_bytes":126506,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:57:43.1152449Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":11,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10,"table_size":5930}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1063873138":{"id":-1063873138,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"BuildInfo\r\n| where PreciseTimeStamp > ago(30d)\r\n| where BuildEngine =~ 'QuickBuild'\r\n| where SourceControlFriendlyName == 'msdyneng_FinOps_ApplicationSuit'\r\n| project PreciseTimeStamp, ComputeProvider, ComputePool, Organization, SourceControlFriendlyName, BuildQueue, OwnerStampId, BuildId, QueueTime, StartTime, EndTime, BuildDuration=BuildDurationMs*1ms, QueueDuration=QueueDurationMs*1ms, PrepareDuration = PrepareDurationMs*1ms, EndToEndDuration=EndToEndDurationMs*1ms, BuildersCount, BuilderDurationMsByBuilderId, InProbation, Description\r\n| where isnotempty(BuilderDurationMsByBuilderId)\r\n| extend BuilderDurationMsByBuilderId = parse_json(BuilderDurationMsByBuilderId)\r\n| mv-expand BuilderDurationMsByBuilderId\r\n| evaluate bag_unpack(BuilderDurationMsByBuilderId)\r\n| extend BuilderDurationMs = iif(BuilderDurationMs*1ms > BuildDuration, BuilderDurationMs/10000 * 1ms, BuilderDurationMs*1ms)\r\n| extend AllocationDuration = PrepareDuration + min_of(BuilderDurationMs, BuildDuration)\r\n// The time series is from the start of the allocation to the end of the allocation, but the allocation starts at the time the build actually started queueing\r\n| extend Ts = range(QueueTime, QueueTime + AllocationDuration, 1m)\r\n| project Organization, ComputeProvider, BuildQueue, ComputePool, SourceControlFriendlyName, Ts, BuilderId\r\n| mv-expand Ts to typeof(datetime)\r\n| summarize Count = dcount(BuilderId) by SourceControlFriendlyName, bin(Ts, 1m)\r\n| extend Ts = Ts - startofweek(Ts)\r\n| summarize avg(Count), max(Count), min(Count) by SourceControlFriendlyName, Ts\r\n| render timechart \r\n\r\n","timeStarted":1720630562476},"timeEnded":1720630563184,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;07e2f065-47c0-43d7-8421-44497e24b140;d0f9b5a8-abf6-44e4-9797-4d46b1edf64a","queryResourceConsumption":{"ExecutionTime":0.4883759,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":20156149,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":228298126,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.7656250","kernel":"00:00:00.0156250","total cpu":"00:00:01.7812500"},"memory":{"peak_per_node":224619728},"network":{"inter_cluster_total_bytes":53027171,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":889,"scanned":74,"scanned_min_datetime":"2024-06-10T09:03:12.3525081Z","scanned_max_datetime":"2024-07-10T16:55:22.3060267Z"},"rows":{"total":27424257,"scanned":2133255},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":74,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":10080,"table_size":675360}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"-1060792317":{"id":-1060792317,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"BuildInfo\r\n| where PreciseTimeStamp > ago(1d)\r\n| where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\r\n| project ComputeProvider, BuildQueue, StartTime, QueueTime\r\n| extend QueueDuration = StartTime - QueueTime\r\n| sort by QueueTime asc\r\n| extend InterarrivalTime = QueueTime - prev(QueueTime, 1)\r\n| summarize count() by bin(InterarrivalTime, 1s)\r\n| sort by InterarrivalTime asc\r\n| where InterarrivalTime < 6h\r\n| render columnchart ","timeStarted":1721333966278},"timeEnded":1721333966422,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;d5539cdc-8573-4d42-9e0a-28ab32149d7e;ba2c6fa7-8507-479d-a575-34b3f4230da1","queryResourceConsumption":{"ExecutionTime":0.0312497,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":2826514,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0781250","kernel":"00:00:00.0156250","total cpu":"00:00:00.0937500","breakdown":{"query execution":"00:00:00.0937500","query planning":"00:00:00"}},"memory":{"peak_per_node":4209200},"network":{"inter_cluster_total_bytes":108192,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":922,"scanned":44,"scanned_min_datetime":"2024-07-17T09:46:37.5020734Z","scanned_max_datetime":"2024-07-18T20:18:38.4257965Z"},"rows":{"total":27433992,"scanned":124425},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":44,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":272,"table_size":4896}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"-1721267358":{"id":-1721267358,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let Dataset = BuildInfo\n    | where PreciseTimeStamp > ago(3d)\n    | where BuildQueue contains 'git_snrcode2'\n    | where ReturnCode == 'Success'\n    | where CacheInstance startswith 'air-prod-westus-stdblobl3' or CacheInstance startswith 'mwps12-prod-mw-stdblobl3'\n    // These filters are about leaving just the things that can be compared (before & after)\n    | extend TargetCount = SucceededTargetsCount + FailedTargetsCount + PendingTargetsCount + NotStartedTargetsCount\n    | extend CacheHit = CacheHitBuildTargetsCount + CacheHitTestTargetsCount + CacheHitAnalysisTargetsCount\n    | extend CacheHitRate = CacheHit * 100.0 / TargetCount\n    | extend CacheHitRate = tolong(bin(CacheHitRate, 0.1))\n    | project\n        PreciseTimeStamp,\n        BuildId,\n        ComputeProvider,\n        BuildDurationMs,\n        CacheHitRate,\n        TargetCount,\n        CacheHit;\nlet Builds = Dataset | project BuildId;\n// PDF of cache hit rate\nlet HistPlot = Dataset \n    | summarize Count = count() by ComputeProvider, bin(CacheHitRate, 0.2);\nlet HistPlotNorm = HistPlot | summarize Normalization = sum(Count) by ComputeProvider;\nHistPlot\n| lookup kind=leftouter HistPlotNorm on ComputeProvider\n| extend Probability = toreal(Count) / Normalization * 100.0\n| project ComputeProvider, CacheHitRate, Probability\n| render columnchart with (xcolumn=CacheHitRate, ycolumns=Probability, series=ComputeProvider);\n\n","timeStarted":1721334202276},"timeEnded":1721334202387,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;a9e99d57-4d59-4512-a5c9-1d43e4ad47bf;5613832b-1c18-4da3-a41d-101d36fd420a","queryResourceConsumption":{"ExecutionTime":0.0468579,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":15446016,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":3970724,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.2187500","kernel":"00:00:00.0312500","total cpu":"00:00:00.2500000","breakdown":{"query execution":"00:00:00.2343750","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":5105120},"network":{"inter_cluster_total_bytes":174630,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":1846,"scanned":98,"scanned_min_datetime":"2024-07-15T13:03:33.4244061Z","scanned_max_datetime":"2024-07-18T20:21:07.6566482Z"},"rows":{"total":54868412,"scanned":605598},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":98,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":129,"table_size":3879}],"cross_cluster_resource_usage":{}},"resultInContext":"1"},"-2075094310":{"id":-2075094310,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"cluster(\"ctest\").database(\"CloudTestProd\").ResourcePoolState\n| where PreciseTimeStamp > ago(30d)\n| where ArmSubscriptionId == \"2ab82c67-48f1-42ca-a817-67f4013eca86\"\n| where PoolId == 'air-prod-westus-default-pool'\n| parse kind=regex SKU with \"Standard_(D|L)\" coreCount:int \"(a|d).*\"\n| summarize Starting=sum(Starting * coreCount), Ready=sum(Ready * coreCount), Allocated=sum(Allocated * coreCount), PendingReimage=sum(PendingReimage * coreCount), PendingReturn=sum(PendingReturn * coreCount), NotReady=sum(NotReady * coreCount) by bin(PreciseTimeStamp, 2m)\n| render stackedareachart","timeStarted":1721337836221},"timeEnded":1721337860906,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;966ebb36-b5a8-46a8-91dc-06cbd9194fd6;5b99d7da-6c2b-49d4-a2ac-b46711b3ea89","queryResourceConsumption":{"ExecutionTime":24.014238,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":0,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:00.0156250","kernel":"00:00:00.0156250","total cpu":"00:00:00.0312500","breakdown":{"query execution":"00:00:00.0156250","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":6299328},"network":{"inter_cluster_total_bytes":2440006,"cross_cluster_total_bytes":1221302}},"input_dataset_statistics":{"extents":{"total":0,"scanned":0,"scanned_min_datetime":"0001-01-01T00:00:00.0000000Z","scanned_max_datetime":"0001-01-01T00:00:00.0000000Z"},"rows":{"total":0,"scanned":0},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":0,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":21366,"table_size":1217862}],"cross_cluster_resource_usage":{"https://ctest.kusto.windows.net/":{"cache":{"shards":{"hot":{"hitbytes":401630282,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1255696746,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:01.3906250","kernel":"00:00:00.6093750","total cpu":"00:00:02","breakdown":{"query execution":"00:00:02","query planning":"00:00:00"}},"memory":{"peak_per_node":12073456},"network":{"inter_cluster_total_bytes":3674182,"cross_cluster_total_bytes":0}}}},"resultInContext":"1"},"-1649503437":{"id":-1649503437,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"let s = ago(10d);\nlet Queues = BuildInfo\n    | where PreciseTimeStamp > s\n    | where SourceControlFriendlyName == 'msdata_Database.System_DsMainDev'\n    | distinct BuildQueue;\nlet AffectedBuilds = TargetInfo\n| where PreciseTimeStamp > s\n| where BuildQueue in (Queues)\n| where CompletionDescription has 'Your project does not reference ';\nAffectedBuilds\n| project CompletionDescription\n| parse CompletionDescription with * '['CsProjPath'.csproj]'*\n| summarize count() by CsProjPath\n\n","timeStarted":1722978031062},"timeEnded":1722978031485,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;0ea00bfd-8ad7-4e49-8cf8-2055908a5b6b;8f21395c-ee6b-464c-a988-e1d9a0d445ed","queryResourceConsumption":{"ExecutionTime":0.312864,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":756824271,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":1253478627,"missbytes":0,"retrievebytes":0},"bypassbytes":0}},"cpu":{"user":"00:00:11.9531250","kernel":"00:00:01.6562500","total cpu":"00:00:13.6093750","breakdown":{"query execution":"00:00:13.5937500","query planning":"00:00:00.0156250"}},"memory":{"peak_per_node":5301504},"network":{"inter_cluster_total_bytes":994621,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":14085,"scanned":1629,"scanned_min_datetime":"2024-07-27T10:16:53.7030422Z","scanned_max_datetime":"2024-08-06T20:59:22.4732320Z"},"rows":{"total":32286248904,"scanned":3636151327},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":1584,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":1589,"table_size":200354}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-634250297":{"id":-634250297,"request":{"url":"https://cbuild.kusto.windows.net/","dbName":"CloudBuildProd","queryText":"DominoMessage\n| where PreciseTimeStamp between (ago(5d) .. ago(0d))\n| where eventNumber in (5071)\n| where message has \"odsp-web\" and message has \"_phase:build\"\n| parse message with * \"DX5071: \" Target:string \" Num\" *\n| where Target contains \"file-browser-spo-teams\"\n//| join kind=inner (BuildInfo\n//| where QueueTime between (datetime(2024-10-10 22:50:00)..datetime(2024-10-10 23:30:00))\n//| where BuildQueue startswith \"clonebuild\"\n//| where Requester == \"kyrachang\" | project BuildId) on $left.RelatedActivityId == $right.BuildId\n| extend NumProcesses = todouble(extract(@'NumProcesses: (\\S+)[,.]', 1, message))\n| extend ActualDuration = todouble(extract(@'ActualDurationSec: (\\S+)[,.]', 1, message)) * 1s\n| extend ProcessorUseInPercents = todouble(extract(@'ProcessorUseInPercents: (\\S+)[,.]', 1, message))\n| extend Weight = todouble(extract(@'Weight: (\\S+)[,.]', 1, message))\n| extend DefaultWorkingSetMb = todouble(extract(@'DefaultWorkingSetMb: (\\S+)[,.]', 1, message))\n| extend PeakWorkingSetMb = todouble(extract(@'PeakWorkingSetMb: (\\S+)[,.]', 1, message))\n| extend AverageWorkingSetMb = todouble(extract(@'AverageWorkingSetMb: (\\S+)[,.]', 1, message))\n| extend ExpectedDiskIOInMB = todouble(extract(@'ExpectedDiskIOInMB: (\\S+)[,.]', 1, message))\n| extend ActualDiskIOInMB = todouble(extract(@'ActualDiskIOInMB: (\\S+)[,.]', 1, message))\n| where Target contains \"file-browser-spo-teams \"\n| project MachineFunction, NumProcesses, ActualDuration, ProcessorUseInPercents, Weight, DefaultWorkingSetMb, PeakWorkingSetMb, AverageWorkingSetMb, ExpectedDiskIOInMB, ActualDiskIOInMB\n//| project RelatedActivityId, Machine, ComputeProvider, ActualDuration, ProcessorUseInPercents, Target\n| summarize count(), percentiles(NumProcesses, 50),percentiles(ActualDuration, 50, 80, 95), percentiles(ProcessorUseInPercents, 50, 80, 95), percentiles(DefaultWorkingSetMb, 50), percentiles(AverageWorkingSetMb, 50), percentiles(ExpectedDiskIOInMB, 50), percentiles(ActualDiskIOInMB, 50, 80, 95) by MachineFunction\n\n","timeStarted":1729018245291},"timeEnded":1729018251230,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;e1439243-9d00-4f5e-b6d1-19139e0cf8a2;370ee922-952c-4674-8d3d-c4f3065b91f1","queryResourceConsumption":{"ExecutionTime":5.7755378,"resource_usage":{"cache":{"shards":{"hot":{"hitbytes":64920070629,"missbytes":0,"retrievebytes":0},"cold":{"hitbytes":100153322219,"missbytes":178664073,"retrievebytes":1385870628},"bypassbytes":0}},"cpu":{"user":"00:13:08.7656250","kernel":"00:01:59.8750000","total cpu":"00:15:08.6406250","breakdown":{"query execution":"00:15:08.2031250","query planning":"00:00:00.4375000"}},"memory":{"peak_per_node":163095600},"network":{"inter_cluster_total_bytes":301190,"cross_cluster_total_bytes":0}},"input_dataset_statistics":{"extents":{"total":207517,"scanned":99983,"scanned_min_datetime":"2024-10-10T07:20:23.5796840Z","scanned_max_datetime":"2024-10-15T18:50:43.9785249Z"},"rows":{"total":2714726434279,"scanned":1131495594987},"rowstores":{"scanned_rows":0,"scanned_values_size":0},"shards":{"queries_generic":99983,"queries_specialized":0}},"dataset_statistics":[{"table_row_count":2,"table_size":275}],"cross_cluster_resource_usage":{}},"resultInContext":"0"},"-1574545464":{"id":-1574545464,"request":{"url":"https://icmclusterlb.kustomfa.windows.net/","dbName":"N/A","queryText":".show databases","timeStarted":1729796387733},"timeEnded":1729796387995,"isSuccess":true,"haveCachedResults":true,"clientActivityId":"Kusto.Web.KWE.Query;d8e4ce3d-0233-4d3d-a89f-d3380d59b9d8;113b9afe-4a86-407e-9a08-b45ffce50ef0","resultInContext":"0"}}},"settings":{"enableCodelensOverride":true,"trustedHosts":"","originAllowlist":{"allowlist":""},"includeExtendedSyntax":true,"formatResultData":true,"theme":"Light","timezone":"Etc/UTC","timezoneDisplayName":"UTC","hideEmptyCellInRowExpand":true,"displayGridLevelColoring":true,"language":"en","timeoutInMinutes":60,"adminCommandTimeoutInMinutes":60,"weakConsistency":false,"lazySchemaExploration":false,"liteSchemaExplorationOverride":true,"mouseWheelZoom":true,"emptyWorkspaceOnDeepLinkQuery":true,"closeExpandViewOnClick":false,"alignRightResultNumbers":false,"useBoost":false,"showAllSeriesOnHover":false,"clickableLinks":true,"showUnknownLinkConfirmationDialog":true,"openSuggestionDialogAfterPreviousSuggestionAcceptedOverride":true,"enableWarnings":true,"enableSuggestions":true,"disabledRecommendationCodes":[],"ignoreChartLimits":false,"crossTenantSharingEnabled":false},"gridStateCache":{"states":{}},"globalStateCache":{"ctrlNeededDialogShown":true},"layout":{"windowWidthSizeType":"Large","expandViewLayout":0,"contentViewMode":0,"windowHeightSizeType":"Large","leftPaneSize":"228px","isLeftPaneCollapsed":false,"showNavigationPane":true,"isVisualConfigOpen":false,"enableNewConnectionPane":true,"isNavigationPaneCollapsed":false},"dataProfile":{},"notifications":{"callToActionLastShowMap":{}},"appState":{"isEmptyState":false,"previewPromptDismissed":false,"showPromoBanner":{"kustoDetectiveAgency":true}},"userOwnedVirtualCluster":{"dismissedUpgradesNotifications":{}},"education":{"showTeachingBubbles":{"explorer":false,"landingPageQuickActions":true,"clusterSelection":true,"sourceTypeSelection":true}}},"time":"Thu Oct 24 2024 12:12:58 GMT-0700 (Pacific Daylight Time)"}